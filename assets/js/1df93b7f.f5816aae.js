"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3237,9027],{9027:function(t,i,n){n.r(i),n.d(i,{ColorType:function(){return pn},CrosshairMode:function(){return Q},LastPriceAnimationMode:function(){return cn},LineStyle:function(){return o},LineType:function(){return r},MismatchDirection:function(){return ci},PriceLineSource:function(){return fn},PriceScaleMode:function(){return Wi},TickMarkType:function(){return en},TrackingModeExitMode:function(){return sn},createChart:function(){return Fe},isBusinessDay:function(){return yn},isUTCTimestamp:function(){return wn},version:function(){return Pe}});var e={allowDownsampling:!0};var r,o,s,h=function(){function t(t,i){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=i,this._configureCanvas(),this._installResolutionListener()}return t.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(t.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),t.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),t.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},t.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(i){return i!=t}))},t.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},t.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(i){return i.call(t)}))},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");var i=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+i+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},t}();function a(t,i){var n,e=((n={})[0]=[],n[1]=[t.lineWidth,t.lineWidth],n[2]=[2*t.lineWidth,2*t.lineWidth],n[3]=[6*t.lineWidth,6*t.lineWidth],n[4]=[t.lineWidth,4*t.lineWidth],n)[i];t.setLineDash(e)}function u(t,i,n,e){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(n,i+r),t.lineTo(e,i+r),t.stroke()}function l(t,i){if(!t)throw new Error("Assertion failed"+(i?": "+i:""))}function c(t){if(void 0===t)throw new Error("Value is undefined");return t}function f(t){if(null===t)throw new Error("Value is null");return t}function p(t){return f(c(t))}(s=r||(r={}))[s.Simple=0]="Simple",s[s.WithSteps=1]="WithSteps",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(o||(o={}));var v={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function d(t){return t<0?0:t>255?255:Math.round(t)||0}function y(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var w=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,m=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,g=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,M=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function b(t){var i;if((t=t.toLowerCase())in v&&(t=v[t]),i=M.exec(t)||g.exec(t))return[d(parseInt(i[1],10)),d(parseInt(i[2],10)),d(parseInt(i[3],10)),y(i.length<5?1:parseFloat(i[4]))];if(i=m.exec(t))return[d(parseInt(i[1],16)),d(parseInt(i[2],16)),d(parseInt(i[3],16)),1];if(i=w.exec(t))return[d(17*parseInt(i[1],16)),d(17*parseInt(i[2],16)),d(17*parseInt(i[3],16)),1];throw new Error("Cannot parse color: ".concat(t))}function _(t){var i,n=b(t);return{t:"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")"),i:(i=n,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")}}var C=function(t,i){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},C(t,i)};function S(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}C(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var E=function(){return E=Object.assign||function(t){for(var i,n=1,e=arguments.length;n<e;n++)for(var r in i=arguments[n])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},E.apply(this,arguments)};function x(t,i,n){if(n||2===arguments.length)for(var e,r=0,o=i.length;r<o;r++)!e&&r in i||(e||(e=Array.prototype.slice.call(i,0,r)),e[r]=i[r]);return t.concat(e||Array.prototype.slice.call(i))}var A=function(){function t(){this.h=[]}return t.prototype.u=function(t,i,n){var e={o:t,l:i,v:!0===n};this.h.push(e)},t.prototype._=function(t){var i=this.h.findIndex((function(i){return t===i.o}));i>-1&&this.h.splice(i,1)},t.prototype.M=function(t){this.h=this.h.filter((function(i){return i.l!==t}))},t.prototype.m=function(t,i){var n=x([],this.h,!0);this.h=this.h.filter((function(t){return!t.v})),n.forEach((function(n){return n.o(t,i)}))},t.prototype.g=function(){return this.h.length>0},t.prototype.p=function(){this.h=[]},t}();function O(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];for(var e=0,r=i;e<r.length;e++){var o=r[e];for(var s in o)void 0!==o[s]&&("object"!=typeof o[s]||void 0===t[s]?t[s]=o[s]:O(t[s],o[s]))}return t}function T(t){return"number"==typeof t&&isFinite(t)}function z(t){return"number"==typeof t&&t%1==0}function k(t){return"string"==typeof t}function L(t){return"boolean"==typeof t}function j(t){var i,n,e,r=t;if(!r||"object"!=typeof r)return r;for(n in i=Array.isArray(r)?[]:{},r)r.hasOwnProperty(n)&&(e=r[n],i[n]=e&&"object"==typeof e?j(e):e);return i}function N(t){return null!==t}function D(t){return null===t?void 0:t}var R="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function B(t,i,n){return n=void 0!==n?"".concat(n," "):"",void 0===i&&(i=R),"".concat(n).concat(t,"px ").concat(i)}var F=function(){function t(t){this.k={N:1,C:4,S:NaN,T:"",D:"",B:"",A:0,L:0,F:0,O:0,V:0},this.R=t}return t.prototype.W=function(){var t=this.k,i=this.P(),n=this.I();return t.S===i&&t.D===n||(t.S=i,t.D=n,t.T=B(i,n),t.O=Math.floor(i/3.5),t.A=t.O,t.L=Math.max(Math.ceil(i/2-t.C/2),0),t.F=Math.ceil(i/2+t.C/2),t.V=Math.round(i/10)),t.B=this.j(),this.k},t.prototype.j=function(){return this.R.W().layout.textColor},t.prototype.P=function(){return this.R.W().layout.fontSize},t.prototype.I=function(){return this.R.W().layout.fontFamily},t}(),P=function(){function t(){this.q=[]}return t.prototype.U=function(t){this.q=t},t.prototype.H=function(t,i,n,e){this.q.forEach((function(r){t.save(),r.H(t,i,n,e),t.restore()}))},t}(),W=function(){function t(){}return t.prototype.H=function(t,i,n,e){t.save(),t.scale(i,i),this.Y(t,n,e),t.restore()},t.prototype.$=function(t,i,n,e){t.save(),t.scale(i,i),this.K(t,n,e),t.restore()},t.prototype.K=function(t,i,n){},t}(),I=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return S(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&null!==this.X.J){var i=this.X.J,n=this.X,e=function(e){t.beginPath();for(var r=i.to-1;r>=i.from;--r){var o=n.G[r];t.moveTo(o.tt,o.it),t.arc(o.tt,o.it,e,0,2*Math.PI)}t.fill()};t.fillStyle=n.nt,e(n.st+2),t.fillStyle=n.ht,e(n.st)}},i}(W);function V(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var Z={from:0,to:1},H=function(){function t(t,i){this.ut=new P,this.ot=[],this.lt=[],this.ft=!0,this.R=t,this.ct=i,this.ut.U(this.ot)}return t.prototype.vt=function(t){var i=this.R._t();i.length!==this.ot.length&&(this.lt=i.map(V),this.ot=this.lt.map((function(t){var i=new I;return i.Z(t),i})),this.ut.U(this.ot)),this.ft=!0},t.prototype.dt=function(t,i,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},t.prototype.wt=function(t){var i=this,n=this.R._t(),e=this.ct.Mt(),r=this.R.bt();n.forEach((function(n,o){var s,h=i.lt[o],a=n.gt(e);if(null!==a&&n.yt()){var u=f(n.kt());h.ht=a.Nt,h.st=a.st,h.G[0].et=a.et,h.G[0].it=n.Ct().xt(a.et,u.St),h.nt=null!==(s=a.Tt)&&void 0!==s?s:i.R.Dt(h.G[0].it/t),h.G[0].rt=e,h.G[0].tt=r.Bt(e),h.J=Z}else h.J=null}))},t}(),X=function(){function t(t){this.At=t}return t.prototype.H=function(t,i,n,e){if(null!==this.At){var r=this.At.Lt.yt,o=this.At.Et.yt;if(r||o){t.save();var s=Math.round(this.At.tt*i),h=Math.round(this.At.it*i),l=Math.ceil(this.At.Ft*i),c=Math.ceil(this.At.Ot*i);t.lineCap="butt",r&&s>=0&&(t.lineWidth=Math.floor(this.At.Lt.Vt*i),t.strokeStyle=this.At.Lt.B,t.fillStyle=this.At.Lt.B,a(t,this.At.Lt.Rt),function(t,i,n,e){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(i+r,0),t.lineTo(i+r,e),t.stroke()}(t,s,0,c)),o&&h>=0&&(t.lineWidth=Math.floor(this.At.Et.Vt*i),t.strokeStyle=this.At.Et.B,t.fillStyle=this.At.Et.B,a(t,this.At.Et.Rt),u(t,h,0,l)),t.restore()}}},t}(),G=function(){function t(t){this.ft=!0,this.Wt={Lt:{Vt:1,Rt:0,B:"",yt:!1},Et:{Vt:1,Rt:0,B:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new X(this.Wt),this.Pt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.ft&&(this.wt(),this.ft=!1),this.zt},t.prototype.wt=function(){var t=this.Pt.yt(),i=f(this.Pt.It()),n=i.jt().W().crosshair,e=this.Wt;e.Et.yt=t&&this.Pt.qt(i),e.Lt.yt=t&&this.Pt.Ut(),e.Et.Vt=n.horzLine.width,e.Et.Rt=n.horzLine.style,e.Et.B=n.horzLine.color,e.Lt.Vt=n.vertLine.width,e.Lt.Rt=n.vertLine.style,e.Lt.B=n.vertLine.color,e.Ft=i.Ht(),e.Ot=i.Yt(),e.tt=this.Pt.$t(),e.it=this.Pt.Kt()},t}();function Y(t,i,n,e,r,o){t.fillRect(i+o,n,e-2*o,o),t.fillRect(i+o,n+r-o,e-2*o,o),t.fillRect(i,n,o,r),t.fillRect(i+e-o,n,o,r)}function q(t,i,n){t.save(),t.scale(i,i),n(),t.restore()}function J(t,i,n,e,r,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(i,n,e,r),t.restore()}function U(t,i,n,e,r,o,s){t.save(),t.globalCompositeOperation="copy";var h=t.createLinearGradient(0,0,0,r);h.addColorStop(0,o),h.addColorStop(1,s),t.fillStyle=h,t.fillRect(i,n,e,r),t.restore()}var Q,K=function(){function t(t,i){this.Z(t,i)}return t.prototype.Z=function(t,i){this.At=t,this.Xt=i},t.prototype.H=function(t,i,n,e,r,o){if(this.At.yt){t.font=i.T;var s=this.At.Zt||!this.At.Jt?i.C:0,h=i.N,a=i.O,u=i.A,l=i.L,c=i.F,f=this.At.Gt,p=Math.ceil(n.Qt(t,f)),v=i.V,d=i.S+a+u,y=Math.ceil(.5*d),w=h+p+l+c+s,m=this.Xt.ti;this.Xt.ii&&(m=this.Xt.ii);var g,M,b=(m=Math.round(m))-y,_=b+d,C="right"===r,S=C?e:0,E=Math.ceil(e*o),x=S;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",f){C?(g=S-s,M=(x=S-w)+c):(x=S+w,g=S+s,M=S+h+s+l);var A=Math.max(1,Math.floor(o)),O=Math.max(1,Math.floor(h*o)),T=C?E:0,z=Math.round(b*o),k=Math.round(x*o),L=Math.round(m*o)-Math.floor(.5*o),j=L+A+(L-z),N=Math.round(g*o);t.save(),t.beginPath(),t.moveTo(T,z),t.lineTo(k,z),t.lineTo(k,j),t.lineTo(T,j),t.fill(),t.fillStyle=this.At.Tt,t.fillRect(C?E-O:0,z,O,j-z),this.At.Zt&&(t.fillStyle=this.Xt.B,t.fillRect(T,L,N-T,A)),t.textAlign="left",t.fillStyle=this.Xt.B,q(t,o,(function(){t.fillText(f,M,_-u-v)})),t.restore()}}},t.prototype.Yt=function(t,i){return this.At.yt?t.S+t.O+t.A:0},t}(),$=function(){function t(t){this.ni={ti:0,B:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||K)(this.si,this.ni),this.ei=new(t||K)(this.hi,this.ni)}return t.prototype.Gt=function(){return this.ui(),this.si.Gt},t.prototype.ti=function(){return this.ui(),this.ni.ti},t.prototype.vt=function(){this.ft=!0},t.prototype.Yt=function(t,i){return void 0===i&&(i=!1),Math.max(this.ri.Yt(t,i),this.ei.Yt(t,i))},t.prototype.ai=function(){return this.ni.ii||0},t.prototype.oi=function(t){this.ni.ii=t},t.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},t.prototype.fi=function(){return this.ui(),this.si.yt},t.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},t.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},t.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},t}(),tt=function(t){function i(i,n,e){var r=t.call(this)||this;return r.Pt=i,r._i=n,r.di=e,r}return S(i,t),i.prototype.vi=function(t,i,n){t.yt=!1;var e=this.Pt.W().horzLine;if(e.labelVisible){var r=this._i.kt();if(this.Pt.yt()&&!this._i.wi()&&null!==r){var o=_(e.labelBackgroundColor);n.t=o.t,n.B=o.i;var s=this.di(this._i);n.ti=s.ti,t.Gt=this._i.Mi(s.et,r),t.yt=!0}}},i}($),it=/[1-9]/g,nt=function(){function t(){this.At=null}return t.prototype.Z=function(t){this.At=t},t.prototype.H=function(t,i,n){var e=this;if(null!==this.At&&!1!==this.At.yt&&0!==this.At.Gt.length){t.font=i.T;var r=Math.round(i.bi.Qt(t,this.At.Gt,it));if(!(r<=0)){t.save();var o=i.mi,s=r+2*o,h=s/2,a=this.At.Ht,u=this.At.ti,l=Math.floor(u-h)+.5;l<0?(u+=Math.abs(0-l),l=Math.floor(u-h)+.5):l+s>a&&(u-=Math.abs(a-(l+s)),l=Math.floor(u-h)+.5);var c=l+s,p=0+i.N+i.O+i.S+i.A;t.fillStyle=this.At.t;var v=Math.round(l*n),d=Math.round(0*n),y=Math.round(c*n),w=Math.round(p*n);t.fillRect(v,d,y-v,w-d);var m=Math.round(this.At.ti*n),g=d,M=Math.round((g+i.N+i.C)*n);t.fillStyle=this.At.B;var b=Math.max(1,Math.floor(n)),_=Math.floor(.5*n);t.fillRect(m-_,g,b,M-g);var C=p-i.V-i.A;t.textAlign="left",t.fillStyle=this.At.B,q(t,n,(function(){t.fillText(f(e.At).Gt,l+o,C)})),t.restore()}}},t}(),et=function(){function t(t,i,n){this.ft=!0,this.zt=new nt,this.Wt={yt:!1,t:"#4c525e",B:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.gi=i,this.di=n}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},t.prototype.wt=function(){var t=this.Wt;t.yt=!1;var i=this.ct.W().vertLine;if(i.labelVisible){var n=this.gi.bt();if(!n.wi()){t.Ht=n.Ht();var e=this.di();if(e.rt){t.ti=e.ti;var r=n.pi(this.ct.Mt());t.Gt=n.yi(f(r)),t.yt=!0;var o=_(i.labelBackgroundColor);t.t=o.t,t.B=o.i}}}},t}(),rt=function(){function t(){this.ki=null,this.Ni=0}return t.prototype.xi=function(){return this.Ni},t.prototype.Ci=function(t){this.Ni=t},t.prototype.Ct=function(){return this.ki},t.prototype.Si=function(t){this.ki=t},t.prototype.Ti=function(){return[]},t.prototype.yt=function(){return!0},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(Q||(Q={}));var ot=function(t){function i(i,n){var e,r,o=t.call(this)||this;o.Di=null,o.Bi=NaN,o.Ai=0,o.Li=!0,o.Ei=new Map,o.Fi=!1,o.Oi=NaN,o.Vi=NaN,o.Ri=NaN,o.Wi=NaN,o.gi=i,o.zi=n,o.Pi=new H(i,o),o.Ii=(e=function(){return o.Bi},r=function(){return o.Vi},function(t){var i=r(),n=e();if(t===f(o.Di).ji())return{et:n,ti:i};var s=f(t.kt());return{et:t.qi(i,s),ti:i}});var s=function(){return{rt:o.gi.bt().Ui(o.Ai),ti:o.$t()}};return o.Hi=new et(o,i,s),o.Yi=new G(o),o}return S(i,t),i.prototype.W=function(){return this.zi},i.prototype.$i=function(t,i){this.Ri=t,this.Wi=i},i.prototype.Ki=function(){this.Ri=NaN,this.Wi=NaN},i.prototype.Xi=function(){return this.Ri},i.prototype.Zi=function(){return this.Wi},i.prototype.Ji=function(t,i,n){this.Fi||(this.Fi=!0),this.Li=!0,this.Gi(t,i,n)},i.prototype.Mt=function(){return this.Ai},i.prototype.$t=function(){return this.Oi},i.prototype.Kt=function(){return this.Vi},i.prototype.yt=function(){return this.Li},i.prototype.Qi=function(){this.Li=!1,this.tn(),this.Bi=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.Ki()},i.prototype.nn=function(t){return null!==this.Di?[this.Yi,this.Pi]:[]},i.prototype.qt=function(t){return t===this.Di&&this.zi.horzLine.visible},i.prototype.Ut=function(){return this.zi.vertLine.visible},i.prototype.sn=function(t,i){this.Li&&this.Di===t||this.Ei.clear();var n=[];return this.Di===t&&n.push(this.hn(this.Ei,i,this.Ii)),n},i.prototype.Ti=function(){return this.Li?[this.Hi]:[]},i.prototype.It=function(){return this.Di},i.prototype.rn=function(){this.Yi.vt(),this.Ei.forEach((function(t){return t.vt()})),this.Hi.vt(),this.Pi.vt()},i.prototype.en=function(t){return t&&!t.ji().wi()?t.ji():null},i.prototype.Gi=function(t,i,n){this.un(t,i,n)&&this.rn()},i.prototype.un=function(t,i,n){var e=this.Oi,r=this.Vi,o=this.Bi,s=this.Ai,h=this.Di,a=this.en(n);this.Ai=t,this.Oi=isNaN(t)?NaN:this.gi.bt().Bt(t),this.Di=n;var u=null!==a?a.kt():null;return null!==a&&null!==u?(this.Bi=i,this.Vi=a.xt(i,u)):(this.Bi=NaN,this.Vi=NaN),e!==this.Oi||r!==this.Vi||s!==this.Ai||o!==this.Bi||h!==this.Di},i.prototype.tn=function(){var t=this.gi._t().map((function(t){return t.on().an()})).filter(N),i=0===t.length?null:Math.max.apply(Math,t);this.Ai=null!==i?i:NaN},i.prototype.hn=function(t,i,n){var e=t.get(i);return void 0===e&&(e=new tt(this,i,n),t.set(i,e)),e},i}(rt);function st(t){return"left"===t||"right"===t}var ht=function(){function t(t){this.ln=new Map,this.fn=[],this.cn=t}return t.prototype.vn=function(t,i){var n=function(t,i){return void 0===t?i:{_n:Math.max(t._n,i._n),dn:t.dn||i.dn}}(this.ln.get(t),i);this.ln.set(t,n)},t.prototype.wn=function(){return this.cn},t.prototype.Mn=function(t){var i=this.ln.get(t);return void 0===i?{_n:this.cn}:{_n:Math.max(this.cn,i._n),dn:i.dn}},t.prototype.bn=function(){this.fn=[{mn:0}]},t.prototype.gn=function(t){this.fn=[{mn:1,St:t}]},t.prototype.pn=function(){this.fn=[{mn:4}]},t.prototype.yn=function(t){this.fn.push({mn:2,St:t})},t.prototype.kn=function(t){this.fn.push({mn:3,St:t})},t.prototype.Nn=function(){return this.fn},t.prototype.xn=function(t){for(var i=this,n=0,e=t.fn;n<e.length;n++){var r=e[n];this.Cn(r)}this.cn=Math.max(this.cn,t.cn),t.ln.forEach((function(t,n){i.vn(n,t)}))},t.prototype.Cn=function(t){switch(t.mn){case 0:this.bn();break;case 1:this.gn(t.St);break;case 2:this.yn(t.St);break;case 3:this.kn(t.St);break;case 4:this.pn()}},t}();function at(t,i){if(!T(t))return"n/a";if(!z(i))throw new TypeError("invalid length");if(i<0||i>16)throw new TypeError("invalid length");return 0===i?t.toString():("0000000000000000"+t.toString()).slice(-i)}var ut=function(){function t(t,i){if(i||(i=1),T(t)&&z(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Sn=i,this.Tn()}return t.prototype.format=function(t){var i=t<0?"\u2212":"";return t=Math.abs(t),i+this.Dn(t)},t.prototype.Tn=function(){if(this.Bn=0,this._i>0&&this.Sn>0)for(var t=this._i;t>1;)t/=10,this.Bn++},t.prototype.Dn=function(t){var i=this._i/this.Sn,n=Math.floor(t),e="",r=void 0!==this.Bn?this.Bn:NaN;if(i>1){var o=+(Math.round(t*i)-n*i).toFixed(this.Bn);o>=i&&(o-=i,n+=1),e="."+at(+o.toFixed(this.Bn)*this.Sn,r)}else n=Math.round(n*i)/i,r>0&&(e="."+at(0,r));return n.toFixed(0)+e},t}(),lt=function(t){function i(i){return void 0===i&&(i=100),t.call(this,i)||this}return S(i,t),i.prototype.format=function(i){return"".concat(t.prototype.format.call(this,i),"%")},i}(ut),ct=function(){function t(t){this.An=t}return t.prototype.format=function(t){var i="";return t<0&&(i="-",t=-t),t<995?i+this.Ln(t):t<999995?i+this.Ln(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),i+this.Ln(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),i+this.Ln(t/1e9)+"B")},t.prototype.Ln=function(t){var i=Math.pow(10,this.An);return((t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,i){return i}))},t}();function ft(t,i,n,e){if(0!==i.length){var r=i[e.from].tt,o=i[e.from].it;t.moveTo(r,o);for(var s=e.from+1;s<e.to;++s){var h=i[s];if(1===n){var a=i[s-1].it,u=h.tt;t.lineTo(u,a)}t.lineTo(h.tt,h.it)}}}var pt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return S(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(t.lineCap="butt",t.lineJoin="round",t.lineWidth=this.X.Vt,a(t,this.X.Rt),t.lineWidth=1,t.beginPath(),1===this.X.G.length){var i=this.X.G[0],n=this.X.En/2;t.moveTo(i.tt-n,this.X.Fn),t.lineTo(i.tt-n,i.it),t.lineTo(i.tt+n,i.it),t.lineTo(i.tt+n,this.X.Fn)}else t.moveTo(this.X.G[this.X.J.from].tt,this.X.Fn),t.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),ft(t,this.X.G,this.X.On,this.X.J),this.X.J.to>this.X.J.from&&(t.lineTo(this.X.G[this.X.J.to-1].tt,this.X.Fn),t.lineTo(this.X.G[this.X.J.from].tt,this.X.Fn));t.closePath(),t.fillStyle=this.Vn(t),t.fill()}},i}(W),vt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return S(i,t),i.prototype.Vn=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Rn);return n.addColorStop(0,i.Wn),n.addColorStop(1,i.zn),n},i}(pt),dt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return S(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J)if(t.lineCap="butt",t.lineWidth=this.X.Vt,a(t,this.X.Rt),t.strokeStyle=this.Pn(t),t.lineJoin="round",1===this.X.G.length){t.beginPath();var i=this.X.G[0];t.moveTo(i.tt-this.X.En/2,i.it),t.lineTo(i.tt+this.X.En/2,i.it),void 0!==i.B&&(t.strokeStyle=i.B),t.stroke()}else this.In(t,this.X)},i.prototype.In=function(t,i){t.beginPath(),ft(t,i.G,i.On,i.J),t.stroke()},i}(W),yt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return S(i,t),i.prototype.In=function(t,i){var n,e,r=i.G,o=i.J,s=i.On,h=i.ht;if(0!==r.length&&null!==o){t.beginPath();var a=r[o.from];t.moveTo(a.tt,a.it);var u=null!==(n=a.B)&&void 0!==n?n:h;t.strokeStyle=u;for(var l=function(i){t.stroke(),t.beginPath(),t.strokeStyle=i,u=i},c=o.from+1;c<o.to;++c){var f=r[c],p=r[c-1],v=null!==(e=f.B)&&void 0!==e?e:h;1===s&&(t.lineTo(f.tt,p.it),v!==u&&(l(v),t.moveTo(f.tt,p.it))),t.lineTo(f.tt,f.it),1!==s&&v!==u&&(l(v),t.moveTo(f.tt,f.it))}t.stroke()}},i.prototype.Pn=function(){return this.X.ht},i}(dt);function wt(t,i,n,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length);for(var o=r-e;0<o;){var s=o>>1,h=e+s;n(t[h],i)?(e=h+1,o-=s+1):o=s}return e}function mt(t,i,n,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length);for(var o=r-e;0<o;){var s=o>>1,h=e+s;n(i,t[h])?o=s:(e=h+1,o-=s+1)}return e}function gt(t,i){return t.rt<i}function Mt(t,i){return t<i.rt}function bt(t,i,n){var e=i.jn(),r=i.qn(),o=wt(t,e,gt),s=mt(t,r,Mt);if(!n)return{from:o,to:s};var h=o,a=s;return o>0&&o<t.length&&t[o].rt>=e&&(h=o-1),s>0&&s<t.length&&t[s-1].rt<=r&&(a=s+1),{from:h,to:a}}var _t=function(){function t(t,i,n){this.Un=!0,this.Hn=!0,this.Yn=!0,this.$n=[],this.Kn=null,this.Xn=t,this.Zn=i,this.Jn=n}return t.prototype.vt=function(t){this.Un=!0,"data"===t&&(this.Hn=!0),"options"===t&&(this.Yn=!0)},t.prototype.Gn=function(){this.Hn&&(this.Qn(),this.Hn=!1),this.Un&&(this.ts(),this.Un=!1),this.Yn&&(this.ns(),this.Yn=!1)},t.prototype.ss=function(){this.Kn=null},t.prototype.ts=function(){var t=this.Xn.Ct(),i=this.Zn.bt();if(this.ss(),!i.wi()&&!t.wi()){var n=i.hs();if(null!==n&&0!==this.Xn.on().rs()){var e=this.Xn.kt();null!==e&&(this.Kn=bt(this.$n,n,this.Jn),this.es(t,i,e.St))}}},t}(),Ct=function(t){function i(i,n){return t.call(this,i,n,!0)||this}return S(i,t),i.prototype.es=function(t,i,n){i.us(this.$n,D(this.Kn)),t.os(this.$n,n,D(this.Kn))},i.prototype.ls=function(t,i){return{rt:t,et:i,tt:NaN,it:NaN}},i.prototype.ns=function(){},i.prototype.Qn=function(){var t=this,i=this.Xn.fs();this.$n=this.Xn.on().cs().map((function(n){var e=n.St[3];return t.vs(n._s,e,i)}))},i}(_t),St=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.zt=new P,e.ds=new vt,e.ws=new yt,e.zt.U([e.ds,e.ws]),e}return S(i,t),i.prototype.dt=function(t,i){if(!this.Xn.yt())return null;var n=this.Xn.W();return this.Gn(),this.ds.Z({On:n.lineType,G:this.$n,Rt:n.lineStyle,Vt:n.lineWidth,Wn:n.topColor,zn:n.bottomColor,Fn:t,Rn:t,J:this.Kn,En:this.Zn.bt().Ms()}),this.ws.Z({On:n.lineType,G:this.$n,ht:n.lineColor,Rt:n.lineStyle,Vt:n.lineWidth,J:this.Kn,En:this.Zn.bt().Ms()}),this.zt},i.prototype.vs=function(t,i){return this.ls(t,i)},i}(Ct),Et=function(){function t(){this.At=null,this.bs=0,this.gs=0}return t.prototype.Z=function(t){this.At=t},t.prototype.H=function(t,i,n,e){if(null!==this.At&&0!==this.At.on.length&&null!==this.At.J){this.bs=this.ps(i),this.bs>=2&&Math.max(1,Math.floor(i))%2!=this.bs%2&&this.bs--,this.gs=this.At.ys?Math.min(this.bs,Math.floor(i)):this.bs;for(var r=null,o=this.gs<=this.bs&&this.At.Ms>=Math.floor(1.5*i),s=this.At.J.from;s<this.At.J.to;++s){var h=this.At.on[s];r!==h.B&&(t.fillStyle=h.B,r=h.B);var a=Math.floor(.5*this.gs),u=Math.round(h.tt*i),l=u-a,c=this.gs,f=l+c-1,p=Math.min(h.ks,h.Ns),v=Math.max(h.ks,h.Ns),d=Math.round(p*i)-a,y=Math.round(v*i)+a,w=Math.max(y-d,this.gs);t.fillRect(l,d,c,w);var m=Math.ceil(1.5*this.bs);if(o){if(this.At.xs){var g=u-m,M=Math.max(d,Math.round(h.Cs*i)-a),b=M+c-1;b>d+w-1&&(M=(b=d+w-1)-c+1),t.fillRect(g,M,l-g,b-M+1)}var _=u+m,C=Math.max(d,Math.round(h.Ss*i)-a),S=C+c-1;S>d+w-1&&(C=(S=d+w-1)-c+1),t.fillRect(f+1,C,_-f,S-C+1)}}}},t.prototype.ps=function(t){var i=Math.floor(t);return Math.max(i,Math.floor(function(t,i){return Math.floor(.3*t*i)}(f(this.At).Ms,t)))},t}(),xt=function(t){function i(i,n){return t.call(this,i,n,!1)||this}return S(i,t),i.prototype.es=function(t,i,n){i.us(this.$n,D(this.Kn)),t.Ts(this.$n,n,D(this.Kn))},i.prototype.Ds=function(t,i,n){return{rt:t,Bs:i.St[0],As:i.St[1],Ls:i.St[2],Es:i.St[3],tt:NaN,Cs:NaN,ks:NaN,Ns:NaN,Ss:NaN}},i.prototype.Qn=function(){var t=this,i=this.Xn.fs();this.$n=this.Xn.on().cs().map((function(n){return t.vs(n._s,n,i)}))},i}(_t),At=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.zt=new Et,i}return S(i,t),i.prototype.dt=function(t,i){if(!this.Xn.yt())return null;var n=this.Xn.W();this.Gn();var e={on:this.$n,Ms:this.Zn.bt().Ms(),xs:n.openVisible,ys:n.thinBars,J:this.Kn};return this.zt.Z(e),this.zt},i.prototype.ns=function(){var t=this;this.$n.forEach((function(i){i.B=t.Xn.fs().Os(i.rt).Fs}))},i.prototype.vs=function(t,i,n){return E(E({},this.Ds(t,i,n)),{B:n.Os(t).Fs})},i}(xt);function Ot(t,i,n){return Math.min(Math.max(t,i),n)}function Tt(t,i,n){return i-t<=n}function zt(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function kt(t){var i=Math.ceil(t);return i%2!=0?i-1:i}function Lt(t){var i=Math.ceil(t);return i%2==0?i-1:i}var jt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return S(i,t),i.prototype.Vn=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Rn),e=Ot(i.Fn/i.Rn,0,1);return n.addColorStop(0,i.Vs),n.addColorStop(e,i.Rs),n.addColorStop(e,i.Ws),n.addColorStop(1,i.zs),n},i}(pt),Nt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return S(i,t),i.prototype.Pn=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Rn),e=Ot(i.Fn/i.Rn,0,1);return n.addColorStop(0,i.Wn),n.addColorStop(e,i.Wn),n.addColorStop(e,i.zn),n.addColorStop(1,i.zn),n},i}(dt),Dt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.Ps=new jt,e.Is=new Nt,e.ut=new P,e.ut.U([e.Ps,e.Is]),e}return S(i,t),i.prototype.dt=function(t,i){if(!this.Xn.yt())return null;var n=this.Xn.kt();if(null===n)return null;var e=this.Xn.W();this.Gn();var r=this.Xn.Ct().xt(e.baseValue.price,n.St),o=this.Zn.bt().Ms();return this.Ps.Z({G:this.$n,Vs:e.topFillColor1,Rs:e.topFillColor2,Ws:e.bottomFillColor1,zs:e.bottomFillColor2,Vt:e.lineWidth,Rt:e.lineStyle,On:0,Fn:r,Rn:t,J:this.Kn,En:o}),this.Is.Z({G:this.$n,Wn:e.topLineColor,zn:e.bottomLineColor,Vt:e.lineWidth,Rt:e.lineStyle,On:0,Fn:r,Rn:t,J:this.Kn,En:o}),this.ut},i.prototype.vs=function(t,i){return this.ls(t,i)},i}(Ct),Rt=function(){function t(){this.At=null,this.bs=0}return t.prototype.Z=function(t){this.At=t},t.prototype.H=function(t,i,n,e){if(null!==this.At&&0!==this.At.on.length&&null!==this.At.J){this.bs=function(t,i){if(t>=2.5&&t<=4)return Math.floor(3*i);var n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),e=Math.floor(t*n*i),r=Math.floor(t*i),o=Math.min(e,r);return Math.max(Math.floor(i),o)}(this.At.Ms,i),this.bs>=2&&Math.floor(i)%2!=this.bs%2&&this.bs--;var r=this.At.on;this.At.js&&this.qs(t,r,this.At.J,i),this.At.Us&&this.Hs(t,r,this.At.J,this.At.Ms,i);var o=this.Ys(i);(!this.At.Us||this.bs>2*o)&&this.$s(t,r,this.At.J,i)}},t.prototype.qs=function(t,i,n,e){if(null!==this.At){var r="",o=Math.min(Math.floor(e),Math.floor(this.At.Ms*e));o=Math.max(Math.floor(e),Math.min(o,this.bs));for(var s=Math.floor(.5*o),h=null,a=n.from;a<n.to;a++){var u=i[a];u.Ks!==r&&(t.fillStyle=u.Ks,r=u.Ks);var l=Math.round(Math.min(u.Cs,u.Ss)*e),c=Math.round(Math.max(u.Cs,u.Ss)*e),f=Math.round(u.ks*e),p=Math.round(u.Ns*e),v=Math.round(e*u.tt)-s,d=v+o-1;null!==h&&(v=Math.max(h+1,v),v=Math.min(v,d));var y=d-v+1;t.fillRect(v,f,y,l-f),t.fillRect(v,c+1,y,p-c),h=d}}},t.prototype.Ys=function(t){var i=Math.floor(1*t);this.bs<=2*i&&(i=Math.floor(.5*(this.bs-1)));var n=Math.max(Math.floor(t),i);return this.bs<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},t.prototype.Hs=function(t,i,n,e,r){if(null!==this.At)for(var o="",s=this.Ys(r),h=null,a=n.from;a<n.to;a++){var u=i[a];u.Tt!==o&&(t.fillStyle=u.Tt,o=u.Tt);var l=Math.round(u.tt*r)-Math.floor(.5*this.bs),c=l+this.bs-1,f=Math.round(Math.min(u.Cs,u.Ss)*r),p=Math.round(Math.max(u.Cs,u.Ss)*r);if(null!==h&&(l=Math.max(h+1,l),l=Math.min(l,c)),this.At.Ms*r>2*s)Y(t,l,f,c-l+1,p-f+1,s);else{var v=c-l+1;t.fillRect(l,f,v,p-f+1)}h=c}},t.prototype.$s=function(t,i,n,e){if(null!==this.At)for(var r="",o=this.Ys(e),s=n.from;s<n.to;s++){var h=i[s],a=Math.round(Math.min(h.Cs,h.Ss)*e),u=Math.round(Math.max(h.Cs,h.Ss)*e),l=Math.round(h.tt*e)-Math.floor(.5*this.bs),c=l+this.bs-1;if(h.B!==r){var f=h.B;t.fillStyle=f,r=f}this.At.Us&&(l+=o,a+=o,c-=o,u-=o),a>u||t.fillRect(l,a,c-l+1,u-a+1)}},t}(),Bt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.zt=new Rt,i}return S(i,t),i.prototype.dt=function(t,i){if(!this.Xn.yt())return null;var n=this.Xn.W();this.Gn();var e={on:this.$n,Ms:this.Zn.bt().Ms(),js:n.wickVisible,Us:n.borderVisible,J:this.Kn};return this.zt.Z(e),this.zt},i.prototype.ns=function(){var t=this;this.$n.forEach((function(i){var n=t.Xn.fs().Os(i.rt);i.B=n.Fs,i.Ks=n.Xs,i.Tt=n.Zs}))},i.prototype.vs=function(t,i,n){var e=n.Os(t);return E(E({},this.Ds(t,i,n)),{B:e.Fs,Ks:e.Xs,Tt:e.Zs})},i}(xt),Ft=function(){function t(){this.At=null,this.Js=[]}return t.prototype.Z=function(t){this.At=t,this.Js=[]},t.prototype.H=function(t,i,n,e){if(null!==this.At&&0!==this.At.G.length&&null!==this.At.J){this.Js.length||this.Gs(i);for(var r=Math.max(1,Math.floor(i)),o=Math.round(this.At.Qs*i)-Math.floor(r/2),s=o+r,h=this.At.J.from;h<this.At.J.to;h++){var a=this.At.G[h],u=this.Js[h-this.At.J.from],l=Math.round(a.it*i);t.fillStyle=a.B;var c=void 0,f=void 0;l<=o?(c=l,f=s):(c=o,f=l-Math.floor(r/2)+r),t.fillRect(u.jn,c,u.qn-u.jn+1,f-c)}}},t.prototype.Gs=function(t){if(null!==this.At&&0!==this.At.G.length&&null!==this.At.J){var i=Math.ceil(this.At.Ms*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.At.Ms*t)-i;this.Js=new Array(this.At.J.to-this.At.J.from);for(var e=this.At.J.from;e<this.At.J.to;e++){var r,o=this.At.G[e],s=Math.round(o.tt*t),h=void 0,a=void 0;n%2?(h=s-(r=(n-1)/2),a=s+r):(h=s-(r=n/2),a=s+r-1),this.Js[e-this.At.J.from]={jn:h,qn:a,th:s,ih:o.tt*t,rt:o.rt}}for(e=this.At.J.from+1;e<this.At.J.to;e++){var u=this.Js[e-this.At.J.from],l=this.Js[e-this.At.J.from-1];u.rt===l.rt+1&&u.jn-l.qn!==i+1&&(l.th>l.ih?l.qn=u.jn-i-1:u.jn=l.qn+i+1)}var c=Math.ceil(this.At.Ms*t);for(e=this.At.J.from;e<this.At.J.to;e++){(u=this.Js[e-this.At.J.from]).qn<u.jn&&(u.qn=u.jn);var f=u.qn-u.jn+1;c=Math.min(f,c)}if(i>0&&c<4)for(e=this.At.J.from;e<this.At.J.to;e++)(f=(u=this.Js[e-this.At.J.from]).qn-u.jn+1)>c&&(u.th>u.ih?u.qn-=1:u.jn+=1)}else this.Js=[]},t}();function Pt(t){return{G:[],Ms:t,Qs:NaN,J:null}}function Wt(t,i,n){return{rt:t,et:i,tt:NaN,it:NaN,B:n}}var It=function(t){function i(i,n){var e=t.call(this,i,n,!1)||this;return e.ut=new P,e.nh=Pt(0),e.zt=new Ft,e}return S(i,t),i.prototype.dt=function(t,i){return this.Xn.yt()?(this.Gn(),this.ut):null},i.prototype.Qn=function(){var t=this.Zn.bt().Ms();this.nh=Pt(t);for(var i=0,n=0,e=this.Xn.W().color,r=0,o=this.Xn.on().cs();r<o.length;r++){var s=o[r],h=s.St[3],a=void 0!==s.B?s.B:e,u=Wt(s._s,h,a);++i<this.nh.G.length?this.nh.G[i]=u:this.nh.G.push(u),this.$n[n++]={rt:s._s,tt:0}}this.zt.Z(this.nh),this.ut.U([this.zt])},i.prototype.ns=function(){},i.prototype.ss=function(){t.prototype.ss.call(this),this.nh.J=null},i.prototype.es=function(t,i,n){if(null!==this.Kn){var e=i.Ms(),r=f(i.hs()),o=t.xt(this.Xn.W().base,n);i.us(this.nh.G),t.os(this.nh.G,n),this.nh.Qs=o,this.nh.J=bt(this.nh.G,r,!1),this.nh.Ms=e,this.zt.Z(this.nh)}},i}(_t),Vt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.ws=new yt,e}return S(i,t),i.prototype.dt=function(t,i){if(!this.Xn.yt())return null;var n=this.Xn.W();this.Gn();var e={G:this.$n,ht:n.color,Rt:n.lineStyle,On:n.lineType,Vt:n.lineWidth,J:this.Kn,En:this.Zn.bt().Ms()};return this.ws.Z(e),this.ws},i.prototype.ns=function(){var t=this;this.$n.forEach((function(i){i.B=t.Xn.fs().Os(i.rt).Fs}))},i.prototype.vs=function(t,i,n){var e=this.ls(t,i);return e.B=n.Os(t).Fs,e},i}(Ct),Zt=/[2-9]/g,Ht=function(){function t(t){void 0===t&&(t=50),this.sh=new Map,this.hh=0,this.rh=Array.from(new Array(t))}return t.prototype.eh=function(){this.sh.clear(),this.rh.fill(void 0)},t.prototype.Qt=function(t,i,n){var e=n||Zt,r=String(i).replace(e,"0"),o=this.sh.get(r);if(void 0===o){if(0===(o=t.measureText(r).width)&&0!==i.length)return 0;var s=this.rh[this.hh];void 0!==s&&this.sh.delete(s),this.rh[this.hh]=r,this.hh=(this.hh+1)%this.rh.length,this.sh.set(r,o)}return o},t}(),Xt=function(){function t(t){this.uh=null,this.k=null,this.ah="right",this.oh=0,this.lh=t}return t.prototype.fh=function(t,i,n,e){this.uh=t,this.k=i,this.oh=n,this.ah=e},t.prototype.H=function(t,i){null!==this.k&&null!==this.uh&&this.uh.H(t,this.k,this.lh,this.oh,this.ah,i)},t}(),Gt=function(){function t(t,i,n){this._h=t,this.lh=new Ht(50),this.dh=i,this.R=n,this.P=-1,this.zt=new Xt(this.lh)}return t.prototype.dt=function(t,i){var n=this.R.wh(this.dh);if(null===n)return null;var e=n.Mh(this.dh)?n.bh():this.dh.Ct();if(null===e)return null;var r=n.mh(e);if("overlay"===r)return null;var o=this.R.gh();return o.S!==this.P&&(this.P=o.S,this.lh.eh()),this.zt.fh(this._h.ci(),o,i,r),this.zt},t}(),Yt=function(){function t(){this.At=null}return t.prototype.Z=function(t){this.At=t},t.prototype.H=function(t,i,n,e){if(null!==this.At&&!1!==this.At.yt){var r=Math.round(this.At.it*i);if(!(r<0||r>Math.ceil(this.At.Yt*i))){var o=Math.ceil(this.At.Ht*i);t.lineCap="butt",t.strokeStyle=this.At.B,t.lineWidth=Math.floor(this.At.Vt*i),a(t,this.At.Rt),u(t,r,0,o)}}},t}(),qt=function(){function t(t){this.ph={Ht:0,Yt:0,it:0,B:"rgba(0, 0, 0, 0)",Vt:1,Rt:0,yt:!1},this.yh=new Yt,this.ft=!0,this.Xn=t,this.Zn=t.jt(),this.yh.Z(this.ph)}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.Xn.yt()?(this.ft&&(this.kh(t,i),this.ft=!1),this.yh):null},t}(),Jt=function(t){function i(i){return t.call(this,i)||this}return S(i,t),i.prototype.kh=function(t,i){this.ph.yt=!1;var n=this.Xn.Ct(),e=n.Nh().Nh;if(2===e||3===e){var r=this.Xn.W();if(r.baseLineVisible&&this.Xn.yt()){var o=this.Xn.kt();null!==o&&(this.ph.yt=!0,this.ph.it=n.xt(o.St,o.St),this.ph.Ht=i,this.ph.Yt=t,this.ph.B=r.baseLineColor,this.ph.Vt=r.baseLineWidth,this.ph.Rt=r.baseLineStyle)}}},i}(qt),Ut=function(){function t(){this.At=null}return t.prototype.Z=function(t){this.At=t},t.prototype.xh=function(){return this.At},t.prototype.H=function(t,i,n,e){var r=this.At;if(null!==r){t.save();var o=Math.max(1,Math.floor(i)),s=o%2/2,h=Math.round(r.ih.x*i)+s,a=r.ih.y*i;t.fillStyle=r.Ch,t.beginPath();var u=Math.max(2,1.5*r.Sh)*i;t.arc(h,a,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.Th,t.beginPath(),t.arc(h,a,r.st*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=r.Dh,t.beginPath(),t.arc(h,a,r.st*i+o/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},t}(),Qt=[{Bh:0,Ah:.25,Lh:4,Eh:10,Fh:.25,Oh:0,Vh:.4,Rh:.8},{Bh:.25,Ah:.525,Lh:10,Eh:14,Fh:0,Oh:0,Vh:.8,Rh:0},{Bh:.525,Ah:1,Lh:14,Eh:14,Fh:0,Oh:0,Vh:0,Rh:0}];function Kt(t,i,n,e){return function(t,i){if("transparent"===t)return t;var n=b(t),e=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(i*e,")")}(t,n+(e-n)*i)}function $t(t,i){for(var n,e=t%2600/2600,r=0,o=Qt;r<o.length;r++){var s=o[r];if(e>=s.Bh&&e<=s.Ah){n=s;break}}l(void 0!==n,"Last price animation internal logic error");var h,a,u,c=(e-n.Bh)/(n.Ah-n.Bh);return{Th:Kt(i,c,n.Fh,n.Oh),Dh:Kt(i,c,n.Vh,n.Rh),st:(h=c,a=n.Lh,u=n.Eh,a+(u-a)*h)}}var ti=function(){function t(t){this.zt=new Ut,this.ft=!0,this.Wh=!0,this.zh=performance.now(),this.Ph=this.zh-1,this.Ih=t}return t.prototype.jh=function(){this.Ph=this.zh-1,this.vt()},t.prototype.qh=function(){if(this.vt(),2===this.Ih.W().lastPriceAnimation){var t=performance.now(),i=this.Ph-t;if(i>0)return void(i<650&&(this.Ph+=2600));this.zh=t,this.Ph=t+2600}},t.prototype.vt=function(){this.ft=!0},t.prototype.Uh=function(){this.Wh=!0},t.prototype.yt=function(){return 0!==this.Ih.W().lastPriceAnimation},t.prototype.Hh=function(){switch(this.Ih.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ph}},t.prototype.dt=function(t,i){return this.ft?(this.wt(t,i),this.ft=!1,this.Wh=!1):this.Wh&&(this.Yh(),this.Wh=!1),this.zt},t.prototype.wt=function(t,i){this.zt.Z(null);var n=this.Ih.jt().bt(),e=n.hs(),r=this.Ih.kt();if(null!==e&&null!==r){var o=this.Ih.$h(!0);if(!o.Kh&&e.Xh(o._s)){var s={x:n.Bt(o._s),y:this.Ih.Ct().xt(o.et,r.St)},h=o.B,a=this.Ih.W().lineWidth,u=$t(this.Zh(),h);this.zt.Z({Ch:h,Sh:a,Th:u.Th,Dh:u.Dh,st:u.st,ih:s})}}},t.prototype.Yh=function(){var t=this.zt.xh();if(null!==t){var i=$t(this.Zh(),t.Ch);t.Th=i.Th,t.Dh=i.Dh,t.st=i.st}},t.prototype.Zh=function(){return this.Hh()?performance.now()-this.zh:2599},t}();function ii(t,i){return Lt(Math.min(Math.max(t,12),30)*i)}function ni(t,i){switch(t){case"arrowDown":case"arrowUp":return ii(i,1);case"circle":return ii(i,.8);case"square":return ii(i,.7)}}function ei(t){return kt(ii(t,1))}function ri(t){return Math.max(ii(t,.1),3)}function oi(t,i,n,e,r){var o=ni("square",n),s=(o-1)/2,h=t-s,a=i-s;return e>=h&&e<=h+o&&r>=a&&r<=a+o}function si(t,i,n,e,r){var o=(ni("arrowUp",r)-1)/2,s=(Lt(r/2)-1)/2;i.beginPath(),t?(i.moveTo(n-o,e),i.lineTo(n,e-o),i.lineTo(n+o,e),i.lineTo(n+s,e),i.lineTo(n+s,e+o),i.lineTo(n-s,e+o),i.lineTo(n-s,e)):(i.moveTo(n-o,e),i.lineTo(n,e+o),i.lineTo(n+o,e),i.lineTo(n+s,e),i.lineTo(n+s,e-o),i.lineTo(n-s,e-o),i.lineTo(n-s,e)),i.fill()}var hi=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.At=null,i.lh=new Ht,i.P=-1,i.I="",i.Jh="",i}return S(i,t),i.prototype.Z=function(t){this.At=t},i.prototype.fh=function(t,i){this.P===t&&this.I===i||(this.P=t,this.I=i,this.Jh=B(t,i),this.lh.eh())},i.prototype.Gh=function(t,i){if(null===this.At||null===this.At.J)return null;for(var n=this.At.J.from;n<this.At.J.to;n++){var e=this.At.G[n];if(ui(e,t,i))return{Qh:e.tr,ir:e.ir}}return null},i.prototype.Y=function(t,i,n){if(null!==this.At&&null!==this.At.J){t.textBaseline="middle",t.font=this.Jh;for(var e=this.At.J.from;e<this.At.J.to;e++){var r=this.At.G[e];void 0!==r.Gt&&(r.Gt.Ht=this.lh.Qt(t,r.Gt.nr),r.Gt.Yt=this.P),ai(r,t)}}},i}(W);function ai(t,i){i.fillStyle=t.B,void 0!==t.Gt&&function(t,i,n,e){t.fillText(i,n,e)}(i,t.Gt.nr,t.tt-t.Gt.Ht/2,t.Gt.it),function(t,i){if(0!==t.rs){switch(t.sr){case"arrowDown":return void si(!1,i,t.tt,t.it,t.rs);case"arrowUp":return void si(!0,i,t.tt,t.it,t.rs);case"circle":return void function(t,i,n,e){var r=(ni("circle",e)-1)/2;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.fill()}(i,t.tt,t.it,t.rs);case"square":return void function(t,i,n,e){var r=ni("square",e),o=(r-1)/2,s=i-o,h=n-o;t.fillRect(s,h,r,r)}(i,t.tt,t.it,t.rs)}t.sr}}(t,i)}function ui(t,i,n){return!(void 0===t.Gt||!function(t,i,n,e,r,o){var s=e/2;return r>=t&&r<=t+n&&o>=i-s&&o<=i+s}(t.tt,t.Gt.it,t.Gt.Ht,t.Gt.Yt,i,n))||function(t,i,n){if(0===t.rs)return!1;switch(t.sr){case"arrowDown":case"arrowUp":return function(t,i,n,e,r,o){return oi(i,n,e,r,o)}(0,t.tt,t.it,t.rs,i,n);case"circle":return function(t,i,n,e,r){var o=2+ni("circle",n)/2,s=t-e,h=i-r;return Math.sqrt(s*s+h*h)<=o}(t.tt,t.it,t.rs,i,n);case"square":return oi(t.tt,t.it,t.rs,i,n)}}(t,i,n)}function li(t,i,n,e,r,o,s,h,a){var u=T(n)?n:n.Es,l=T(n)?n:n.As,c=T(n)?n:n.Ls,f=T(i.size)?Math.max(i.size,0):1,p=ei(h.Ms())*f,v=p/2;switch(t.rs=p,i.position){case"inBar":return t.it=s.xt(u,a),void(void 0!==t.Gt&&(t.Gt.it=t.it+v+o+.6*r));case"aboveBar":return t.it=s.xt(l,a)-v-e.hr,void 0!==t.Gt&&(t.Gt.it=t.it-v-.6*r,e.hr+=1.2*r),void(e.hr+=p+o);case"belowBar":return t.it=s.xt(c,a)+v+e.rr,void 0!==t.Gt&&(t.Gt.it=t.it+v+o+.6*r,e.rr+=1.2*r),void(e.rr+=p+o)}i.position}var ci,fi=function(){function t(t,i){this.ft=!0,this.er=!0,this.ur=!0,this.ar=null,this.zt=new hi,this.Ih=t,this.gi=i,this.At={G:[],J:null}}return t.prototype.vt=function(t){this.ft=!0,this.ur=!0,"data"===t&&(this.er=!0)},t.prototype.dt=function(t,i,n){if(!this.Ih.yt())return null;this.ft&&this.Gn();var e=this.gi.W().layout;return this.zt.fh(e.fontSize,e.fontFamily),this.zt.Z(this.At),this.zt},t.prototype.lr=function(){if(this.ur){if(this.Ih.cr().length>0){var t=this.gi.bt().Ms(),i=ri(t),n=1.5*ei(t)+2*i;this.ar={above:n,below:n}}else this.ar=null;this.ur=!1}return this.ar},t.prototype.Gn=function(){var t=this.Ih.Ct(),i=this.gi.bt(),n=this.Ih.cr();this.er&&(this.At.G=n.map((function(t){return{rt:t.time,tt:0,it:0,rs:0,sr:t.shape,B:t.color,tr:t.internalId,ir:t.id,Gt:void 0}})),this.er=!1);var e=this.gi.W().layout;this.At.J=null;var r=i.hs();if(null!==r){var o=this.Ih.kt();if(null!==o&&0!==this.At.G.length){var s=NaN,h=ri(i.Ms()),a={hr:h,rr:h};this.At.J=bt(this.At.G,r,!0);for(var u=this.At.J.from;u<this.At.J.to;u++){var l=n[u];l.time!==s&&(a.hr=h,a.rr=h,s=l.time);var c=this.At.G[u];c.tt=i.Bt(l.time),void 0!==l.text&&l.text.length>0&&(c.Gt={nr:l.text,it:0,Ht:0,Yt:0});var f=this.Ih.vr(l.time);null!==f&&li(c,l,f,a,e.fontSize,h,t,i,o.St)}this.ft=!1}}},t}(),pi=function(t){function i(i){return t.call(this,i)||this}return S(i,t),i.prototype.kh=function(t,i){var n=this.ph;n.yt=!1;var e=this.Xn.W();if(e.priceLineVisible&&this.Xn.yt()){var r=this.Xn.$h(0===e.priceLineSource);r.Kh||(n.yt=!0,n.it=r.ti,n.B=this.Xn._r(r.B),n.Ht=i,n.Yt=t,n.Vt=e.priceLineWidth,n.Rt=e.priceLineStyle)}},i}(qt),vi=function(t){function i(i){var n=t.call(this)||this;return n.Pt=i,n}return S(i,t),i.prototype.vi=function(t,i,n){t.yt=!1,i.yt=!1;var e=this.Pt;if(e.yt()){var r=e.W(),o=r.lastValueVisible,s=""!==e.dr(),h=0===r.seriesLastValueMode,a=e.$h(!1);if(!a.Kh){o&&(t.Gt=this.wr(a,o,h),t.yt=0!==t.Gt.length),(s||h)&&(i.Gt=this.Mr(a,o,s,h),i.yt=i.Gt.length>0);var u=e._r(a.B),l=_(u);n.t=l.t,n.B=l.i,n.ti=a.ti,i.Tt=e.jt().Dt(a.ti/e.Ct().Yt()),t.Tt=u}}},i.prototype.Mr=function(t,i,n,e){var r="",o=this.Pt.dr();return n&&0!==o.length&&(r+="".concat(o," ")),i&&e&&(r+=this.Pt.Ct().br()?t.mr:t.gr),r.trim()},i.prototype.wr=function(t,i,n){return i?n?this.Pt.Ct().br()?t.gr:t.mr:t.Gt:""},i}($),di=function(){function t(t,i){this.pr=t,this.yr=i}return t.prototype.kr=function(t){return null!==t&&this.pr===t.pr&&this.yr===t.yr},t.prototype.Nr=function(){return new t(this.pr,this.yr)},t.prototype.Cr=function(){return this.pr},t.prototype.Sr=function(){return this.yr},t.prototype.Tr=function(){return this.yr-this.pr},t.prototype.wi=function(){return this.yr===this.pr||Number.isNaN(this.yr)||Number.isNaN(this.pr)},t.prototype.xn=function(i){return null===i?this:new t(Math.min(this.Cr(),i.Cr()),Math.max(this.Sr(),i.Sr()))},t.prototype.Dr=function(t){if(T(t)&&0!=this.yr-this.pr){var i=.5*(this.yr+this.pr),n=this.yr-i,e=this.pr-i;n*=t,e*=t,this.yr=i+n,this.pr=i+e}},t.prototype.Br=function(t){T(t)&&(this.yr+=t,this.pr+=t)},t.prototype.Ar=function(){return{minValue:this.pr,maxValue:this.yr}},t.Lr=function(i){return null===i?null:new t(i.minValue,i.maxValue)},t}(),yi=function(){function t(t,i){this.Er=t,this.Fr=i||null}return t.prototype.Or=function(){return this.Er},t.prototype.Vr=function(){return this.Fr},t.prototype.Ar=function(){return null===this.Er?null:{priceRange:this.Er.Ar(),margins:this.Fr||void 0}},t.Lr=function(i){return null===i?null:new t(di.Lr(i.priceRange),i.margins)},t}(),wi=function(t){function i(i,n){var e=t.call(this,i)||this;return e.Rr=n,e}return S(i,t),i.prototype.kh=function(t,i){var n=this.ph;n.yt=!1;var e=this.Rr.W();if(this.Xn.yt()&&e.lineVisible){var r=this.Rr.Wr();null!==r&&(n.yt=!0,n.it=r,n.B=e.color,n.Ht=i,n.Yt=t,n.Vt=e.lineWidth,n.Rt=e.lineStyle)}},i}(qt),mi=function(t){function i(i,n){var e=t.call(this)||this;return e.Ih=i,e.Rr=n,e}return S(i,t),i.prototype.vi=function(t,i,n){t.yt=!1,i.yt=!1;var e=this.Rr.W(),r=e.axisLabelVisible,o=""!==e.title,s=this.Ih;if(r&&s.yt()){var h=this.Rr.Wr();if(null!==h){o&&(i.Gt=e.title,i.yt=!0),i.Tt=s.jt().Dt(h/s.Ct().Yt()),t.Gt=s.Ct().zr(e.price),t.yt=!0;var a=_(e.color);n.t=a.t,n.B=a.i,n.ti=h}}},i}($),gi=function(){function t(t,i){this.Ih=t,this.zi=i,this.Pr=new wi(t,this),this._h=new mi(t,this),this.Ir=new Gt(this._h,t,t.jt())}return t.prototype.jr=function(t){O(this.zi,t),this.vt(),this.Ih.jt().qr()},t.prototype.W=function(){return this.zi},t.prototype.nn=function(){return[this.Pr,this.Ir]},t.prototype.Ur=function(){return this._h},t.prototype.vt=function(){this.Pr.vt(),this._h.vt()},t.prototype.Wr=function(){var t=this.Ih,i=t.Ct();if(t.jt().bt().wi()||i.wi())return null;var n=t.kt();return null===n?null:i.xt(this.zi.price,n.St)},t}(),Mi=function(t){function i(i){var n=t.call(this)||this;return n.gi=i,n}return S(i,t),i.prototype.jt=function(){return this.gi},i}(rt),bi={Fs:"",Zs:"",Xs:""},_i=function(){function t(t){this.Ih=t}return t.prototype.Os=function(t,i){var n=this.Ih.Hr(),e=this.Ih.W();switch(n){case"Line":return this.Yr(e,t,i);case"Area":return this.$r(e);case"Baseline":return this.Kr(e,t,i);case"Bar":return this.Xr(e,t,i);case"Candlestick":return this.Zr(e,t,i);case"Histogram":return this.Jr(e,t,i)}throw new Error("Unknown chart style")},t.prototype.Xr=function(t,i,n){var e=E({},bi),r=t.upColor,o=t.downColor,s=r,h=o,a=f(this.Gr(i,n)),u=p(a.St[0])<=p(a.St[3]);return void 0!==a.B?(e.Fs=a.B,e.Zs=a.B):(e.Fs=u?r:o,e.Zs=u?s:h),e},t.prototype.Zr=function(t,i,n){var e,r,o,s=E({},bi),h=t.upColor,a=t.downColor,u=t.borderUpColor,l=t.borderDownColor,c=t.wickUpColor,v=t.wickDownColor,d=f(this.Gr(i,n)),y=p(d.St[0])<=p(d.St[3]);return s.Fs=null!==(e=d.B)&&void 0!==e?e:y?h:a,s.Zs=null!==(r=d.Tt)&&void 0!==r?r:y?u:l,s.Xs=null!==(o=d.Ks)&&void 0!==o?o:y?c:v,s},t.prototype.$r=function(t){return E(E({},bi),{Fs:t.lineColor})},t.prototype.Kr=function(t,i,n){var e=f(this.Gr(i,n)).St[3]>=t.baseValue.price;return E(E({},bi),{Fs:e?t.topLineColor:t.bottomLineColor})},t.prototype.Yr=function(t,i,n){var e,r=f(this.Gr(i,n));return E(E({},bi),{Fs:null!==(e=r.B)&&void 0!==e?e:t.color})},t.prototype.Jr=function(t,i,n){var e=E({},bi),r=f(this.Gr(i,n));return e.Fs=void 0!==r.B?r.B:t.color,e},t.prototype.Gr=function(t,i){return void 0!==i?i.St:this.Ih.on().Qr(t)},t}();!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(ci||(ci={}));var Ci=function(){function t(){this.te=[],this.ie=new Map,this.ne=new Map}return t.prototype.se=function(){return this.rs()>0?this.te[this.te.length-1]:null},t.prototype.he=function(){return this.rs()>0?this.re(0):null},t.prototype.an=function(){return this.rs()>0?this.re(this.te.length-1):null},t.prototype.rs=function(){return this.te.length},t.prototype.wi=function(){return 0===this.rs()},t.prototype.Xh=function(t){return null!==this.ee(t,0)},t.prototype.Qr=function(t){return this.ue(t)},t.prototype.ue=function(t,i){void 0===i&&(i=0);var n=this.ee(t,i);return null===n?null:E(E({},this.ae(n)),{_s:this.re(n)})},t.prototype.cs=function(){return this.te},t.prototype.oe=function(t,i,n){if(this.wi())return null;for(var e=null,r=0,o=n;r<o.length;r++){var s=o[r];e=Si(e,this.le(t,i,s))}return e},t.prototype.Z=function(t){this.ne.clear(),this.ie.clear(),this.te=t},t.prototype.re=function(t){return this.te[t]._s},t.prototype.ae=function(t){return this.te[t]},t.prototype.ee=function(t,i){var n=this.fe(t);if(null===n&&0!==i)switch(i){case-1:return this.ce(t);case 1:return this.ve(t);default:throw new TypeError("Unknown search mode")}return n},t.prototype.ce=function(t){var i=this._e(t);return i>0&&(i-=1),i!==this.te.length&&this.re(i)<t?i:null},t.prototype.ve=function(t){var i=this.de(t);return i!==this.te.length&&t<this.re(i)?i:null},t.prototype.fe=function(t){var i=this._e(t);return i===this.te.length||t<this.te[i]._s?null:i},t.prototype._e=function(t){return wt(this.te,t,(function(t,i){return t._s<i}))},t.prototype.de=function(t){return mt(this.te,t,(function(t,i){return i._s>t}))},t.prototype.we=function(t,i,n){for(var e=null,r=t;r<i;r++){var o=this.te[r].St[n];Number.isNaN(o)||(null===e?e={Me:o,be:o}:(o<e.Me&&(e.Me=o),o>e.be&&(e.be=o)))}return e},t.prototype.le=function(t,i,n){if(this.wi())return null;var e=null,r=f(this.he()),o=f(this.an()),s=Math.max(t,r),h=Math.min(i,o),a=30*Math.ceil(s/30),u=Math.max(a,30*Math.floor(h/30)),l=this._e(s),c=this.de(Math.min(h,a,i));e=Si(e,this.we(l,c,n));var p=this.ie.get(n);void 0===p&&(p=new Map,this.ie.set(n,p));for(var v=Math.max(a+1,s);v<u;v+=30){var d=Math.floor(v/30),y=p.get(d);if(void 0===y){var w=this._e(30*d),m=this.de(30*(d+1)-1);y=this.we(w,m,n),p.set(d,y)}e=Si(e,y)}return l=this._e(u),c=this.de(h),Si(e,this.we(l,c,n))},t}();function Si(t,i){return null===t?i:null===i?t:{Me:Math.min(t.Me,i.Me),be:Math.max(t.be,i.be)}}var Ei=function(t){function i(i,n,e){var r=t.call(this,i)||this;r.At=new Ci,r.Pr=new pi(r),r.me=[],r.ge=new Jt(r),r.pe=null,r.ye=null,r.ke=[],r.Ne=[],r.xe=null,r.zi=n,r.Ce=e;var o=new vi(r);return r.Ei=[o],r.Ir=new Gt(o,r,i),"Area"!==e&&"Line"!==e&&"Baseline"!==e||(r.pe=new ti(r)),r.Se(),r.Te(),r}return S(i,t),i.prototype.p=function(){null!==this.xe&&clearTimeout(this.xe)},i.prototype._r=function(t){return this.zi.priceLineColor||t},i.prototype.$h=function(t){var i={Kh:!0},n=this.Ct();if(this.jt().bt().wi()||n.wi()||this.At.wi())return i;var e,r,o=this.jt().bt().hs(),s=this.kt();if(null===o||null===s)return i;if(t){var h=this.At.se();if(null===h)return i;e=h,r=h._s}else{var a=this.At.ue(o.qn(),-1);if(null===a)return i;if(null===(e=this.At.Qr(a._s)))return i;r=a._s}var u=e.St[3],l=this.fs().Os(r,{St:e}),c=n.xt(u,s.St);return{Kh:!1,et:u,Gt:n.Mi(u,s.St),mr:n.zr(u),gr:n.De(u,s.St),B:l.Fs,ti:c,_s:r}},i.prototype.fs=function(){return null!==this.ye||(this.ye=new _i(this)),this.ye},i.prototype.W=function(){return this.zi},i.prototype.jr=function(t){var i=t.priceScaleId;void 0!==i&&i!==this.zi.priceScaleId&&this.jt().Be(this,i),O(this.zi,t),void 0!==t.priceFormat&&(this.Se(),this.jt().Ae()),this.jt().Le(this),this.jt().Ee(),this.Yi.vt("options")},i.prototype.Z=function(t,i){this.At.Z(t),this.Fe(),this.Yi.vt("data"),this.Pi.vt("data"),null!==this.pe&&(i&&i.Oe?this.pe.qh():0===t.length&&this.pe.jh());var n=this.jt().wh(this);this.jt().Ve(n),this.jt().Le(this),this.jt().Ee(),this.jt().qr()},i.prototype.Re=function(t){this.ke=t,this.Fe();var i=this.jt().wh(this);this.Pi.vt("data"),this.jt().Ve(i),this.jt().Le(this),this.jt().Ee(),this.jt().qr()},i.prototype.We=function(){return this.ke},i.prototype.cr=function(){return this.Ne},i.prototype.ze=function(t){var i=new gi(this,t);return this.me.push(i),this.jt().Le(this),i},i.prototype.Pe=function(t){var i=this.me.indexOf(t);-1!==i&&this.me.splice(i,1),this.jt().Le(this)},i.prototype.Hr=function(){return this.Ce},i.prototype.kt=function(){var t=this.Ie();return null===t?null:{St:t.St[3],je:t.rt}},i.prototype.Ie=function(){var t=this.jt().bt().hs();if(null===t)return null;var i=t.jn();return this.At.ue(i,1)},i.prototype.on=function(){return this.At},i.prototype.vr=function(t){var i=this.At.Qr(t);return null===i?null:"Bar"===this.Ce||"Candlestick"===this.Ce?{Bs:i.St[0],As:i.St[1],Ls:i.St[2],Es:i.St[3]}:i.St[3]},i.prototype.qe=function(t){var i=this,n=this.pe;return null!==n&&n.yt()?(null===this.xe&&n.Hh()&&(this.xe=setTimeout((function(){i.xe=null,i.jt().Ue()}),0)),n.Uh(),[n]):[]},i.prototype.nn=function(){var t=[];this.He()||t.push(this.ge),t.push(this.Yi,this.Pr,this.Ir,this.Pi);for(var i=0,n=this.me;i<n.length;i++){var e=n[i];t.push.apply(t,e.nn())}return t},i.prototype.sn=function(t,i){if(i!==this.ki&&!this.He())return[];for(var n=x([],this.Ei,!0),e=0,r=this.me;e<r.length;e++){var o=r[e];n.push(o.Ur())}return n},i.prototype.Ye=function(t,i){var n=this;if(void 0!==this.zi.autoscaleInfoProvider){var e=this.zi.autoscaleInfoProvider((function(){var e=n.$e(t,i);return null===e?null:e.Ar()}));return yi.Lr(e)}return this.$e(t,i)},i.prototype.Ke=function(){return this.zi.priceFormat.minMove},i.prototype.Xe=function(){return this.Ze},i.prototype.rn=function(){var t;this.Yi.vt(),this.Pi.vt();for(var i=0,n=this.Ei;i<n.length;i++)n[i].vt();for(var e=0,r=this.me;e<r.length;e++)r[e].vt();this.Pr.vt(),this.ge.vt(),null===(t=this.pe)||void 0===t||t.vt()},i.prototype.Ct=function(){return f(t.prototype.Ct.call(this))},i.prototype.gt=function(t){if("Line"!==this.Ce&&"Area"!==this.Ce&&"Baseline"!==this.Ce||!this.zi.crosshairMarkerVisible)return null;var i=this.At.Qr(t);return null===i?null:{et:i.St[3],st:this.Je(),Tt:this.Ge(),Nt:this.Qe(t)}},i.prototype.dr=function(){return this.zi.title},i.prototype.yt=function(){return this.zi.visible},i.prototype.He=function(){return!st(this.Ct().tu())},i.prototype.$e=function(t,i){if(!z(t)||!z(i)||this.At.wi())return null;var n="Line"===this.Ce||"Area"===this.Ce||"Baseline"===this.Ce||"Histogram"===this.Ce?[3]:[2,1],e=this.At.oe(t,i,n),r=null!==e?new di(e.Me,e.be):null;if("Histogram"===this.Hr()){var o=this.zi.base,s=new di(o,o);r=null!==r?r.xn(s):s}return new yi(r,this.Pi.lr())},i.prototype.Je=function(){switch(this.Ce){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},i.prototype.Ge=function(){switch(this.Ce){case"Line":case"Area":case"Baseline":var t=this.zi.crosshairMarkerBorderColor;if(0!==t.length)return t}return null},i.prototype.Qe=function(t){switch(this.Ce){case"Line":case"Area":case"Baseline":var i=this.zi.crosshairMarkerBackgroundColor;if(0!==i.length)return i}return this.fs().Os(t).Fs},i.prototype.Se=function(){switch(this.zi.priceFormat.type){case"custom":this.Ze={format:this.zi.priceFormat.formatter};break;case"volume":this.Ze=new ct(this.zi.priceFormat.precision);break;case"percent":this.Ze=new lt(this.zi.priceFormat.precision);break;default:var t=Math.pow(10,this.zi.priceFormat.precision);this.Ze=new ut(t,this.zi.priceFormat.minMove*t)}null!==this.ki&&this.ki.iu()},i.prototype.Fe=function(){var t=this,i=this.jt().bt();if(i.wi()||0===this.At.rs())this.Ne=[];else{var n=f(this.At.he());this.Ne=this.ke.map((function(e,r){var o=f(i.nu(e.time,!0)),s=o<n?1:-1;return{time:f(t.At.ue(o,s))._s,position:e.position,shape:e.shape,color:e.color,id:e.id,internalId:r,text:e.text,size:e.size}}))}},i.prototype.Te=function(){switch(this.Pi=new fi(this,this.jt()),this.Ce){case"Bar":this.Yi=new At(this,this.jt());break;case"Candlestick":this.Yi=new Bt(this,this.jt());break;case"Line":this.Yi=new Vt(this,this.jt());break;case"Area":this.Yi=new St(this,this.jt());break;case"Baseline":this.Yi=new Dt(this,this.jt());break;case"Histogram":this.Yi=new It(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.Ce)}},i}(Mi),xi=function(){function t(t){this.zi=t}return t.prototype.su=function(t,i,n){var e=t;if(0===this.zi.mode)return e;var r=n.ji(),o=r.kt();if(null===o)return e;var s=r.xt(t,o),h=n.hu().filter((function(t){return t instanceof Ei})).reduce((function(t,e){if(n.Mh(e)||!e.yt())return t;var r=e.Ct(),o=e.on();if(r.wi()||!o.Xh(i))return t;var s=o.Qr(i);if(null===s)return t;var h=p(e.kt());return t.concat([r.xt(s.St[3],h.St)])}),[]);if(0===h.length)return e;h.sort((function(t,i){return Math.abs(t-s)-Math.abs(i-s)}));var a=h[0];return r.qi(a,o)},t}(),Ai=function(){function t(){this.At=null}return t.prototype.Z=function(t){this.At=t},t.prototype.H=function(t,i,n,e){var r=this;if(null!==this.At){var o=Math.max(1,Math.floor(i));t.lineWidth=o;var s=Math.ceil(this.At.Ot*i),h=Math.ceil(this.At.Ft*i);!function(t,i){t.save(),t.lineWidth%2&&t.translate(.5,.5),i(),t.restore()}(t,(function(){var n=f(r.At);if(n.ru){t.strokeStyle=n.eu,a(t,n.uu),t.beginPath();for(var e=0,u=n.au;e<u.length;e++){var l=u[e],c=Math.round(l.ou*i);t.moveTo(c,-o),t.lineTo(c,s+o)}t.stroke()}if(n.lu){t.strokeStyle=n.fu,a(t,n.cu),t.beginPath();for(var p=0,v=n.vu;p<v.length;p++){var d=v[p],y=Math.round(d.ou*i);t.moveTo(-o,y),t.lineTo(h+o,y)}t.stroke()}}))}},t}(),Oi=function(){function t(t){this.zt=new Ai,this.ft=!0,this.Di=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){if(this.ft){var n=this.Di.jt().W().grid,e={Ot:t,Ft:i,lu:n.horzLines.visible,ru:n.vertLines.visible,fu:n.horzLines.color,eu:n.vertLines.color,cu:n.horzLines.style,uu:n.vertLines.style,vu:this.Di.ji()._u(),au:this.Di.jt().bt()._u()||[]};this.zt.Z(e),this.ft=!1}return this.zt},t}(),Ti=function(){function t(t){this.Yi=new Oi(t)}return t.prototype.du=function(){return this.Yi},t}(),zi={wu:4,Mu:1e-4};function ki(t,i){var n=100*(t-i)/i;return i<0?-n:n}function Li(t,i){var n=ki(t.Cr(),i),e=ki(t.Sr(),i);return new di(n,e)}function ji(t,i){var n=100*(t-i)/i+100;return i<0?-n:n}function Ni(t,i){var n=ji(t.Cr(),i),e=ji(t.Sr(),i);return new di(n,e)}function Di(t,i){var n=Math.abs(t);if(n<1e-15)return 0;var e=zt(n+i.Mu)+i.wu;return t<0?-e:e}function Ri(t,i){var n=Math.abs(t);if(n<1e-15)return 0;var e=Math.pow(10,n-i.wu)-i.Mu;return t<0?-e:e}function Bi(t,i){if(null===t)return null;var n=Di(t.Cr(),i),e=Di(t.Sr(),i);return new di(n,e)}function Fi(t,i){if(null===t)return null;var n=Ri(t.Cr(),i),e=Ri(t.Sr(),i);return new di(n,e)}function Pi(t){if(null===t)return zi;var i=Math.abs(t.Sr()-t.Cr());if(i>=1||i<1e-15)return zi;var n=Math.ceil(Math.abs(Math.log10(i))),e=zi.wu+n;return{wu:e,Mu:1/Math.pow(10,e)}}var Wi,Ii=function(){function t(t,i){if(this.bu=t,this.mu=i,function(t){if(t<0)return!1;for(var i=t;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.bu))this.gu=[2,2.5,2];else{this.gu=[];for(var n=this.bu;1!==n;){if(n%2==0)this.gu.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.gu.push(2,2.5),n/=5}if(this.gu.length>100)throw new Error("something wrong with base")}}}return t.prototype.pu=function(t,i,n){for(var e,r=0===this.bu?0:1/this.bu,o=Math.pow(10,Math.max(0,Math.ceil(zt(t-i)))),s=0,h=this.mu[0];;){var a=Tt(o,r,1e-14)&&o>r+1e-14,u=Tt(o,n*h,1e-14),l=Tt(o,1,1e-14);if(!(a&&u&&l))break;o/=h,h=this.mu[++s%this.mu.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.gu.length>0&&(e=o,1,1e-14,Math.abs(e-1)<1e-14))for(s=0,h=this.gu[0];Tt(o,n*h,1e-14)&&o>r+1e-14;)o/=h,h=this.gu[++s%this.gu.length];return o},t}(),Vi=function(){function t(t,i,n,e){this.yu=[],this._i=t,this.bu=i,this.ku=n,this.Nu=e}return t.prototype.pu=function(t,i){if(t<i)throw new Error("high < low");var n=this._i.Yt(),e=(t-i)*this.xu()/n,r=new Ii(this.bu,[2,2.5,2]),o=new Ii(this.bu,[2,2,2.5]),s=new Ii(this.bu,[2.5,2,2]),h=[];return h.push(r.pu(t,i,e),o.pu(t,i,e),s.pu(t,i,e)),function(t){if(t.length<1)throw Error("array is empty");for(var i=t[0],n=1;n<t.length;++n)t[n]<i&&(i=t[n]);return i}(h)},t.prototype.Cu=function(){var t=this._i,i=t.kt();if(null!==i){var n=t.Yt(),e=this.ku(n-1,i),r=this.ku(0,i),o=this._i.W().entireTextOnly?this.Su()/2:0,s=o,h=n-1-o,a=Math.max(e,r),u=Math.min(e,r);if(a!==u){for(var l=this.pu(a,u),c=a%l,f=a>=u?1:-1,p=null,v=0,d=a-(c+=c<0?l:0);d>u;d-=l){var y=this.Nu(d,i,!0);null!==p&&Math.abs(y-p)<this.xu()||y<s||y>h||(v<this.yu.length?(this.yu[v].ou=y,this.yu[v].Tu=t.Du(d)):this.yu.push({ou:y,Tu:t.Du(d)}),v++,p=y,t.Bu()&&(l=this.pu(d*f,u)))}this.yu.length=v}else this.yu=[]}else this.yu=[]},t.prototype._u=function(){return this.yu},t.prototype.Su=function(){return this._i.S()},t.prototype.xu=function(){return Math.ceil(2.5*this.Su())},t}();function Zi(t){return t.slice().sort((function(t,i){return f(t.xi())-f(i.xi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Wi||(Wi={}));var Hi=new lt,Xi=new ut(100,1),Gi=function(){function t(t,i,n,e){this.Au=0,this.Lu=null,this.Er=null,this.Eu=null,this.Fu={Ou:!1,Vu:null},this.Ru=0,this.Wu=0,this.zu=new A,this.Pu=new A,this.Iu=[],this.ju=null,this.qu=null,this.Uu=null,this.Hu=null,this.Ze=Xi,this.Yu=Pi(null),this.$u=t,this.zi=i,this.Ku=n,this.Xu=e,this.Zu=new Vi(this,100,this.Ju.bind(this),this.Gu.bind(this))}return t.prototype.tu=function(){return this.$u},t.prototype.W=function(){return this.zi},t.prototype.jr=function(t){if(O(this.zi,t),this.iu(),void 0!==t.mode&&this.Qu({Nh:t.mode}),void 0!==t.scaleMargins){var i=c(t.scaleMargins.top),n=c(t.scaleMargins.bottom);if(i<0||i>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(i));if(n<0||n>1||i+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(i+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(i+n));this.ta(),this.qu=null}},t.prototype.ia=function(){return this.zi.autoScale},t.prototype.Bu=function(){return 1===this.zi.mode},t.prototype.br=function(){return 2===this.zi.mode},t.prototype.na=function(){return 3===this.zi.mode},t.prototype.Nh=function(){return{dn:this.zi.autoScale,sa:this.zi.invertScale,Nh:this.zi.mode}},t.prototype.Qu=function(t){var i=this.Nh(),n=null;void 0!==t.dn&&(this.zi.autoScale=t.dn),void 0!==t.Nh&&(this.zi.mode=t.Nh,2!==t.Nh&&3!==t.Nh||(this.zi.autoScale=!0),this.Fu.Ou=!1),1===i.Nh&&t.Nh!==i.Nh&&(function(t,i){if(null===t)return!1;var n=Ri(t.Cr(),i),e=Ri(t.Sr(),i);return isFinite(n)&&isFinite(e)}(this.Er,this.Yu)?null!==(n=Fi(this.Er,this.Yu))&&this.ha(n):this.zi.autoScale=!0),1===t.Nh&&t.Nh!==i.Nh&&null!==(n=Bi(this.Er,this.Yu))&&this.ha(n);var e=i.Nh!==this.zi.mode;e&&(2===i.Nh||this.br())&&this.iu(),e&&(3===i.Nh||this.na())&&this.iu(),void 0!==t.sa&&i.sa!==t.sa&&(this.zi.invertScale=t.sa,this.ra()),this.Pu.m(i,this.Nh())},t.prototype.ea=function(){return this.Pu},t.prototype.S=function(){return this.Ku.fontSize},t.prototype.Yt=function(){return this.Au},t.prototype.ua=function(t){this.Au!==t&&(this.Au=t,this.ta(),this.qu=null)},t.prototype.aa=function(){if(this.Lu)return this.Lu;var t=this.Yt()-this.oa()-this.la();return this.Lu=t,t},t.prototype.Or=function(){return this.fa(),this.Er},t.prototype.ha=function(t,i){var n=this.Er;(i||null===n&&null!==t||null!==n&&!n.kr(t))&&(this.qu=null,this.Er=t)},t.prototype.wi=function(){return this.fa(),0===this.Au||!this.Er||this.Er.wi()},t.prototype.ca=function(t){return this.sa()?t:this.Yt()-1-t},t.prototype.xt=function(t,i){return this.br()?t=ki(t,i):this.na()&&(t=ji(t,i)),this.Gu(t,i)},t.prototype.os=function(t,i,n){this.fa();for(var e=this.la(),r=f(this.Or()),o=r.Cr(),s=r.Sr(),h=this.aa()-1,a=this.sa(),u=h/(s-o),l=void 0===n?0:n.from,c=void 0===n?t.length:n.to,p=this.va(),v=l;v<c;v++){var d=t[v],y=d.et;if(!isNaN(y)){var w=y;null!==p&&(w=p(d.et,i));var m=e+u*(w-o),g=a?m:this.Au-1-m;d.it=g}}},t.prototype.Ts=function(t,i,n){this.fa();for(var e=this.la(),r=f(this.Or()),o=r.Cr(),s=r.Sr(),h=this.aa()-1,a=this.sa(),u=h/(s-o),l=void 0===n?0:n.from,c=void 0===n?t.length:n.to,p=this.va(),v=l;v<c;v++){var d=t[v],y=d.Bs,w=d.As,m=d.Ls,g=d.Es;null!==p&&(y=p(d.Bs,i),w=p(d.As,i),m=p(d.Ls,i),g=p(d.Es,i));var M=e+u*(y-o),b=a?M:this.Au-1-M;d.Cs=b,M=e+u*(w-o),b=a?M:this.Au-1-M,d.ks=b,M=e+u*(m-o),b=a?M:this.Au-1-M,d.Ns=b,M=e+u*(g-o),b=a?M:this.Au-1-M,d.Ss=b}},t.prototype.qi=function(t,i){var n=this.Ju(t,i);return this._a(n,i)},t.prototype._a=function(t,i){var n=t;return this.br()?n=function(t,i){return i<0&&(t=-t),t/100*i+i}(n,i):this.na()&&(n=function(t,i){return t-=100,i<0&&(t=-t),t/100*i+i}(n,i)),n},t.prototype.hu=function(){return this.Iu},t.prototype.da=function(){if(this.ju)return this.ju;for(var t=[],i=0;i<this.Iu.length;i++){var n=this.Iu[i];null===n.xi()&&n.Ci(i+1),t.push(n)}return t=Zi(t),this.ju=t,this.ju},t.prototype.wa=function(t){-1===this.Iu.indexOf(t)&&(this.Iu.push(t),this.iu(),this.Ma())},t.prototype.ba=function(t){var i=this.Iu.indexOf(t);if(-1===i)throw new Error("source is not attached to scale");this.Iu.splice(i,1),0===this.Iu.length&&(this.Qu({dn:!0}),this.ha(null)),this.iu(),this.Ma()},t.prototype.kt=function(){for(var t=null,i=0,n=this.Iu;i<n.length;i++){var e=n[i].kt();null!==e&&(null===t||e.je<t.je)&&(t=e)}return null===t?null:t.St},t.prototype.sa=function(){return this.zi.invertScale},t.prototype._u=function(){var t=null===this.kt();if(null!==this.qu&&(t||this.qu.ma===t))return this.qu._u;this.Zu.Cu();var i=this.Zu._u();return this.qu={_u:i,ma:t},this.zu.m(),i},t.prototype.ga=function(){return this.zu},t.prototype.pa=function(t){this.br()||this.na()||null===this.Uu&&null===this.Eu&&(this.wi()||(this.Uu=this.Au-t,this.Eu=f(this.Or()).Nr()))},t.prototype.ya=function(t){if(!this.br()&&!this.na()&&null!==this.Uu){this.Qu({dn:!1}),(t=this.Au-t)<0&&(t=0);var i=(this.Uu+.2*(this.Au-1))/(t+.2*(this.Au-1)),n=f(this.Eu).Nr();i=Math.max(i,.1),n.Dr(i),this.ha(n)}},t.prototype.ka=function(){this.br()||this.na()||(this.Uu=null,this.Eu=null)},t.prototype.Na=function(t){this.ia()||null===this.Hu&&null===this.Eu&&(this.wi()||(this.Hu=t,this.Eu=f(this.Or()).Nr()))},t.prototype.xa=function(t){if(!this.ia()&&null!==this.Hu){var i=f(this.Or()).Tr()/(this.aa()-1),n=t-this.Hu;this.sa()&&(n*=-1);var e=n*i,r=f(this.Eu).Nr();r.Br(e),this.ha(r,!0),this.qu=null}},t.prototype.Ca=function(){this.ia()||null!==this.Hu&&(this.Hu=null,this.Eu=null)},t.prototype.Xe=function(){return this.Ze||this.iu(),this.Ze},t.prototype.Mi=function(t,i){switch(this.zi.mode){case 2:return this.Xe().format(ki(t,i));case 3:return this.Xe().format(ji(t,i));default:return this.Sa(t)}},t.prototype.Du=function(t){switch(this.zi.mode){case 2:case 3:return this.Xe().format(t);default:return this.Sa(t)}},t.prototype.zr=function(t){return this.Sa(t,f(this.Ta()).Xe())},t.prototype.De=function(t,i){return t=ki(t,i),Hi.format(t)},t.prototype.Da=function(){return this.Iu},t.prototype.Ba=function(t){this.Fu={Vu:t,Ou:!1}},t.prototype.rn=function(){this.Iu.forEach((function(t){return t.rn()}))},t.prototype.iu=function(){this.qu=null;var t=this.Ta(),i=100;null!==t&&(i=Math.round(1/t.Ke())),this.Ze=Xi,this.br()?(this.Ze=Hi,i=100):this.na()?(this.Ze=new ut(100,1),i=100):null!==t&&(this.Ze=t.Xe()),this.Zu=new Vi(this,i,this.Ju.bind(this),this.Gu.bind(this)),this.Zu.Cu()},t.prototype.Ma=function(){this.ju=null},t.prototype.Ta=function(){return this.Iu[0]||null},t.prototype.oa=function(){return this.sa()?this.zi.scaleMargins.bottom*this.Yt()+this.Wu:this.zi.scaleMargins.top*this.Yt()+this.Ru},t.prototype.la=function(){return this.sa()?this.zi.scaleMargins.top*this.Yt()+this.Ru:this.zi.scaleMargins.bottom*this.Yt()+this.Wu},t.prototype.fa=function(){this.Fu.Ou||(this.Fu.Ou=!0,this.Aa())},t.prototype.ta=function(){this.Lu=null},t.prototype.Gu=function(t,i){if(this.fa(),this.wi())return 0;t=this.Bu()&&t?Di(t,this.Yu):t;var n=f(this.Or()),e=this.la()+(this.aa()-1)*(t-n.Cr())/n.Tr();return this.ca(e)},t.prototype.Ju=function(t,i){if(this.fa(),this.wi())return 0;var n=this.ca(t),e=f(this.Or()),r=e.Cr()+e.Tr()*((n-this.la())/(this.aa()-1));return this.Bu()?Ri(r,this.Yu):r},t.prototype.ra=function(){this.qu=null,this.Zu.Cu()},t.prototype.Aa=function(){var t=this.Fu.Vu;if(null!==t){for(var i,n,e=null,r=0,o=0,s=0,h=this.Da();s<h.length;s++){var a=h[s];if(a.yt()){var u=a.kt();if(null!==u){var l=a.Ye(t.jn(),t.qn()),c=l&&l.Or();if(null!==c){switch(this.zi.mode){case 1:c=Bi(c,this.Yu);break;case 2:c=Li(c,u.St);break;case 3:c=Ni(c,u.St)}if(e=null===e?c:e.xn(f(c)),null!==l){var p=l.Vr();null!==p&&(r=Math.max(r,p.above),o=Math.max(r,p.below))}}}}}if(r===this.Ru&&o===this.Wu||(this.Ru=r,this.Wu=o,this.qu=null,this.ta()),null!==e){if(e.Cr()===e.Sr()){var v=this.Ta(),d=5*(null===v||this.br()||this.na()?1:v.Ke());this.Bu()&&(e=Fi(e,this.Yu)),e=new di(e.Cr()-d,e.Sr()+d),this.Bu()&&(e=Bi(e,this.Yu))}if(this.Bu()){var y=Fi(e,this.Yu),w=Pi(y);if(i=w,n=this.Yu,i.wu!==n.wu||i.Mu!==n.Mu){var m=null!==this.Eu?Fi(this.Eu,this.Yu):null;this.Yu=w,e=Bi(y,w),null!==m&&(this.Eu=Bi(m,w))}}this.ha(e)}else null===this.Er&&(this.ha(new di(-.5,.5)),this.Yu=Pi(null));this.Fu.Ou=!0}},t.prototype.va=function(){var t=this;return this.br()?ki:this.na()?ji:this.Bu()?function(i){return Di(i,t.Yu)}:null},t.prototype.Sa=function(t,i){return void 0===this.Xu.priceFormatter?(void 0===i&&(i=this.Xe()),i.format(t)):this.Xu.priceFormatter(t)},t}(),Yi=function(){function t(t,i){this.Iu=[],this.La=new Map,this.Au=0,this.oh=0,this.Ea=1e3,this.ju=null,this.Fa=new A,this.Oa=t,this.gi=i,this.Va=new Ti(this);var n=i.W();this.Ra=this.Wa("left",n.leftPriceScale),this.za=this.Wa("right",n.rightPriceScale),this.Ra.ea().u(this.Pa.bind(this,this.Ra),this),this.za.ea().u(this.Pa.bind(this,this.Ra),this),this.Ia(n)}return t.prototype.Ia=function(t){if(t.leftPriceScale&&this.Ra.jr(t.leftPriceScale),t.rightPriceScale&&this.za.jr(t.rightPriceScale),t.localization&&(this.Ra.iu(),this.za.iu()),t.overlayPriceScales)for(var i=0,n=Array.from(this.La.values());i<n.length;i++){var e=f(n[i][0].Ct());e.jr(t.overlayPriceScales),t.localization&&e.iu()}},t.prototype.ja=function(t){switch(t){case"left":return this.Ra;case"right":return this.za}return this.La.has(t)?c(this.La.get(t))[0].Ct():null},t.prototype.p=function(){this.jt().qa().M(this),this.Ra.ea().M(this),this.za.ea().M(this),this.Iu.forEach((function(t){t.p&&t.p()})),this.Fa.m()},t.prototype.Ua=function(){return this.Ea},t.prototype.Ha=function(t){this.Ea=t},t.prototype.jt=function(){return this.gi},t.prototype.Ht=function(){return this.oh},t.prototype.Yt=function(){return this.Au},t.prototype.Ya=function(t){this.oh=t,this.$a()},t.prototype.ua=function(t){var i=this;this.Au=t,this.Ra.ua(t),this.za.ua(t),this.Iu.forEach((function(n){if(i.Mh(n)){var e=n.Ct();null!==e&&e.ua(t)}})),this.$a()},t.prototype.hu=function(){return this.Iu},t.prototype.Mh=function(t){var i=t.Ct();return null===i||this.Ra!==i&&this.za!==i},t.prototype.wa=function(t,i,n){var e=void 0!==n?n:this.Xa().Ka+1;this.Za(t,i,e)},t.prototype.ba=function(t){var i=this.Iu.indexOf(t);l(-1!==i,"removeDataSource: invalid data source"),this.Iu.splice(i,1);var n=f(t.Ct()).tu();if(this.La.has(n)){var e=c(this.La.get(n)),r=e.indexOf(t);-1!==r&&(e.splice(r,1),0===e.length&&this.La.delete(n))}var o=t.Ct();o&&o.hu().indexOf(t)>=0&&o.ba(t),null!==o&&(o.Ma(),this.Ja(o)),this.ju=null},t.prototype.mh=function(t){return t===this.Ra?"left":t===this.za?"right":"overlay"},t.prototype.Ga=function(){return this.Ra},t.prototype.Qa=function(){return this.za},t.prototype.io=function(t,i){t.pa(i)},t.prototype.no=function(t,i){t.ya(i),this.$a()},t.prototype.so=function(t){t.ka()},t.prototype.ho=function(t,i){t.Na(i)},t.prototype.ro=function(t,i){t.xa(i),this.$a()},t.prototype.eo=function(t){t.Ca()},t.prototype.$a=function(){this.Iu.forEach((function(t){t.rn()}))},t.prototype.ji=function(){var t=null;return this.gi.W().rightPriceScale.visible&&0!==this.za.hu().length?t=this.za:this.gi.W().leftPriceScale.visible&&0!==this.Ra.hu().length?t=this.Ra:0!==this.Iu.length&&(t=this.Iu[0].Ct()),null===t&&(t=this.za),t},t.prototype.bh=function(){var t=null;return this.gi.W().rightPriceScale.visible?t=this.za:this.gi.W().leftPriceScale.visible&&(t=this.Ra),t},t.prototype.Ja=function(t){null!==t&&t.ia()&&this.uo(t)},t.prototype.ao=function(t){var i=this.Oa.hs();t.Qu({dn:!0}),null!==i&&t.Ba(i),this.$a()},t.prototype.oo=function(){this.uo(this.Ra),this.uo(this.za)},t.prototype.lo=function(){var t=this;this.Ja(this.Ra),this.Ja(this.za),this.Iu.forEach((function(i){t.Mh(i)&&t.Ja(i.Ct())})),this.$a(),this.gi.qr()},t.prototype.da=function(){return null===this.ju&&(this.ju=Zi(this.Iu)),this.ju},t.prototype.fo=function(){return this.Fa},t.prototype.co=function(){return this.Va},t.prototype.uo=function(t){var i=t.Da();if(i&&i.length>0&&!this.Oa.wi()){var n=this.Oa.hs();null!==n&&t.Ba(n)}t.rn()},t.prototype.Xa=function(){var t=this.da();if(0===t.length)return{vo:0,Ka:0};for(var i=0,n=0,e=0;e<t.length;e++){var r=t[e].xi();null!==r&&(r<i&&(i=r),r>n&&(n=r))}return{vo:i,Ka:n}},t.prototype.Za=function(t,i,n){var e=this.ja(i);if(null===e&&(e=this.Wa(i,this.gi.W().overlayPriceScales)),this.Iu.push(t),!st(i)){var r=this.La.get(i)||[];r.push(t),this.La.set(i,r)}e.wa(t),t.Si(e),t.Ci(n),this.Ja(e),this.ju=null},t.prototype.Pa=function(t,i,n){i.Nh!==n.Nh&&this.uo(t)},t.prototype.Wa=function(t,i){var n=E({visible:!0,autoScale:!0},j(i)),e=new Gi(t,n,this.gi.W().layout,this.gi.W().localization);return e.ua(this.Yt()),e},t}(),qi=function(t){return t.getUTCFullYear()};var Ji=function(){function t(t,i){void 0===t&&(t="yyyy-MM-dd"),void 0===i&&(i="default"),this._o=t,this.do=i}return t.prototype.wo=function(t){return function(t,i,n){return i.replace(/yyyy/g,function(t){return at(qi(t),4)}(t)).replace(/yy/g,function(t){return at(qi(t)%100,2)}(t)).replace(/MMMM/g,function(t,i){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"long"})}(t,n)).replace(/MMM/g,function(t,i){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"short"})}(t,n)).replace(/MM/g,function(t){return at(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return at(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this._o,this.do)},t}(),Ui=function(){function t(t){this.Mo=t||"%h:%m:%s"}return t.prototype.wo=function(t){return this.Mo.replace("%h",at(t.getUTCHours(),2)).replace("%m",at(t.getUTCMinutes(),2)).replace("%s",at(t.getUTCSeconds(),2))},t}(),Qi={bo:"yyyy-MM-dd",mo:"%h:%m:%s",po:" ",yo:"default"},Ki=function(){function t(t){void 0===t&&(t={});var i=E(E({},Qi),t);this.ko=new Ji(i.bo,i.yo),this.No=new Ui(i.mo),this.xo=i.po}return t.prototype.wo=function(t){return"".concat(this.ko.wo(t)).concat(this.xo).concat(this.No.wo(t))},t}(),$i=function(){function t(t,i){void 0===i&&(i=50),this.Co=0,this.So=1,this.To=1,this.sh=new Map,this.Do=new Map,this.Bo=t,this.Ao=i}return t.prototype.wo=function(t){var i=t.rt,n=void 0===i.Lo?new Date(1e3*i.Eo).getTime():new Date(Date.UTC(i.Lo.year,i.Lo.month-1,i.Lo.day)).getTime(),e=this.sh.get(n);if(void 0!==e)return e.Fo;if(this.Co===this.Ao){var r=this.Do.get(this.To);this.Do.delete(this.To),this.sh.delete(c(r)),this.To++,this.Co--}var o=this.Bo(t);return this.sh.set(n,{Fo:o,Oo:this.So}),this.Do.set(this.So,n),this.Co++,this.So++,o},t}(),tn=function(){function t(t,i){l(t<=i,"right should be >= left"),this.Vo=t,this.Ro=i}return t.prototype.jn=function(){return this.Vo},t.prototype.qn=function(){return this.Ro},t.prototype.Wo=function(){return this.Ro-this.Vo+1},t.prototype.Xh=function(t){return this.Vo<=t&&t<=this.Ro},t.prototype.kr=function(t){return this.Vo===t.jn()&&this.Ro===t.qn()},t}();function nn(t,i){return null===t||null===i?t===i:t.kr(i)}var en,rn=function(){function t(){this.zo=new Map,this.sh=null}return t.prototype.Po=function(t,i){this.Io(i),this.sh=null;for(var n=i;n<t.length;++n){var e=t[n],r=this.zo.get(e.jo);void 0===r&&(r=[],this.zo.set(e.jo,r)),r.push({_s:n,rt:e.rt,qo:e.jo,Uo:e.Uo})}},t.prototype.Ho=function(t,i){var n=Math.ceil(i/t);return null!==this.sh&&this.sh.Yo===n||(this.sh={_u:this.$o(n),Yo:n}),this.sh._u},t.prototype.Io=function(t){if(0!==t){var i=[];this.zo.forEach((function(n,e){t<=n[0]._s?i.push(e):n.splice(wt(n,t,(function(i){return i._s<t})),1/0)}));for(var n=0,e=i;n<e.length;n++){var r=e[n];this.zo.delete(r)}}else this.zo.clear()},t.prototype.$o=function(t){for(var i=[],n=0,e=Array.from(this.zo.keys()).sort((function(t,i){return i-t}));n<e.length;n++){var r=e[n];if(this.zo.get(r)){var o=i;i=[];for(var s=o.length,h=0,a=c(this.zo.get(r)),u=a.length,l=1/0,f=-1/0,p=0;p<u;p++){for(var v=a[p],d=v._s;h<s;){var y=o[h],w=y._s;if(!(w<d)){l=w;break}h++,i.push(y),f=w,l=1/0}l-d>=t&&d-f>=t&&(i.push(v),f=d)}for(;h<s;h++)i.push(o[h])}}return i},t}(),on=function(){function t(t){this.Ko=t}return t.prototype.Xo=function(){return null===this.Ko?null:new tn(Math.floor(this.Ko.jn()),Math.ceil(this.Ko.qn()))},t.prototype.Zo=function(){return this.Ko},t.Jo=function(){return new t(null)},t}();!function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(en||(en={}));var sn,hn=function(){function t(t,i,n){this.oh=0,this.Go=null,this.Qo=[],this.Hu=null,this.Uu=null,this.tl=new rn,this.il=new Map,this.nl=on.Jo(),this.sl=!0,this.hl=new A,this.rl=new A,this.el=new A,this.ul=null,this.al=null,this.ol=[],this.zi=i,this.Xu=n,this.ll=i.rightOffset,this.fl=i.barSpacing,this.gi=t,this.cl()}return t.prototype.W=function(){return this.zi},t.prototype.vl=function(t){O(this.Xu,t),this._l(),this.cl()},t.prototype.jr=function(t,i){var n;O(this.zi,t),this.zi.fixLeftEdge&&this.dl(),this.zi.fixRightEdge&&this.wl(),void 0!==t.barSpacing&&this.gi.yn(t.barSpacing),void 0!==t.rightOffset&&this.gi.kn(t.rightOffset),void 0!==t.minBarSpacing&&this.gi.yn(null!==(n=t.barSpacing)&&void 0!==n?n:this.fl),this._l(),this.cl(),this.el.m()},t.prototype.Ui=function(t){var i,n;return null!==(n=null===(i=this.Qo[t])||void 0===i?void 0:i.rt)&&void 0!==n?n:null},t.prototype.pi=function(t){var i;return null!==(i=this.Qo[t])&&void 0!==i?i:null},t.prototype.nu=function(t,i){if(this.Qo.length<1)return null;if(t.Eo>this.Qo[this.Qo.length-1].rt.Eo)return i?this.Qo.length-1:null;var n=wt(this.Qo,t.Eo,(function(t,i){return t.rt.Eo<i}));return t.Eo<this.Qo[n].rt.Eo?i?n:null:n},t.prototype.wi=function(){return 0===this.oh||0===this.Qo.length||null===this.Go},t.prototype.hs=function(){return this.Ml(),this.nl.Xo()},t.prototype.bl=function(){return this.Ml(),this.nl.Zo()},t.prototype.ml=function(){var t=this.hs();if(null===t)return null;var i={from:t.jn(),to:t.qn()};return this.gl(i)},t.prototype.gl=function(t){var i=Math.round(t.from),n=Math.round(t.to),e=f(this.pl()),r=f(this.yl());return{from:f(this.Ui(Math.max(e,i))),to:f(this.Ui(Math.min(r,n)))}},t.prototype.kl=function(t){return{from:f(this.nu(t.from,!0)),to:f(this.nu(t.to,!0))}},t.prototype.Ht=function(){return this.oh},t.prototype.Ya=function(t){if(isFinite(t)&&!(t<=0)&&this.oh!==t){var i=this.bl(),n=this.oh;if(this.oh=t,this.sl=!0,this.zi.lockVisibleTimeRangeOnResize&&0!==n){var e=this.fl*t/n;this.fl=e}if(this.zi.fixLeftEdge&&null!==i&&i.jn()<=0){var r=n-t;this.ll-=Math.round(r/this.fl)+1,this.sl=!0}this.Nl(),this.xl()}},t.prototype.Bt=function(t){if(this.wi()||!z(t))return 0;var i=this.Cl()+this.ll-t;return this.oh-(i+.5)*this.fl-1},t.prototype.us=function(t,i){for(var n=this.Cl(),e=void 0===i?0:i.from,r=void 0===i?t.length:i.to,o=e;o<r;o++){var s=t[o].rt,h=n+this.ll-s,a=this.oh-(h+.5)*this.fl-1;t[o].tt=a}},t.prototype.Sl=function(t){return Math.ceil(this.Tl(t))},t.prototype.kn=function(t){this.sl=!0,this.ll=t,this.xl(),this.gi.Dl(),this.gi.qr()},t.prototype.Ms=function(){return this.fl},t.prototype.yn=function(t){this.Bl(t),this.xl(),this.gi.Dl(),this.gi.qr()},t.prototype.Al=function(){return this.ll},t.prototype._u=function(){if(this.wi())return null;if(null!==this.al)return this.al;for(var t=this.fl,i=5*(this.gi.W().layout.fontSize+4),n=Math.round(i/t),e=f(this.hs()),r=Math.max(e.jn(),e.jn()-n),o=Math.max(e.qn(),e.qn()-n),s=this.tl.Ho(t,i),h=this.pl()+n,a=this.yl()-n,u=this.Ll(),l=this.zi.fixLeftEdge||u,c=this.zi.fixRightEdge||u,p=0,v=0,d=s;v<d.length;v++){var y=d[v];if(r<=y._s&&y._s<=o){var w=void 0;p<this.ol.length?((w=this.ol[p]).ou=this.Bt(y._s),w.Tu=this.El(y),w.qo=y.qo):(w={Fl:!1,ou:this.Bt(y._s),Tu:this.El(y),qo:y.qo},this.ol.push(w)),this.fl>i/2&&!u?w.Fl=!1:w.Fl=l&&y._s<=h||c&&y._s>=a,p++}}return this.ol.length=p,this.al=this.ol,this.ol},t.prototype.Ol=function(){this.sl=!0,this.yn(this.zi.barSpacing),this.kn(this.zi.rightOffset)},t.prototype.Vl=function(t){this.sl=!0,this.Go=t,this.xl(),this.dl()},t.prototype.Rl=function(t,i){var n=this.Tl(t),e=this.Ms(),r=e+i*(e/10);this.yn(r),this.zi.rightBarStaysOnScroll||this.kn(this.Al()+(n-this.Tl(t)))},t.prototype.pa=function(t){this.Hu&&this.Ca(),null===this.Uu&&null===this.ul&&(this.wi()||(this.Uu=t,this.Wl()))},t.prototype.ya=function(t){if(null!==this.ul){var i=Ot(this.oh-t,0,this.oh),n=Ot(this.oh-f(this.Uu),0,this.oh);0!==i&&0!==n&&this.yn(this.ul.Ms*i/n)}},t.prototype.ka=function(){null!==this.Uu&&(this.Uu=null,this.zl())},t.prototype.Na=function(t){null===this.Hu&&null===this.ul&&(this.wi()||(this.Hu=t,this.Wl()))},t.prototype.xa=function(t){if(null!==this.Hu){var i=(this.Hu-t)/this.Ms();this.ll=f(this.ul).Al+i,this.sl=!0,this.xl()}},t.prototype.Ca=function(){null!==this.Hu&&(this.Hu=null,this.zl())},t.prototype.Pl=function(){this.Il(this.zi.rightOffset)},t.prototype.Il=function(t,i){var n=this;if(void 0===i&&(i=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var e=this.ll,r=performance.now();!function o(){var s=(performance.now()-r)/i,h=s>=1,a=h?t:e+(t-e)*s;n.kn(a),h||setTimeout(o,20)}()},t.prototype.vt=function(t,i){this.sl=!0,this.Qo=t,this.tl.Po(t,i),this.xl()},t.prototype.jl=function(){return this.hl},t.prototype.ql=function(){return this.rl},t.prototype.Ul=function(){return this.el},t.prototype.Cl=function(){return this.Go||0},t.prototype.Hl=function(t){var i=t.Wo();this.Bl(this.oh/i),this.ll=t.qn()-this.Cl(),this.xl(),this.sl=!0,this.gi.Dl(),this.gi.qr()},t.prototype.Yl=function(){var t=this.pl(),i=this.yl();null!==t&&null!==i&&this.Hl(new tn(t,i+this.zi.rightOffset))},t.prototype.$l=function(t){var i=new tn(t.from,t.to);this.Hl(i)},t.prototype.yi=function(t){return void 0!==this.Xu.timeFormatter?this.Xu.timeFormatter(t.Uo):this.Kl.wo(new Date(1e3*t.rt.Eo))},t.prototype.Ll=function(){var t=this.gi.W(),i=t.handleScroll,n=t.handleScale;return!(i.horzTouchDrag||i.mouseWheel||i.pressedMouseMove||i.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},t.prototype.pl=function(){return 0===this.Qo.length?null:0},t.prototype.yl=function(){return 0===this.Qo.length?null:this.Qo.length-1},t.prototype.Xl=function(t){return(this.oh-1-t)/this.fl},t.prototype.Tl=function(t){var i=this.Xl(t),n=this.Cl()+this.ll-i;return Math.round(1e6*n)/1e6},t.prototype.Bl=function(t){var i=this.fl;this.fl=t,this.Nl(),i!==this.fl&&(this.sl=!0,this.Zl())},t.prototype.Ml=function(){if(this.sl)if(this.sl=!1,this.wi())this.Jl(on.Jo());else{var t=this.Cl(),i=this.oh/this.fl,n=this.ll+t,e=new tn(n-i+1,n);this.Jl(new on(e))}},t.prototype.Nl=function(){var t=this.Gl();if(this.fl<t&&(this.fl=t,this.sl=!0),0!==this.oh){var i=.5*this.oh;this.fl>i&&(this.fl=i,this.sl=!0)}},t.prototype.Gl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Qo.length?this.oh/this.Qo.length:this.zi.minBarSpacing},t.prototype.xl=function(){var t=this.Ql();this.ll>t&&(this.ll=t,this.sl=!0);var i=this.tf();null!==i&&this.ll<i&&(this.ll=i,this.sl=!0)},t.prototype.tf=function(){var t=this.pl(),i=this.Go;return null===t||null===i?null:t-i-1+(this.zi.fixLeftEdge?this.oh/this.fl:Math.min(2,this.Qo.length))},t.prototype.Ql=function(){return this.zi.fixRightEdge?0:this.oh/this.fl-Math.min(2,this.Qo.length)},t.prototype.Wl=function(){this.ul={Ms:this.Ms(),Al:this.Al()}},t.prototype.zl=function(){this.ul=null},t.prototype.El=function(t){var i=this,n=this.il.get(t.qo);return void 0===n&&(n=new $i((function(t){return i.if(t)})),this.il.set(t.qo,n)),n.wo(t)},t.prototype.if=function(t){var i=function(t,i,n){switch(t){case 0:case 10:return i?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return i?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.qo,this.zi.timeVisible,this.zi.secondsVisible);return void 0!==this.zi.tickMarkFormatter?this.zi.tickMarkFormatter(t.Uo,i,this.Xu.locale):function(t,i,n){var e={};switch(i){case 0:e.year="numeric";break;case 1:e.month="short";break;case 2:e.day="numeric";break;case 3:e.hour12=!1,e.hour="2-digit",e.minute="2-digit";break;case 4:e.hour12=!1,e.hour="2-digit",e.minute="2-digit",e.second="2-digit"}var r=void 0===t.Lo?new Date(1e3*t.Eo):new Date(Date.UTC(t.Lo.year,t.Lo.month-1,t.Lo.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(n,e)}(t.rt,i,this.Xu.locale)},t.prototype.Jl=function(t){var i=this.nl;this.nl=t,nn(i.Xo(),this.nl.Xo())||this.hl.m(),nn(i.Zo(),this.nl.Zo())||this.rl.m(),this.Zl()},t.prototype.Zl=function(){this.al=null},t.prototype._l=function(){this.Zl(),this.il.clear()},t.prototype.cl=function(){var t=this.Xu.dateFormat;this.zi.timeVisible?this.Kl=new Ki({bo:t,mo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",po:"   ",yo:this.Xu.locale}):this.Kl=new Ji(t,this.Xu.locale)},t.prototype.dl=function(){if(this.zi.fixLeftEdge){var t=this.pl();if(null!==t){var i=this.hs();if(null!==i){var n=i.jn()-t;if(n<0){var e=this.ll-n-1;this.kn(e)}this.Nl()}}}},t.prototype.wl=function(){this.xl(),this.Nl()},t}(),an=function(t){function i(i){var n=t.call(this)||this;return n.nf=new Map,n.At=i,n}return S(i,t),i.prototype.Y=function(t){},i.prototype.K=function(t){if(this.At.yt){t.save();for(var i=0,n=0,e=this.At.sf;n<e.length;n++)if(0!==(a=e[n]).Gt.length){t.font=a.T;var r=this.hf(t,a.Gt);r>this.At.Ht?a.Rl=this.At.Ht/r:a.Rl=1,i+=a.rf*a.Rl}var o=0;switch(this.At.ef){case"top":o=0;break;case"center":o=Math.max((this.At.Yt-i)/2,0);break;case"bottom":o=Math.max(this.At.Yt-i,0)}t.fillStyle=this.At.B;for(var s=0,h=this.At.sf;s<h.length;s++){var a=h[s];t.save();var u=0;switch(this.At.uf){case"left":t.textAlign="left",u=a.rf/2;break;case"center":t.textAlign="center",u=this.At.Ht/2;break;case"right":t.textAlign="right",u=this.At.Ht-1-a.rf/2}t.translate(u,o),t.textBaseline="top",t.font=a.T,t.scale(a.Rl,a.Rl),t.fillText(a.Gt,0,a.af),t.restore(),o+=a.rf*a.Rl}t.restore()}},i.prototype.hf=function(t,i){var n=this.lf(t.font),e=n.get(i);return void 0===e&&(e=t.measureText(i).width,n.set(i,e)),e},i.prototype.lf=function(t){var i=this.nf.get(t);return void 0===i&&(i=new Map,this.nf.set(t,i)),i},i}(W),un=function(){function t(t){this.ft=!0,this.Wt={yt:!1,B:"",Yt:0,Ht:0,sf:[],ef:"center",uf:"center"},this.zt=new an(this.Wt),this.Pt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.ft&&(this.wt(t,i),this.ft=!1),this.zt},t.prototype.wt=function(t,i){var n=this.Pt.W(),e=this.Wt;e.yt=n.visible,e.yt&&(e.B=n.color,e.Ht=i,e.Yt=t,e.uf=n.horzAlign,e.ef=n.vertAlign,e.sf=[{Gt:n.text,T:B(n.fontSize,n.fontFamily,n.fontStyle),rf:1.2*n.fontSize,af:0,Rl:0}])},t}(),ln=function(t){function i(i,n){var e=t.call(this)||this;return e.zi=n,e.Yi=new un(e),e}return S(i,t),i.prototype.sn=function(){return[]},i.prototype.nn=function(){return[this.Yi]},i.prototype.W=function(){return this.zi},i.prototype.rn=function(){this.Yi.vt()},i}(rt);!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(sn||(sn={}));var cn,fn,pn,vn=function(){function t(t,i){this.ff=[],this.cf=[],this.oh=0,this.vf=null,this._f=null,this.df=new A,this.wf=new A,this.Mf=null,this.bf=t,this.zi=i,this.mf=new F(this),this.Oa=new hn(this,i.timeScale,this.zi.localization),this.ct=new ot(this,i.crosshair),this.gf=new xi(i.crosshair),this.pf=new ln(this,i.watermark),this.yf(),this.ff[0].Ha(2e3),this.kf=this.Nf(0),this.xf=this.Nf(1)}return t.prototype.Ae=function(){this.Cf(new ht(3))},t.prototype.qr=function(){this.Cf(new ht(2))},t.prototype.Ue=function(){this.Cf(new ht(1))},t.prototype.Le=function(t){var i=this.Sf(t);this.Cf(i)},t.prototype.Tf=function(){return this._f},t.prototype.Df=function(t){var i=this._f;this._f=t,null!==i&&this.Le(i.Bf),null!==t&&this.Le(t.Bf)},t.prototype.W=function(){return this.zi},t.prototype.jr=function(t){O(this.zi,t),this.ff.forEach((function(i){return i.Ia(t)})),void 0!==t.timeScale&&this.Oa.jr(t.timeScale),void 0!==t.localization&&this.Oa.vl(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.df.m(),this.kf=this.Nf(0),this.xf=this.Nf(1),this.Ae()},t.prototype.Af=function(t,i){if("left"!==t)if("right"!==t){var n=this.Lf(t);null!==n&&(n.Ct.jr(i),this.df.m())}else this.jr({rightPriceScale:i});else this.jr({leftPriceScale:i})},t.prototype.Lf=function(t){for(var i=0,n=this.ff;i<n.length;i++){var e=n[i],r=e.ja(t);if(null!==r)return{It:e,Ct:r}}return null},t.prototype.bt=function(){return this.Oa},t.prototype.Ef=function(){return this.ff},t.prototype.Ff=function(){return this.pf},t.prototype.Of=function(){return this.ct},t.prototype.Vf=function(){return this.wf},t.prototype.Rf=function(t,i){t.ua(i),this.Dl()},t.prototype.Ya=function(t){this.oh=t,this.Oa.Ya(this.oh),this.ff.forEach((function(i){return i.Ya(t)})),this.Dl()},t.prototype.yf=function(t){var i=new Yi(this.Oa,this);void 0!==t?this.ff.splice(t,0,i):this.ff.push(i);var n=void 0===t?this.ff.length-1:t,e=new ht(3);return e.vn(n,{_n:0,dn:!0}),this.Cf(e),i},t.prototype.io=function(t,i,n){t.io(i,n)},t.prototype.no=function(t,i,n){t.no(i,n),this.Ee(),this.Cf(this.Wf(t,2))},t.prototype.so=function(t,i){t.so(i),this.Cf(this.Wf(t,2))},t.prototype.ho=function(t,i,n){i.ia()||t.ho(i,n)},t.prototype.ro=function(t,i,n){i.ia()||(t.ro(i,n),this.Ee(),this.Cf(this.Wf(t,2)))},t.prototype.eo=function(t,i){i.ia()||(t.eo(i),this.Cf(this.Wf(t,2)))},t.prototype.ao=function(t,i){t.ao(i),this.Cf(this.Wf(t,2))},t.prototype.zf=function(t){this.Oa.pa(t)},t.prototype.Pf=function(t,i){var n=this.bt();if(!n.wi()&&0!==i){var e=n.Ht();t=Math.max(1,Math.min(t,e)),n.Rl(t,i),this.Dl()}},t.prototype.If=function(t){this.jf(0),this.qf(t),this.Uf()},t.prototype.Hf=function(t){this.Oa.ya(t),this.Dl()},t.prototype.Yf=function(){this.Oa.ka(),this.qr()},t.prototype.jf=function(t){this.vf=t,this.Oa.Na(t)},t.prototype.qf=function(t){var i=!1;return null!==this.vf&&Math.abs(t-this.vf)>20&&(this.vf=null,i=!0),this.Oa.xa(t),this.Dl(),i},t.prototype.Uf=function(){this.Oa.Ca(),this.qr(),this.vf=null},t.prototype._t=function(){return this.cf},t.prototype.$f=function(t,i,n){this.ct.$i(t,i);var e=NaN,r=this.Oa.Sl(t),o=this.Oa.hs();null!==o&&(r=Math.min(Math.max(o.jn(),r),o.qn()));var s=n.ji(),h=s.kt();null!==h&&(e=s.qi(i,h)),e=this.gf.su(e,r,n),this.ct.Ji(r,e,n),this.Ue(),this.wf.m(this.ct.Mt(),{x:t,y:i})},t.prototype.Kf=function(){this.Of().Qi(),this.Ue(),this.wf.m(null,null)},t.prototype.Ee=function(){var t=this.ct.It();if(null!==t){var i=this.ct.Xi(),n=this.ct.Zi();this.$f(i,n,t)}this.ct.rn()},t.prototype.Xf=function(t,i,n){var e=this.Oa.Ui(0);void 0!==i&&void 0!==n&&this.Oa.vt(i,n);var r=this.Oa.Ui(0),o=this.Oa.Cl(),s=this.Oa.hs();if(null!==s&&null!==e&&null!==r){var h=s.Xh(o),a=e.Eo>r.Eo,u=null!==t&&t>o&&!a,l=h&&this.Oa.W().shiftVisibleRangeOnNewBar;if(u&&!l){var c=t-o;this.Oa.kn(this.Oa.Al()-c)}}this.Oa.Vl(t)},t.prototype.Ve=function(t){null!==t&&t.lo()},t.prototype.wh=function(t){var i=this.ff.find((function(i){return i.da().includes(t)}));return void 0===i?null:i},t.prototype.Dl=function(){this.pf.rn(),this.ff.forEach((function(t){return t.lo()})),this.Ee()},t.prototype.p=function(){this.ff.forEach((function(t){return t.p()})),this.ff.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},t.prototype.Zf=function(){return this.mf},t.prototype.gh=function(){return this.mf.W()},t.prototype.qa=function(){return this.df},t.prototype.Jf=function(t,i){var n=this.ff[0],e=this.Gf(i,t,n);return this.cf.push(e),1===this.cf.length?this.Ae():this.qr(),e},t.prototype.Qf=function(t){var i=this.wh(t),n=this.cf.indexOf(t);l(-1!==n,"Series not found"),this.cf.splice(n,1),f(i).ba(t),t.p&&t.p()},t.prototype.Be=function(t,i){var n=f(this.wh(t));n.ba(t);var e=this.Lf(i);if(null===e){var r=t.xi();n.wa(t,i,r)}else r=e.It===n?t.xi():void 0,e.It.wa(t,i,r)},t.prototype.Yl=function(){var t=new ht(2);t.bn(),this.Cf(t)},t.prototype.tc=function(t){var i=new ht(2);i.gn(t),this.Cf(i)},t.prototype.pn=function(){var t=new ht(2);t.pn(),this.Cf(t)},t.prototype.yn=function(t){var i=new ht(2);i.yn(t),this.Cf(i)},t.prototype.kn=function(t){var i=new ht(2);i.kn(t),this.Cf(i)},t.prototype.ic=function(){return this.zi.rightPriceScale.visible?"right":"left"},t.prototype.nc=function(){return this.xf},t.prototype.sc=function(){return this.kf},t.prototype.Dt=function(t){var i=this.xf,n=this.kf;if(i===n)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Mf||this.Mf.Wn!==n||this.Mf.zn!==i)this.Mf={Wn:n,zn:i,hc:new Map};else{var e=this.Mf.hc.get(t);if(void 0!==e)return e}var r=function(t,i,n){var e=b(t),r=e[0],o=e[1],s=e[2],h=e[3],a=b(i),u=a[0],l=a[1],c=a[2],f=a[3],p=[d(r+n*(u-r)),d(o+n*(l-o)),d(s+n*(c-s)),y(h+n*(f-h))];return"rgba(".concat(p[0],", ").concat(p[1],", ").concat(p[2],", ").concat(p[3],")")}(n,i,t/100);return this.Mf.hc.set(t,r),r},t.prototype.Wf=function(t,i){var n=new ht(i);if(null!==t){var e=this.ff.indexOf(t);n.vn(e,{_n:i})}return n},t.prototype.Sf=function(t,i){return void 0===i&&(i=2),this.Wf(this.wh(t),i)},t.prototype.Cf=function(t){this.bf&&this.bf(t),this.ff.forEach((function(t){return t.co().du().vt()}))},t.prototype.Gf=function(t,i,n){var e=new Ei(this,t,i),r=void 0!==t.priceScaleId?t.priceScaleId:this.ic();return n.wa(e,r),st(r)||e.jr(t),e},t.prototype.Nf=function(t){var i=this.zi.layout;return"gradient"===i.background.type?0===t?i.background.topColor:i.background.bottomColor:i.background.color},t}();function dn(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}function yn(t){return!T(t)&&!k(t)}function wn(t){return T(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(cn||(cn={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(fn||(fn={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(pn||(pn={}));var mn=function(){function t(t,i){this.Ft=t,this.Ot=i}return t.prototype.kr=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},t}();function gn(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function Mn(t){var i=f(t.getContext("2d"));return i.setTransform(1,0,0,1,0,0),i}function bn(t,i){var n=t.createElement("canvas"),e=gn(n);return n.style.width="".concat(i.Ft,"px"),n.style.height="".concat(i.Ot,"px"),n.width=i.Ft*e,n.height=i.Ot*e,n}function _n(t,i){var n=f(t.ownerDocument).createElement("canvas");t.appendChild(n);var r,o=(void 0===(r={allowDownsampling:!1})&&(r=e),new h(n,r));return o.resizeCanvas({width:i.Ft,height:i.Ot}),o}function Cn(t,i){return t.rc-i.rc}function Sn(t,i,n){var e=(t.rc-i.rc)/(t.rt-i.rt);return Math.sign(e)*Math.min(Math.abs(e),n)}var En=function(){function t(t,i,n,e){this.ec=null,this.uc=null,this.ac=null,this.oc=null,this.lc=null,this.fc=0,this.cc=0,this.vc=!1,this._c=t,this.dc=i,this.wc=n,this.Sn=e}return t.prototype.Mc=function(t,i){if(null!==this.ec){if(this.ec.rt===i)return void(this.ec.rc=t);if(Math.abs(this.ec.rc-t)<this.Sn)return}this.oc=this.ac,this.ac=this.uc,this.uc=this.ec,this.ec={rt:i,rc:t}},t.prototype.Bh=function(t,i){if(null!==this.ec&&null!==this.uc&&!(i-this.ec.rt>50)){var n=0,e=Sn(this.ec,this.uc,this.dc),r=Cn(this.ec,this.uc),o=[e],s=[r];if(n+=r,null!==this.ac){var h=Sn(this.uc,this.ac,this.dc);if(Math.sign(h)===Math.sign(e)){var a=Cn(this.uc,this.ac);if(o.push(h),s.push(a),n+=a,null!==this.oc){var u=Sn(this.ac,this.oc,this.dc);if(Math.sign(u)===Math.sign(e)){var l=Cn(this.ac,this.oc);o.push(u),s.push(l),n+=l}}}}for(var c,f,p,v=0,d=0;d<o.length;++d)v+=s[d]/n*o[d];Math.abs(v)<this._c||(this.lc={rc:t,rt:i},this.cc=v,this.fc=(c=Math.abs(v),f=this.wc,p=Math.log(f),Math.log(1*p/-c)/p))}},t.prototype.bc=function(t){var i=f(this.lc),n=t-i.rt;return i.rc+this.cc*(Math.pow(this.wc,n)-1)/Math.log(this.wc)},t.prototype.mc=function(t){return null===this.lc||this.gc(t)===this.fc},t.prototype.yc=function(){return this.vc},t.prototype.kc=function(){this.vc=!0},t.prototype.gc=function(t){var i=t-f(this.lc).rt;return Math.min(i,this.fc)},t}(),xn="undefined"!=typeof window;function An(){return!!xn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function On(){return!!xn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var Tn=function(){function t(t,i,n){var e=this;this.Nc=0,this.xc=null,this.Cc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.Sc=0,this.Tc=null,this.Dc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.Bc=null,this.Ac=!1,this.Lc=null,this.Ec=null,this.Fc=!1,this.Oc=!1,this.Vc=!1,this.Rc=null,this.Wc=null,this.zc=null,this.Pc=null,this.Ic=null,this.jc=null,this.qc=null,this.Uc=0,this.Hc=!1,this.Yc=!1,this.$c=!1,this.Kc=0,this.Xc=null,this.Zc=!On(),this.Jc=function(t){e.Gc(t)},this.Qc=function(t){if(e.tv(t)){var i=e.iv(t);++e.Sc,e.Tc&&e.Sc>1&&(e.sv(Ln(t),e.Dc).nv<30&&!e.Vc&&e.hv(i,e.ev.rv),e.uv())}else i=e.iv(t),++e.Nc,e.xc&&e.Nc>1&&(e.sv(Ln(t),e.Cc).nv<5&&!e.Oc&&e.av(i,e.ev.ov),e.lv())},this.fv=t,this.ev=i,this.zi=n,this.cv()}return t.prototype.p=function(){null!==this.Rc&&(this.Rc(),this.Rc=null),null!==this.Wc&&(this.Wc(),this.Wc=null),null!==this.Pc&&(this.Pc(),this.Pc=null),null!==this.Ic&&(this.Ic(),this.Ic=null),null!==this.jc&&(this.jc(),this.jc=null),null!==this.zc&&(this.zc(),this.zc=null),this.vv(),this.lv()},t.prototype._v=function(t){var i=this;this.Pc&&this.Pc();var n=this.dv.bind(this);if(this.Pc=function(){i.fv.removeEventListener("mousemove",n)},this.fv.addEventListener("mousemove",n),!this.tv(t)){var e=this.iv(t);this.av(e,this.ev.wv),this.Zc=!0}},t.prototype.lv=function(){null!==this.xc&&clearTimeout(this.xc),this.Nc=0,this.xc=null,this.Cc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.uv=function(){null!==this.Tc&&clearTimeout(this.Tc),this.Sc=0,this.Tc=null,this.Dc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.dv=function(t){if(!this.$c&&null===this.Ec&&!this.tv(t)){var i=this.iv(t);this.av(i,this.ev.Mv),this.Zc=!0}},t.prototype.bv=function(t){var i=Nn(t.changedTouches,f(this.Xc));if(null!==i&&(this.Kc=jn(t),null===this.qc&&!this.Yc)){this.Hc=!0;var n=this.sv(Ln(i),f(this.Ec)),e=n.mv,r=n.gv,o=n.nv;if(this.Fc||!(o<5)){if(!this.Fc){var s=.5*e,h=r>=s&&!this.zi.pv(),a=s>r&&!this.zi.yv();h||a||(this.Yc=!0),this.Fc=!0,this.Vc=!0,this.vv(),this.uv()}if(!this.Yc){var u=this.iv(t,i);this.hv(u,this.ev.kv),kn(t)}}}},t.prototype.Nv=function(t){if(0===t.button&&(this.sv(Ln(t),f(this.Lc)).nv>=5&&(this.Oc=!0,this.lv()),this.Oc)){var i=this.iv(t);this.av(i,this.ev.xv)}},t.prototype.sv=function(t,i){var n=Math.abs(i.tt-t.tt),e=Math.abs(i.it-t.it);return{mv:n,gv:e,nv:n+e}},t.prototype.Cv=function(t){var i=Nn(t.changedTouches,f(this.Xc));if(null===i&&0===t.touches.length&&(i=t.changedTouches[0]),null!==i){this.Xc=null,this.Kc=jn(t),this.vv(),this.Ec=null,this.jc&&(this.jc(),this.jc=null);var n=this.iv(t,i);this.hv(n,this.ev.Sv),++this.Sc,this.Tc&&this.Sc>1?(this.sv(Ln(i),this.Dc).nv<30&&!this.Vc&&this.hv(n,this.ev.rv),this.uv()):this.Vc||(this.hv(n,this.ev.Tv),this.ev.Tv&&kn(t)),0===this.Sc&&kn(t),0===t.touches.length&&this.Ac&&(this.Ac=!1,kn(t))}},t.prototype.Gc=function(t){if(0===t.button){var i=this.iv(t);this.Lc=null,this.$c=!1,this.Ic&&(this.Ic(),this.Ic=null),An()&&this.fv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Jc),this.tv(t)||(this.av(i,this.ev.Dv),++this.Nc,this.xc&&this.Nc>1?(this.sv(Ln(t),this.Cc).nv<5&&!this.Oc&&this.av(i,this.ev.ov),this.lv()):this.Oc||this.av(i,this.ev.Bv))}},t.prototype.vv=function(){null!==this.Bc&&(clearTimeout(this.Bc),this.Bc=null)},t.prototype.Av=function(t){if(null===this.Xc){var i=t.changedTouches[0];this.Xc=i.identifier,this.Kc=jn(t);var n=this.fv.ownerDocument.documentElement;this.Vc=!1,this.Fc=!1,this.Yc=!1,this.Ec=Ln(i),this.jc&&(this.jc(),this.jc=null);var e=this.bv.bind(this),r=this.Cv.bind(this);this.jc=function(){n.removeEventListener("touchmove",e),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",e,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.vv(),this.Bc=setTimeout(this.Lv.bind(this,t),240);var o=this.iv(t,i);this.hv(o,this.ev.Ev),this.Tc||(this.Sc=0,this.Tc=setTimeout(this.uv.bind(this),500),this.Dc=Ln(i))}},t.prototype.Fv=function(t){if(0===t.button){var i=this.fv.ownerDocument.documentElement;An()&&i.addEventListener("mouseleave",this.Jc),this.Oc=!1,this.Lc=Ln(t),this.Ic&&(this.Ic(),this.Ic=null);var n=this.Nv.bind(this),e=this.Gc.bind(this);if(this.Ic=function(){i.removeEventListener("mousemove",n),i.removeEventListener("mouseup",e)},i.addEventListener("mousemove",n),i.addEventListener("mouseup",e),this.$c=!0,!this.tv(t)){var r=this.iv(t);this.av(r,this.ev.Ov),this.xc||(this.Nc=0,this.xc=setTimeout(this.lv.bind(this),500),this.Cc=Ln(t))}}},t.prototype.cv=function(){var t=this;this.fv.addEventListener("mouseenter",this._v.bind(this)),this.fv.addEventListener("touchcancel",this.vv.bind(this));var i=this.fv.ownerDocument,n=function(i){t.ev.Vv&&(i.target&&t.fv.contains(i.target)||t.ev.Vv())};this.Wc=function(){i.removeEventListener("touchstart",n)},this.Rc=function(){i.removeEventListener("mousedown",n)},i.addEventListener("mousedown",n),i.addEventListener("touchstart",n,{passive:!0}),On()&&(this.zc=function(){t.fv.removeEventListener("dblclick",t.Qc)},this.fv.addEventListener("dblclick",this.Qc)),this.fv.addEventListener("mouseleave",this.Rv.bind(this)),this.fv.addEventListener("touchstart",this.Av.bind(this),{passive:!0}),function(t){xn&&void 0!==window.chrome&&t.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1}))}(this.fv),this.fv.addEventListener("mousedown",this.Fv.bind(this)),this.Wv(),this.fv.addEventListener("touchmove",(function(){}),{passive:!1})},t.prototype.Wv=function(){var t=this;void 0===this.ev.zv&&void 0===this.ev.Pv&&void 0===this.ev.Iv||(this.fv.addEventListener("touchstart",(function(i){return t.jv(i.touches)}),{passive:!0}),this.fv.addEventListener("touchmove",(function(i){if(2===i.touches.length&&null!==t.qc&&void 0!==t.ev.Pv){var n=zn(i.touches[0],i.touches[1])/t.Uc;t.ev.Pv(t.qc,n),kn(i)}}),{passive:!1}),this.fv.addEventListener("touchend",(function(i){t.jv(i.touches)})))},t.prototype.jv=function(t){1===t.length&&(this.Hc=!1),2!==t.length||this.Hc||this.Ac?this.qv():this.Uv(t)},t.prototype.Uv=function(t){var i=this.fv.getBoundingClientRect()||{left:0,top:0};this.qc={tt:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,it:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Uc=zn(t[0],t[1]),void 0!==this.ev.zv&&this.ev.zv(),this.vv()},t.prototype.qv=function(){null!==this.qc&&(this.qc=null,void 0!==this.ev.Iv&&this.ev.Iv())},t.prototype.Rv=function(t){if(this.Pc&&this.Pc(),!this.tv(t)&&this.Zc){var i=this.iv(t);this.av(i,this.ev.Hv),this.Zc=!On()}},t.prototype.Lv=function(t){var i=Nn(t.touches,f(this.Xc));if(null!==i){var n=this.iv(t,i);this.hv(n,this.ev.Yv),this.Vc=!0,this.Ac=!0}},t.prototype.tv=function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:jn(t)<this.Kc+500},t.prototype.hv=function(t,i){i&&i.call(this.ev,t)},t.prototype.av=function(t,i){i&&i.call(this.ev,t)},t.prototype.iv=function(t,i){var n=i||t,e=this.fv.getBoundingClientRect()||{left:0,top:0};return{$v:n.clientX,Kv:n.clientY,Xv:n.pageX,Zv:n.pageY,Jv:n.screenX,Gv:n.screenY,Qv:n.clientX-e.left,t_:n.clientY-e.top,i_:t.ctrlKey,n_:t.altKey,s_:t.shiftKey,h_:t.metaKey,r_:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,e_:t.type,u_:n.target,a_:t.view,o_:function(){"touchstart"!==t.type&&kn(t)}}},t}();function zn(t,i){var n=t.clientX-i.clientX,e=t.clientY-i.clientY;return Math.sqrt(n*n+e*e)}function kn(t){t.cancelable&&t.preventDefault()}function Ln(t){return{tt:t.pageX,it:t.pageY}}function jn(t){return t.timeStamp||performance.now()}function Nn(t,i){for(var n=0;n<t.length;++n)if(t[n].identifier===i)return t[n];return null}var Dn=function(){function t(t,i,n,e){this.lh=new Ht(200),this.P=0,this.l_="",this.Jh="",this.rh=[],this.f_=new Map,this.P=t,this.l_=i,this.Jh=B(t,n,e)}return t.prototype.p=function(){this.lh.eh(),this.rh=[],this.f_.clear()},t.prototype.c_=function(t,i,n,e,r){var o=this.v_(t,i);if("left"!==r){var s=gn(t.canvas);n-=Math.floor(o.__*s)}e-=Math.floor(o.Yt/2),t.drawImage(o.d_,n,e,o.Ht,o.Yt)},t.prototype.v_=function(t,i){var n,e=this;if(this.f_.has(i))n=c(this.f_.get(i));else{if(this.rh.length>=200){var r=c(this.rh.shift());this.f_.delete(r)}var o=gn(t.canvas),s=Math.ceil(this.P/4.5),h=Math.round(this.P/10),a=Math.ceil(this.lh.Qt(t,i)),u=kt(Math.round(a+2*s)),l=kt(this.P+2*s),f=bn(document,new mn(u,l));n={Gt:i,__:Math.round(Math.max(1,a)),Ht:Math.ceil(u*o),Yt:Math.ceil(l*o),d_:f},0!==a&&(this.rh.push(n.Gt),this.f_.set(n.Gt,n)),q(t=Mn(n.d_),o,(function(){t.font=e.Jh,t.fillStyle=e.l_,t.fillText(i,0,l-s-h)}))}return n},t}(),Rn=function(){function t(t,i,n,e){var r=this;this._i=null,this.w_=null,this.M_=!1,this.b_=new Ht(50),this.m_=new Dn(11,"#000"),this.l_=null,this.Jh=null,this.g_=0,this.p_=!1,this.y_=function(){r.k_(r.mf.W()),r.p_||r.Di.N_().jt().qr()},this.x_=function(){r.p_||r.Di.N_().jt().qr()},this.Di=t,this.zi=i,this.mf=n,this.C_="left"===e,this.S_=document.createElement("div"),this.S_.style.height="100%",this.S_.style.overflow="hidden",this.S_.style.width="25px",this.S_.style.left="0",this.S_.style.position="relative",this.T_=_n(this.S_,new mn(16,16)),this.T_.subscribeCanvasConfigured(this.y_);var o=this.T_.canvas;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.D_=_n(this.S_,new mn(16,16)),this.D_.subscribeCanvasConfigured(this.x_);var s=this.D_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";var h={Ov:this.B_.bind(this),Ev:this.B_.bind(this),xv:this.A_.bind(this),kv:this.A_.bind(this),Vv:this.L_.bind(this),Dv:this.E_.bind(this),Sv:this.E_.bind(this),ov:this.F_.bind(this),rv:this.F_.bind(this),wv:this.O_.bind(this),Hv:this.V_.bind(this)};this.R_=new Tn(this.D_.canvas,h,{pv:function(){return!1},yv:function(){return!0}})}return t.prototype.p=function(){this.R_.p(),this.D_.unsubscribeCanvasConfigured(this.x_),this.D_.destroy(),this.T_.unsubscribeCanvasConfigured(this.y_),this.T_.destroy(),null!==this._i&&this._i.ga().M(this),this._i=null,this.m_.p()},t.prototype.W_=function(){return this.S_},t.prototype.ht=function(){return f(this._i).W().borderColor},t.prototype.z_=function(){return this.zi.textColor},t.prototype.S=function(){return this.zi.fontSize},t.prototype.P_=function(){return B(this.S(),this.zi.fontFamily)},t.prototype.I_=function(){var t=this.mf.W(),i=this.l_!==t.B,n=this.Jh!==t.T;return(i||n)&&(this.k_(t),this.l_=t.B),n&&(this.b_.eh(),this.Jh=t.T),t},t.prototype.j_=function(){if(null===this._i)return 0;var t=0,i=this.I_(),n=Mn(this.T_.canvas),e=this._i._u();n.font=this.P_(),e.length>0&&(t=Math.max(this.b_.Qt(n,e[0].Tu),this.b_.Qt(n,e[e.length-1].Tu)));for(var r=this.q_(),o=r.length;o--;){var s=this.b_.Qt(n,r[o].Gt());s>t&&(t=s)}var h=this._i.kt();if(null!==h&&null!==this.w_){var a=this._i.qi(1,h),u=this._i.qi(this.w_.Ot-2,h);t=Math.max(t,this.b_.Qt(n,this._i.Mi(Math.floor(Math.min(a,u))+.11111111111111,h)),this.b_.Qt(n,this._i.Mi(Math.ceil(Math.max(a,u))-.11111111111111,h)))}var l=t||34,c=Math.ceil(i.N+i.C+i.L+i.F+l);return c+c%2},t.prototype.U_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.w_&&this.w_.kr(t)||(this.w_=t,this.p_=!0,this.T_.resizeCanvas({width:t.Ft,height:t.Ot}),this.D_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_=!1,this.S_.style.width=t.Ft+"px",this.S_.style.height=t.Ot+"px",this.S_.style.minWidth=t.Ft+"px")},t.prototype.H_=function(){return f(this.w_).Ft},t.prototype.Si=function(t){this._i!==t&&(null!==this._i&&this._i.ga().M(this),this._i=t,t.ga().u(this.zu.bind(this),this))},t.prototype.Ct=function(){return this._i},t.prototype.eh=function(){var t=this.Di.Y_();this.Di.N_().jt().ao(t,f(this.Ct()))},t.prototype.K_=function(t){if(null!==this.w_){if(1!==t){var i=Mn(this.T_.canvas);this.X_(),this.Z_(i,this.T_.pixelRatio),this.Hs(i,this.T_.pixelRatio),this.J_(i,this.T_.pixelRatio),this.G_(i,this.T_.pixelRatio)}var n=Mn(this.D_.canvas),e=this.w_.Ft,r=this.w_.Ot;q(n,this.D_.pixelRatio,(function(){n.clearRect(0,0,e,r)})),this.Q_(n,this.D_.pixelRatio)}},t.prototype.td=function(){return this.T_.canvas},t.prototype.vt=function(){var t;null===(t=this._i)||void 0===t||t._u()},t.prototype.B_=function(t){if(null!==this._i&&!this._i.wi()&&this.Di.N_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.N_().jt(),n=this.Di.Y_();this.M_=!0,i.io(n,this._i,t.t_)}},t.prototype.A_=function(t){if(null!==this._i&&this.Di.N_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.N_().jt(),n=this.Di.Y_(),e=this._i;i.no(n,e,t.t_)}},t.prototype.L_=function(){if(null!==this._i&&this.Di.N_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.N_().jt(),i=this.Di.Y_(),n=this._i;this.M_&&(this.M_=!1,t.so(i,n))}},t.prototype.E_=function(t){if(null!==this._i&&this.Di.N_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.N_().jt(),n=this.Di.Y_();this.M_=!1,i.so(n,this._i)}},t.prototype.F_=function(t){this.Di.N_().W().handleScale.axisDoubleClickReset&&this.eh()},t.prototype.O_=function(t){null!==this._i&&(!this.Di.N_().jt().W().handleScale.axisPressedMouseMove.price||this._i.br()||this._i.na()||this.nd(1))},t.prototype.V_=function(t){this.nd(0)},t.prototype.q_=function(){var t=this,i=[],n=null===this._i?void 0:this._i;return function(e){for(var r=0;r<e.length;++r)for(var o=e[r].sn(t.Di.Y_(),n),s=0;s<o.length;s++)i.push(o[s])}(this.Di.Y_().da()),i},t.prototype.Z_=function(t,i){var n=this;if(null!==this.w_){var e=this.w_.Ft,r=this.w_.Ot;q(t,i,(function(){var i=n.Di.Y_().jt(),o=i.sc(),s=i.nc();o===s?J(t,0,0,e,r,o):U(t,0,0,e,r,o,s)}))}},t.prototype.Hs=function(t,i){if(null!==this.w_&&null!==this._i&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,e=Math.max(1,Math.floor(this.I_().N*i));n=this.C_?Math.floor(this.w_.Ft*i)-e:0,t.fillRect(n,0,e,Math.ceil(this.w_.Ot*i)),t.restore()}},t.prototype.J_=function(t,i){if(null!==this.w_&&null!==this._i){var n=this._i._u();t.save(),t.strokeStyle=this.ht(),t.font=this.P_(),t.fillStyle=this.ht();var e=this.I_(),r=this._i.W().borderVisible&&this._i.W().drawTicks,o=this.C_?Math.floor((this.w_.Ft-e.C)*i-e.N*i):Math.floor(e.N*i),s=this.C_?Math.round(o-e.L*i):Math.round(o+e.C*i+e.L*i),h=this.C_?"right":"left",a=Math.max(1,Math.floor(i)),u=Math.floor(.5*i);if(r){var l=Math.round(e.C*i);t.beginPath();for(var c=0,f=n;c<f.length;c++){var p=f[c];t.rect(o,Math.round(p.ou*i)-u,l,a)}t.fill()}t.fillStyle=this.z_();for(var v=0,d=n;v<d.length;v++)p=d[v],this.m_.c_(t,p.Tu,s,Math.round(p.ou*i),h);t.restore()}},t.prototype.X_=function(){if(null!==this.w_&&null!==this._i){var t=this.w_.Ot/2,i=[],n=this._i.da().slice(),e=this.Di.Y_(),r=this.I_();this._i===e.bh()&&this.Di.Y_().da().forEach((function(t){e.Mh(t)&&n.push(t)}));var o=this._i.hu()[0],s=this._i;n.forEach((function(n){var r=n.sn(e,s);r.forEach((function(t){t.oi(null),t.li()&&i.push(t)})),o===n&&r.length>0&&(t=r[0].ti())}));var h=i.filter((function(i){return i.ti()<=t})),a=i.filter((function(i){return i.ti()>t}));if(h.sort((function(t,i){return i.ti()-t.ti()})),h.length&&a.length&&a.push(h[0]),a.sort((function(t,i){return t.ti()-i.ti()})),i.forEach((function(t){return t.oi(t.ti())})),this._i.W().alignLabels){for(var u=1;u<h.length;u++){var l=h[u],c=(p=h[u-1]).Yt(r,!1);l.ti()>(v=p.ai())-c&&l.oi(v-c)}for(var f=1;f<a.length;f++){var p,v;l=a[f],c=(p=a[f-1]).Yt(r,!0),l.ti()<(v=p.ai())+c&&l.oi(v+c)}}}},t.prototype.G_=function(t,i){var n=this;if(null!==this.w_){t.save();var e=this.w_,r=this.q_(),o=this.I_(),s=this.C_?"right":"left";r.forEach((function(r){if(r.fi()){var h=r.dt(f(n._i));t.save(),h.H(t,o,n.b_,e.Ft,s,i),t.restore()}})),t.restore()}},t.prototype.Q_=function(t,i){var n=this;if(null!==this.w_&&null!==this._i){t.save();var e=this.w_,r=this.Di.N_().jt(),o=[],s=this.Di.Y_(),h=r.Of().sn(s,this._i);h.length&&o.push(h);var a=this.I_(),u=this.C_?"right":"left";o.forEach((function(r){r.forEach((function(r){t.save(),r.dt(f(n._i)).H(t,a,n.b_,e.Ft,u,i),t.restore()}))})),t.restore()}},t.prototype.nd=function(t){this.S_.style.cursor=1===t?"ns-resize":"default"},t.prototype.zu=function(){var t=this.j_();this.g_<t&&this.Di.N_().jt().Ae(),this.g_=t},t.prototype.k_=function(t){this.m_.p(),this.m_=new Dn(t.S,t.B,t.D)},t}();function Bn(t,i,n,e,r){t.$&&t.$(i,n,e,r)}function Fn(t,i,n,e,r){t.H(i,n,e,r)}function Pn(t,i){return t.nn(i)}function Wn(t,i){return void 0!==t.qe?t.qe(i):[]}var In=function(){function t(t,i){var n=this;this.w_=new mn(0,0),this.sd=null,this.hd=null,this.rd=null,this.ed=!1,this.ud=new A,this.ad=0,this.od=!1,this.ld=null,this.fd=!1,this.vd=null,this._d=null,this.p_=!1,this.y_=function(){n.p_||null===n.dd||n.gi().qr()},this.x_=function(){n.p_||null===n.dd||n.gi().qr()},this.wd=t,this.dd=i,this.dd.fo().u(this.Md.bind(this),this,!0),this.bd=document.createElement("td"),this.bd.style.padding="0",this.bd.style.position="relative";var e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="relative",e.style.overflow="hidden",this.md=document.createElement("td"),this.md.style.padding="0",this.gd=document.createElement("td"),this.gd.style.padding="0",this.bd.appendChild(e),this.T_=_n(e,new mn(16,16)),this.T_.subscribeCanvasConfigured(this.y_);var r=this.T_.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.D_=_n(e,new mn(16,16)),this.D_.subscribeCanvasConfigured(this.x_);var o=this.D_.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.pd=document.createElement("tr"),this.pd.appendChild(this.md),this.pd.appendChild(this.bd),this.pd.appendChild(this.gd),this.yd(),this.R_=new Tn(this.D_.canvas,this,{pv:function(){return null===n.ld&&!n.wd.W().handleScroll.vertTouchDrag},yv:function(){return null===n.ld&&!n.wd.W().handleScroll.horzTouchDrag}})}return t.prototype.p=function(){null!==this.sd&&this.sd.p(),null!==this.hd&&this.hd.p(),this.D_.unsubscribeCanvasConfigured(this.x_),this.D_.destroy(),this.T_.unsubscribeCanvasConfigured(this.y_),this.T_.destroy(),null!==this.dd&&this.dd.fo().M(this),this.R_.p()},t.prototype.Y_=function(){return f(this.dd)},t.prototype.kd=function(i){null!==this.dd&&this.dd.fo().M(this),this.dd=i,null!==this.dd&&this.dd.fo().u(t.prototype.Md.bind(this),this,!0),this.yd()},t.prototype.N_=function(){return this.wd},t.prototype.W_=function(){return this.pd},t.prototype.yd=function(){if(null!==this.dd&&(this.Nd(),0!==this.gi()._t().length)){if(null!==this.sd){var t=this.dd.Ga();this.sd.Si(f(t))}if(null!==this.hd){var i=this.dd.Qa();this.hd.Si(f(i))}}},t.prototype.xd=function(){null!==this.sd&&this.sd.vt(),null!==this.hd&&this.hd.vt()},t.prototype.Ua=function(){return null!==this.dd?this.dd.Ua():0},t.prototype.Ha=function(t){this.dd&&this.dd.Ha(t)},t.prototype.wv=function(t){if(this.dd){this.Cd();var i=t.Qv,n=t.t_;this.Sd(i,n)}},t.prototype.Ov=function(t){this.Cd(),this.Td(),this.Sd(t.Qv,t.t_)},t.prototype.Mv=function(t){if(this.dd){this.Cd();var i=t.Qv,n=t.t_;this.Sd(i,n);var e=this.Gh(i,n);this.gi().Df(e&&{Bf:e.Bf,Dd:e.Dd})}},t.prototype.Bv=function(t){if(null!==this.dd){this.Cd();var i=t.Qv,n=t.t_;if(this.ud.g()){var e=this.gi().Of().Mt();this.ud.m(e,{x:i,y:n})}}},t.prototype.xv=function(t){this.Cd(),this.Bd(t),this.Sd(t.Qv,t.t_)},t.prototype.Dv=function(t){null!==this.dd&&(this.Cd(),this.od=!1,this.Ad(t))},t.prototype.Yv=function(t){if(this.od=!0,null===this.ld){var i={x:t.Qv,y:t.t_};this.Ld(i,i)}},t.prototype.Hv=function(t){null!==this.dd&&(this.Cd(),this.dd.jt().Df(null),this.Ed())},t.prototype.Fd=function(){return this.ud},t.prototype.zv=function(){this.ad=1,this.Od()},t.prototype.Pv=function(t,i){if(this.wd.W().handleScale.pinch){var n=5*(i-this.ad);this.ad=i,this.gi().Pf(t.tt,n)}},t.prototype.Ev=function(t){if(this.od=!1,this.fd=null!==this.ld,this.Td(),null!==this.ld){var i=this.gi().Of();this.vd={x:i.$t(),y:i.Kt()},this.ld={x:t.Qv,y:t.t_}}},t.prototype.kv=function(t){if(null!==this.dd){var i=t.Qv,n=t.t_;if(null===this.ld)this.Bd(t);else{this.fd=!1;var e=f(this.vd),r=e.x+(i-this.ld.x),o=e.y+(n-this.ld.y);this.Sd(r,o)}}},t.prototype.Sv=function(t){0===this.N_().W().trackingMode.exitMode&&(this.fd=!0),this.Vd(),this.Ad(t)},t.prototype.Gh=function(t,i){var n=this.dd;if(null===n)return null;for(var e=0,r=n.da();e<r.length;e++){var o=r[e],s=this.Rd(o.nn(n),t,i);if(null!==s)return{Bf:o,a_:s.a_,Dd:s.Dd}}return null},t.prototype.Wd=function(t,i){f("left"===i?this.sd:this.hd).U_(new mn(t,this.w_.Ot))},t.prototype.zd=function(){return this.w_},t.prototype.U_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.w_.kr(t)||(this.w_=t,this.p_=!0,this.T_.resizeCanvas({width:t.Ft,height:t.Ot}),this.D_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_=!1,this.bd.style.width=t.Ft+"px",this.bd.style.height=t.Ot+"px")},t.prototype.Pd=function(){var t=f(this.dd);t.Ja(t.Ga()),t.Ja(t.Qa());for(var i=0,n=t.hu();i<n.length;i++){var e=n[i];if(t.Mh(e)){var r=e.Ct();null!==r&&t.Ja(r),e.rn()}}},t.prototype.td=function(){return this.T_.canvas},t.prototype.K_=function(t){if(0!==t&&null!==this.dd){if(t>1&&this.Pd(),null!==this.sd&&this.sd.K_(t),null!==this.hd&&this.hd.K_(t),1!==t){var i=Mn(this.T_.canvas);i.save(),this.Z_(i,this.T_.pixelRatio),this.dd&&(this.Id(i,this.T_.pixelRatio),this.jd(i,this.T_.pixelRatio),this.qd(i,this.T_.pixelRatio,Pn)),i.restore()}var n=Mn(this.D_.canvas);n.clearRect(0,0,Math.ceil(this.w_.Ft*this.D_.pixelRatio),Math.ceil(this.w_.Ot*this.D_.pixelRatio)),this.qd(n,this.T_.pixelRatio,Wn),this.Ud(n,this.D_.pixelRatio)}},t.prototype.Hd=function(){return this.sd},t.prototype.Yd=function(){return this.hd},t.prototype.Md=function(){null!==this.dd&&this.dd.fo().M(this),this.dd=null},t.prototype.Z_=function(t,i){var n=this;q(t,i,(function(){var i=n.gi(),e=i.sc(),r=i.nc();e===r?J(t,0,0,n.w_.Ft,n.w_.Ot,r):U(t,0,0,n.w_.Ft,n.w_.Ot,e,r)}))},t.prototype.Id=function(t,i){var n=f(this.dd),e=n.co().du().dt(n.Yt(),n.Ht());null!==e&&(t.save(),e.H(t,i,!1),t.restore())},t.prototype.jd=function(t,i){var n=this.gi().Ff();this.$d(t,i,Pn,Bn,n),this.$d(t,i,Pn,Fn,n)},t.prototype.Ud=function(t,i){this.$d(t,i,Pn,Fn,this.gi().Of())},t.prototype.qd=function(t,i,n){for(var e=f(this.dd).da(),r=0,o=e;r<o.length;r++){var s=o[r];this.$d(t,i,n,Bn,s)}for(var h=0,a=e;h<a.length;h++)s=a[h],this.$d(t,i,n,Fn,s)},t.prototype.$d=function(t,i,n,e,r){for(var o=f(this.dd),s=n(r,o),h=o.Yt(),a=o.Ht(),u=o.jt().Tf(),l=null!==u&&u.Bf===r,c=null!==u&&l&&void 0!==u.Dd?u.Dd.Qh:void 0,p=0,v=s;p<v.length;p++){var d=v[p].dt(h,a);null!==d&&(t.save(),e(d,t,i,l,c),t.restore())}},t.prototype.Rd=function(t,i,n){for(var e=0,r=t;e<r.length;e++){var o=r[e],s=o.dt(this.w_.Ot,this.w_.Ft);if(null!==s&&s.Gh){var h=s.Gh(i,n);if(null!==h)return{a_:o,Dd:h}}}return null},t.prototype.Nd=function(){if(null!==this.dd){var t=this.wd,i=this.dd.Ga().W().visible,n=this.dd.Qa().W().visible;i||null===this.sd||(this.md.removeChild(this.sd.W_()),this.sd.p(),this.sd=null),n||null===this.hd||(this.gd.removeChild(this.hd.W_()),this.hd.p(),this.hd=null);var e=t.jt().Zf();i&&null===this.sd&&(this.sd=new Rn(this,t.W().layout,e,"left"),this.md.appendChild(this.sd.W_())),n&&null===this.hd&&(this.hd=new Rn(this,t.W().layout,e,"right"),this.gd.appendChild(this.hd.W_()))}},t.prototype.Kd=function(t){return t.r_&&this.od||null!==this.ld},t.prototype.Xd=function(t){return Math.max(0,Math.min(t,this.w_.Ft-1))},t.prototype.Zd=function(t){return Math.max(0,Math.min(t,this.w_.Ot-1))},t.prototype.Sd=function(t,i){this.gi().$f(this.Xd(t),this.Zd(i),f(this.dd))},t.prototype.Ed=function(){this.gi().Kf()},t.prototype.Vd=function(){this.fd&&(this.ld=null,this.Ed())},t.prototype.Ld=function(t,i){this.ld=t,this.fd=!1,this.Sd(i.x,i.y);var n=this.gi().Of();this.vd={x:n.$t(),y:n.Kt()}},t.prototype.gi=function(){return this.wd.jt()},t.prototype.Jd=function(){var t=this.gi(),i=this.Y_(),n=i.ji();t.eo(i,n),t.Uf(),this.rd=null,this.ed=!1},t.prototype.Ad=function(t){var i=this;if(this.ed){var n=performance.now();if(null!==this._d&&this._d.Bh(t.Qv,n),null===this._d||this._d.mc(n))this.Jd();else{var e=this.gi(),r=e.bt(),o=this._d;requestAnimationFrame((function t(){if(!o.yc()){var n=performance.now(),s=o.mc(n);if(!o.yc()){var h=r.Al();e.qf(o.bc(n)),h===r.Al()&&(s=!0,i._d=null)}s?i.Jd():requestAnimationFrame(t)}}))}}},t.prototype.Cd=function(){this.ld=null},t.prototype.Td=function(){if(this.dd){if(this.Od(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)f(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.dd.ji().wi()&&this.gi().bt().wi()}},t.prototype.Bd=function(t){if(null!==this.dd){var i=this.gi();if(!i.bt().wi()){var n=this.wd.W(),e=n.handleScroll,r=n.kineticScroll;if(e.pressedMouseMove&&!t.r_||(e.horzTouchDrag||e.vertTouchDrag)&&t.r_){var o=this.dd.ji(),s=performance.now();null!==this.rd||this.Kd(t)||(this.rd={x:t.$v,y:t.Kv,Eo:s,Qv:t.Qv,t_:t.t_}),null!==this._d&&this._d.Mc(t.Qv,s),null===this.rd||this.ed||this.rd.x===t.$v&&this.rd.y===t.Kv||(null===this._d&&(t.r_&&r.touch||!t.r_&&r.mouse)&&(this._d=new En(.2,7,.997,15),this._d.Mc(this.rd.Qv,this.rd.Eo),this._d.Mc(t.Qv,s)),o.wi()||i.ho(this.dd,o,t.t_),i.jf(t.Qv),this.ed=!0),this.ed&&(o.wi()||i.ro(this.dd,o,t.t_),i.qf(t.Qv))}}}},t.prototype.Od=function(){var t=performance.now(),i=null===this._d||this._d.mc(t);null!==this._d&&(i||this.Jd()),null!==this._d&&(this._d.kc(),this._d=null)},t}(),Vn=function(){function t(t,i,n,e,r){var o=this;this.ft=!0,this.w_=new mn(0,0),this.y_=function(){return o.K_(3)},this.C_="left"===t,this.mf=n.Zf,this.zi=i,this.Gd=e,this.Qd=r,this.S_=document.createElement("div"),this.S_.style.width="25px",this.S_.style.height="100%",this.S_.style.overflow="hidden",this.T_=_n(this.S_,new mn(16,16)),this.T_.subscribeCanvasConfigured(this.y_)}return t.prototype.p=function(){this.T_.unsubscribeCanvasConfigured(this.y_),this.T_.destroy()},t.prototype.W_=function(){return this.S_},t.prototype.zd=function(){return this.w_},t.prototype.U_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.w_.kr(t)||(this.w_=t,this.T_.resizeCanvas({width:t.Ft,height:t.Ot}),this.S_.style.width="".concat(t.Ft,"px"),this.S_.style.minWidth="".concat(t.Ft,"px"),this.S_.style.height="".concat(t.Ot,"px"),this.ft=!0)},t.prototype.K_=function(t){if((!(t<3)||this.ft)&&0!==this.w_.Ft&&0!==this.w_.Ot){this.ft=!1;var i=Mn(this.T_.canvas);this.Z_(i,this.T_.pixelRatio),this.Hs(i,this.T_.pixelRatio)}},t.prototype.td=function(){return this.T_.canvas},t.prototype.Hs=function(t,i){if(this.Gd()){var n=this.w_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var e=Math.floor(this.mf.W().N*i),r=this.C_?Math.round(n*i)-e:0;t.fillRect(r,0,e,e),t.restore()}},t.prototype.Z_=function(t,i){var n=this;q(t,i,(function(){J(t,0,0,n.w_.Ft,n.w_.Ot,n.Qd())}))},t}();function Zn(t,i){return t.qo>i.qo?t:i}var Hn=function(){function t(t){var i=this;this.tw=null,this.iw=null,this.k=null,this.nw=!1,this.w_=new mn(0,0),this.sw=new A,this.b_=new Ht(5),this.p_=!1,this.y_=function(){i.p_||i.wd.jt().qr()},this.x_=function(){i.p_||i.wd.jt().qr()},this.wd=t,this.zi=t.W().layout,this.hw=document.createElement("tr"),this.rw=document.createElement("td"),this.rw.style.padding="0",this.ew=document.createElement("td"),this.ew.style.padding="0",this.S_=document.createElement("td"),this.S_.style.height="25px",this.S_.style.padding="0",this.uw=document.createElement("div"),this.uw.style.width="100%",this.uw.style.height="100%",this.uw.style.position="relative",this.uw.style.overflow="hidden",this.S_.appendChild(this.uw),this.T_=_n(this.uw,new mn(16,16)),this.T_.subscribeCanvasConfigured(this.y_);var n=this.T_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.D_=_n(this.uw,new mn(16,16)),this.D_.subscribeCanvasConfigured(this.x_);var e=this.D_.canvas;e.style.position="absolute",e.style.zIndex="2",e.style.left="0",e.style.top="0",this.hw.appendChild(this.rw),this.hw.appendChild(this.S_),this.hw.appendChild(this.ew),this.aw(),this.wd.jt().qa().u(this.aw.bind(this),this),this.R_=new Tn(this.D_.canvas,this,{pv:function(){return!0},yv:function(){return!1}})}return t.prototype.p=function(){this.R_.p(),null!==this.tw&&this.tw.p(),null!==this.iw&&this.iw.p(),this.D_.unsubscribeCanvasConfigured(this.x_),this.D_.destroy(),this.T_.unsubscribeCanvasConfigured(this.y_),this.T_.destroy()},t.prototype.W_=function(){return this.hw},t.prototype.ow=function(){return this.tw},t.prototype.lw=function(){return this.iw},t.prototype.Ov=function(t){if(!this.nw){this.nw=!0;var i=this.wd.jt();!i.bt().wi()&&this.wd.W().handleScale.axisPressedMouseMove.time&&i.zf(t.Qv)}},t.prototype.Ev=function(t){this.Ov(t)},t.prototype.Vv=function(){var t=this.wd.jt();!t.bt().wi()&&this.nw&&(this.nw=!1,this.wd.W().handleScale.axisPressedMouseMove.time&&t.Yf())},t.prototype.xv=function(t){var i=this.wd.jt();!i.bt().wi()&&this.wd.W().handleScale.axisPressedMouseMove.time&&i.Hf(t.Qv)},t.prototype.kv=function(t){this.xv(t)},t.prototype.Dv=function(){this.nw=!1;var t=this.wd.jt();t.bt().wi()&&!this.wd.W().handleScale.axisPressedMouseMove.time||t.Yf()},t.prototype.Sv=function(){this.Dv()},t.prototype.ov=function(){this.wd.W().handleScale.axisDoubleClickReset&&this.wd.jt().pn()},t.prototype.rv=function(){this.ov()},t.prototype.wv=function(){this.wd.jt().W().handleScale.axisPressedMouseMove.time&&this.nd(1)},t.prototype.Hv=function(){this.nd(0)},t.prototype.zd=function(){return this.w_},t.prototype.fw=function(){return this.sw},t.prototype.cw=function(t,i,n){this.w_&&this.w_.kr(t)||(this.w_=t,this.p_=!0,this.T_.resizeCanvas({width:t.Ft,height:t.Ot}),this.D_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_=!1,this.S_.style.width=t.Ft+"px",this.S_.style.height=t.Ot+"px",this.sw.m(t)),null!==this.tw&&this.tw.U_(new mn(i,t.Ot)),null!==this.iw&&this.iw.U_(new mn(n,t.Ot))},t.prototype._w=function(){var t=this.dw();return Math.ceil(t.N+t.C+t.S+t.O+t.A)},t.prototype.vt=function(){this.wd.jt().bt()._u()},t.prototype.td=function(){return this.T_.canvas},t.prototype.K_=function(t){if(0!==t){if(1!==t){var i=Mn(this.T_.canvas);this.Z_(i,this.T_.pixelRatio),this.Hs(i,this.T_.pixelRatio),this.J_(i,this.T_.pixelRatio),null!==this.tw&&this.tw.K_(t),null!==this.iw&&this.iw.K_(t)}var n=Mn(this.D_.canvas),e=this.D_.pixelRatio;n.clearRect(0,0,Math.ceil(this.w_.Ft*e),Math.ceil(this.w_.Ot*e)),this.ww([this.wd.jt().Of()],n,e)}},t.prototype.Z_=function(t,i){var n=this;q(t,i,(function(){J(t,0,0,n.w_.Ft,n.w_.Ot,n.wd.jt().nc())}))},t.prototype.Hs=function(t,i){if(this.wd.W().timeScale.borderVisible){t.save(),t.fillStyle=this.Mw();var n=Math.max(1,Math.floor(this.dw().N*i));t.fillRect(0,0,Math.ceil(this.w_.Ft*i),n),t.restore()}},t.prototype.J_=function(t,i){var n=this,e=this.wd.jt().bt()._u();if(e&&0!==e.length){var r=e.reduce(Zn,e[0]).qo;r>30&&r<50&&(r=30),t.save(),t.strokeStyle=this.Mw();var o=this.dw(),s=o.N+o.C+o.O+o.S-o.V;t.textAlign="center",t.fillStyle=this.Mw();var h=Math.floor(this.dw().N*i),a=Math.max(1,Math.floor(i)),u=Math.floor(.5*i);if(this.wd.jt().bt().W().borderVisible){t.beginPath();for(var l=Math.round(o.C*i),c=e.length;c--;){var f=Math.round(e[c].ou*i);t.rect(f-u,h,a,l)}t.fill()}t.fillStyle=this.j(),q(t,i,(function(){t.font=n.bw();for(var i=0,o=e;i<o.length;i++)if((l=o[i]).qo<r){var h=l.Fl?n.mw(t,l.ou,l.Tu):l.ou;t.fillText(l.Tu,h,s)}t.font=n.gw();for(var a=0,u=e;a<u.length;a++){var l;(l=u[a]).qo>=r&&(h=l.Fl?n.mw(t,l.ou,l.Tu):l.ou,t.fillText(l.Tu,h,s))}})),t.restore()}},t.prototype.mw=function(t,i,n){var e=this.b_.Qt(t,n),r=e/2,o=Math.floor(i-r)+.5;return o<0?i+=Math.abs(0-o):o+e>this.w_.Ft&&(i-=Math.abs(this.w_.Ft-(o+e))),i},t.prototype.ww=function(t,i,n){for(var e=this.dw(),r=0,o=t;r<o.length;r++)for(var s=0,h=o[r].Ti();s<h.length;s++){var a=h[s];i.save(),a.dt().H(i,e,n),i.restore()}},t.prototype.Mw=function(){return this.wd.W().timeScale.borderColor},t.prototype.j=function(){return this.zi.textColor},t.prototype.P=function(){return this.zi.fontSize},t.prototype.bw=function(){return B(this.P(),this.zi.fontFamily)},t.prototype.gw=function(){return B(this.P(),this.zi.fontFamily,"bold")},t.prototype.dw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,A:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new Ht});var t=this.k,i=this.bw();if(t.T!==i){var n=this.P();t.S=n,t.T=i,t.O=Math.ceil(n/2.5),t.A=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.P()/5),t.bi.eh()}return this.k},t.prototype.nd=function(t){this.S_.style.cursor=1===t?"ew-resize":"default"},t.prototype.aw=function(){var t=this.wd.jt(),i=t.W();i.leftPriceScale.visible||null===this.tw||(this.rw.removeChild(this.tw.W_()),this.tw.p(),this.tw=null),i.rightPriceScale.visible||null===this.iw||(this.ew.removeChild(this.iw.W_()),this.iw.p(),this.iw=null);var n={Zf:this.wd.jt().Zf()},e=function(){return i.leftPriceScale.borderVisible&&t.bt().W().borderVisible},r=function(){return t.nc()};i.leftPriceScale.visible&&null===this.tw&&(this.tw=new Vn("left",i,n,e,r),this.rw.appendChild(this.tw.W_())),i.rightPriceScale.visible&&null===this.iw&&(this.iw=new Vn("right",i,n,e,r),this.ew.appendChild(this.iw.W_()))},t}(),Xn=function(){function t(t,i){var n;this.pw=[],this.yw=0,this.Au=0,this.oh=0,this.kw=0,this.Nw=0,this.xw=null,this.Cw=!1,this.ud=new A,this.wf=new A,this.zi=i,this.hw=document.createElement("div"),this.hw.classList.add("tv-lightweight-charts"),this.hw.style.overflow="hidden",this.hw.style.width="100%",this.hw.style.height="100%",(n=this.hw).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Sw=document.createElement("table"),this.Sw.setAttribute("cellspacing","0"),this.hw.appendChild(this.Sw),this.Tw=this.Dw.bind(this),this.hw.addEventListener("wheel",this.Tw,{passive:!1}),this.gi=new vn(this.bf.bind(this),this.zi),this.jt().Vf().u(this.Bw.bind(this),this),this.Aw=new Hn(this),this.Sw.appendChild(this.Aw.W_());var e=this.zi.width,r=this.zi.height;if(0===e||0===r){var o=t.getBoundingClientRect();0===e&&(e=Math.floor(o.width),e-=e%2),0===r&&(r=Math.floor(o.height),r-=r%2)}this.Lw(e,r),this.Ew(),t.appendChild(this.hw),this.Fw(),this.gi.bt().Ul().u(this.gi.Ae.bind(this.gi),this),this.gi.qa().u(this.gi.Ae.bind(this.gi),this)}return t.prototype.jt=function(){return this.gi},t.prototype.W=function(){return this.zi},t.prototype.Ow=function(){return this.pw},t.prototype.Vw=function(){return this.Aw},t.prototype.p=function(){this.hw.removeEventListener("wheel",this.Tw),0!==this.yw&&window.cancelAnimationFrame(this.yw),this.gi.Vf().M(this),this.gi.bt().Ul().M(this),this.gi.qa().M(this),this.gi.p();for(var t=0,i=this.pw;t<i.length;t++){var n=i[t];this.Sw.removeChild(n.W_()),n.Fd().M(this),n.p()}this.pw=[],f(this.Aw).p(),null!==this.hw.parentElement&&this.hw.parentElement.removeChild(this.hw),this.wf.p(),this.ud.p()},t.prototype.Lw=function(t,i,n){if(void 0===n&&(n=!1),this.Au!==i||this.oh!==t){this.Au=i,this.oh=t;var e=i+"px",r=t+"px";f(this.hw).style.height=e,f(this.hw).style.width=r,this.Sw.style.height=e,this.Sw.style.width=r,n?this.Rw(new ht(3)):this.gi.Ae()}},t.prototype.K_=function(t){void 0===t&&(t=new ht(3));for(var i=0;i<this.pw.length;i++)this.pw[i].K_(t.Mn(i)._n);this.zi.timeScale.visible&&this.Aw.K_(t.wn())},t.prototype.jr=function(t){this.gi.jr(t),this.Fw();var i=t.width||this.oh,n=t.height||this.Au;this.Lw(i,n)},t.prototype.Fd=function(){return this.ud},t.prototype.Vf=function(){return this.wf},t.prototype.Ww=function(){var t=this;null!==this.xw&&(this.Rw(this.xw),this.xw=null);var i=this.pw[0],n=bn(document,new mn(this.oh,this.Au)),e=Mn(n),r=gn(n);return q(e,r,(function(){var n=0,r=0,o=function(i){for(var o=0;o<t.pw.length;o++){var s=t.pw[o],h=s.zd().Ot,a=f("left"===i?s.Hd():s.Yd()),u=a.td();e.drawImage(u,n,r,a.H_(),h),r+=h}};t.zw()&&(o("left"),n=f(i.Hd()).H_()),r=0;for(var s=0;s<t.pw.length;s++){var h=t.pw[s],a=h.zd(),u=h.td();e.drawImage(u,n,r,a.Ft,a.Ot),r+=a.Ot}n+=i.zd().Ft,t.Pw()&&(r=0,o("right"));var l=function(i){var o=f("left"===i?t.Aw.ow():t.Aw.lw()),s=o.zd(),h=o.td();e.drawImage(h,n,r,s.Ft,s.Ot)};if(t.zi.timeScale.visible){n=0,t.zw()&&(l("left"),n=f(i.Hd()).H_());var c=t.Aw.zd();u=t.Aw.td(),e.drawImage(u,n,r,c.Ft,c.Ot),t.Pw()&&(n+=i.zd().Ft,l("right"),e.restore())}})),n},t.prototype.Iw=function(t){return"left"===t&&!this.zw()||"right"===t&&!this.Pw()||0===this.pw.length?0:f("left"===t?this.pw[0].Hd():this.pw[0].Yd()).H_()},t.prototype.jw=function(){for(var t=0,i=0,n=0,e=0,r=this.pw;e<r.length;e++){var o=r[e];this.zw()&&(i=Math.max(i,f(o.Hd()).j_())),this.Pw()&&(n=Math.max(n,f(o.Yd()).j_())),t+=o.Ua()}var s=this.oh,h=this.Au,a=Math.max(s-i-n,0),u=this.zi.timeScale.visible,l=u?this.Aw._w():0;l%2&&(l+=1);for(var c=0+l,p=h<c?0:h-c,v=p/t,d=0,y=0;y<this.pw.length;++y){(o=this.pw[y]).kd(this.gi.Ef()[y]);var w,m;m=y===this.pw.length-1?p-d:Math.round(o.Ua()*v),d+=w=Math.max(m,2),o.U_(new mn(a,w)),this.zw()&&o.Wd(i,"left"),this.Pw()&&o.Wd(n,"right"),o.Y_()&&this.gi.Rf(o.Y_(),w)}this.Aw.cw(new mn(u?a:0,l),u?i:0,u?n:0),this.gi.Ya(a),this.kw!==i&&(this.kw=i),this.Nw!==n&&(this.Nw=n)},t.prototype.Dw=function(t){var i=t.deltaX/100,n=-t.deltaY/100;if(0!==i&&this.zi.handleScroll.mouseWheel||0!==n&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:i*=120,n*=120;break;case t.DOM_DELTA_LINE:i*=32,n*=32}if(0!==n&&this.zi.handleScale.mouseWheel){var e=Math.sign(n)*Math.min(1,Math.abs(n)),r=t.clientX-this.hw.getBoundingClientRect().left;this.jt().Pf(r,e)}0!==i&&this.zi.handleScroll.mouseWheel&&this.jt().If(-80*i)}},t.prototype.Rw=function(t){var i,n=t.wn();3===n&&this.qw(),3!==n&&2!==n||(this.Uw(t),this.Hw(t),this.Aw.vt(),this.pw.forEach((function(t){t.xd()})),3===(null===(i=this.xw)||void 0===i?void 0:i.wn())&&(this.xw.xn(t),this.qw(),this.Uw(this.xw),this.Hw(this.xw),t=this.xw,this.xw=null)),this.K_(t)},t.prototype.Hw=function(t){for(var i=0,n=t.Nn();i<n.length;i++){var e=n[i];this.Cn(e)}},t.prototype.Uw=function(t){for(var i=this.gi.Ef(),n=0;n<i.length;n++)t.Mn(n).dn&&i[n].oo()},t.prototype.Cn=function(t){var i=this.gi.bt();switch(t.mn){case 0:i.Yl();break;case 1:i.$l(t.St);break;case 2:i.yn(t.St);break;case 3:i.kn(t.St);break;case 4:i.Ol()}},t.prototype.bf=function(t){var i=this;null!==this.xw?this.xw.xn(t):this.xw=t,this.Cw||(this.Cw=!0,this.yw=window.requestAnimationFrame((function(){if(i.Cw=!1,i.yw=0,null!==i.xw){var t=i.xw;i.xw=null,i.Rw(t)}})))},t.prototype.qw=function(){this.Ew()},t.prototype.Ew=function(){for(var t=this.gi.Ef(),i=t.length,n=this.pw.length,e=i;e<n;e++){var r=c(this.pw.pop());this.Sw.removeChild(r.W_()),r.Fd().M(this),r.p()}for(e=n;e<i;e++)(r=new In(this,t[e])).Fd().u(this.Yw.bind(this),this),this.pw.push(r),this.Sw.insertBefore(r.W_(),this.Aw.W_());for(e=0;e<i;e++){var o=t[e];(r=this.pw[e]).Y_()!==o?r.kd(o):r.yd()}this.Fw(),this.jw()},t.prototype.$w=function(t,i){var n,e,r=new Map;if(null!==t&&this.gi._t().forEach((function(i){var n=i.on().ue(t);null!==n&&r.set(i,n)})),null!==t){var o=null===(n=this.gi.bt().pi(t))||void 0===n?void 0:n.Uo;void 0!==o&&(e=o)}var s=this.jt().Tf(),h=null!==s&&s.Bf instanceof Ei?s.Bf:void 0,a=null!==s&&void 0!==s.Dd?s.Dd.ir:void 0;return{rt:e,_s:null!=t?t:void 0,Kw:null!=i?i:void 0,Xw:h,Zw:r,Jw:a}},t.prototype.Yw=function(t,i){var n=this;this.ud.m((function(){return n.$w(t,i)}))},t.prototype.Bw=function(t,i){var n=this;this.wf.m((function(){return n.$w(t,i)}))},t.prototype.Fw=function(){var t=this.zi.timeScale.visible?"":"none";this.Aw.W_().style.display=t},t.prototype.zw=function(){return this.pw[0].Y_().Ga().W().visible},t.prototype.Pw=function(){return this.pw[0].Y_().Qa().W().visible},t}();function Gn(t,i,n,e){var r=n.value;return{_s:i,rt:t,St:[r,r,r,r],Uo:e}}function Yn(t,i,n,e){var r=n.value,o={_s:i,rt:t,St:[r,r,r,r],Uo:e};return"color"in n&&void 0!==n.color&&(o.B=n.color),o}function qn(t){return void 0!==t.St}function Jn(t){return function(i,n,e,r){return void 0===(o=e).open&&void 0===o.value?{rt:i,_s:n,Uo:r}:t(i,n,e,r);var o}}var Un={Candlestick:Jn((function(t,i,n,e){var r={_s:i,rt:t,St:[n.open,n.high,n.low,n.close],Uo:e};return"color"in n&&void 0!==n.color&&(r.B=n.color),"borderColor"in n&&void 0!==n.borderColor&&(r.Tt=n.borderColor),"wickColor"in n&&void 0!==n.wickColor&&(r.Ks=n.wickColor),r})),Bar:Jn((function(t,i,n,e){var r={_s:i,rt:t,St:[n.open,n.high,n.low,n.close],Uo:e};return"color"in n&&void 0!==n.color&&(r.B=n.color),r})),Area:Jn(Gn),Baseline:Jn(Gn),Histogram:Jn(Yn),Line:Jn(Yn)};function Qn(t){return Un[t]}function Kn(t){return 60*t*60*1e3}function $n(t){return 60*t*1e3}var te=[{Gw:(1,1e3),qo:10},{Gw:$n(1),qo:20},{Gw:$n(5),qo:21},{Gw:$n(30),qo:22},{Gw:Kn(1),qo:30},{Gw:Kn(3),qo:31},{Gw:Kn(6),qo:32},{Gw:Kn(12),qo:33}];function ie(t,i){if(t.getUTCFullYear()!==i.getUTCFullYear())return 70;if(t.getUTCMonth()!==i.getUTCMonth())return 60;if(t.getUTCDate()!==i.getUTCDate())return 50;for(var n=te.length-1;n>=0;--n)if(Math.floor(i.getTime()/te[n].Gw)!==Math.floor(t.getTime()/te[n].Gw))return te[n].qo;return 0}function ne(t,i){if(void 0===i&&(i=0),0!==t.length){for(var n=0===i?null:t[i-1].rt.Eo,e=null!==n?new Date(1e3*n):null,r=0,o=i;o<t.length;++o){var s=t[o],h=new Date(1e3*s.rt.Eo);null!==e&&(s.jo=ie(h,e)),r+=s.rt.Eo-(n||s.rt.Eo),n=s.rt.Eo,e=h}if(0===i&&t.length>1){var a=Math.ceil(r/(t.length-1)),u=new Date(1e3*(t[0].rt.Eo-a));t[0].jo=ie(new Date(1e3*t[0].rt.Eo),u)}}}function ee(t){if(!yn(t))throw new Error("time must be of type BusinessDay");var i=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Eo:Math.round(i.getTime()/1e3),Lo:t}}function re(t){if(!wn(t))throw new Error("time must be of type isUTCTimestamp");return{Eo:t}}function oe(t){return 0===t.length?null:yn(t[0].time)?ee:re}function se(t){return wn(t)?re(t):yn(t)?ee(t):ee(he(t))}function he(t){var i=new Date(t);if(isNaN(i.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:i.getUTCDate(),month:i.getUTCMonth()+1,year:i.getUTCFullYear()}}function ae(t){k(t.time)&&(t.time=he(t.time))}function ue(t){return{_s:0,Qw:new Map,je:t}}function le(t){if(void 0!==t&&0!==t.length)return{tM:t[0].rt.Eo,iM:t[t.length-1].rt.Eo}}function ce(t){var i;return t.forEach((function(t){void 0===i&&(i=t.Uo)})),c(i)}function fe(t){void 0===t.Uo&&(t.Uo=t.time)}var pe=function(){function t(){this.nM=new Map,this.sM=new Map,this.hM=new Map,this.rM=[]}return t.prototype.p=function(){this.nM.clear(),this.sM.clear(),this.hM.clear(),this.rM=[]},t.prototype.eM=function(t,i){var n=this,e=0!==this.nM.size,r=!1,o=this.sM.get(t);if(void 0!==o)if(1===this.sM.size)e=!1,r=!0,this.nM.clear();else for(var s=0,h=this.rM;s<h.length;s++)h[s].pointData.Qw.delete(t)&&(r=!0);var a=[];if(0!==i.length){var u=i;u.forEach((function(t){return fe(t)})),function(t){t.forEach(ae)}(i);var l=f(oe(i)),c=Qn(t.Hr());a=u.map((function(i){var e=l(i.time),o=n.nM.get(e.Eo);void 0===o&&(o=ue(e),n.nM.set(e.Eo,o),r=!0);var s=c(e,o._s,i,i.Uo);return o.Qw.set(t,s),s}))}e&&this.uM(),this.aM(t,a);var p=-1;if(r){var v=[];this.nM.forEach((function(t){v.push({jo:0,rt:t.je,pointData:t,Uo:ce(t.Qw)})})),v.sort((function(t,i){return t.rt.Eo-i.rt.Eo})),p=this.oM(v)}return this.lM(t,p,function(t,i){var n=le(t),e=le(i);if(void 0!==n&&void 0!==e)return{Oe:n.iM>=e.iM&&n.tM>=e.tM}}(this.sM.get(t),o))},t.prototype.Qf=function(t){return this.eM(t,[])},t.prototype.fM=function(t,i){var n=i;fe(n),ae(i);var e=f(oe([i]))(i.time),r=this.hM.get(t);if(void 0!==r&&e.Eo<r.Eo)throw new Error("Cannot update oldest data, last time=".concat(r.Eo,", new time=").concat(e.Eo));var o=this.nM.get(e.Eo),s=void 0===o;void 0===o&&(o=ue(e),this.nM.set(e.Eo,o));var h=Qn(t.Hr())(e,o._s,i,n.Uo);o.Qw.set(t,h),this.cM(t,h);var a={Oe:qn(h)};if(!s)return this.lM(t,-1,a);var u={jo:0,rt:o.je,pointData:o,Uo:ce(o.Qw)},l=wt(this.rM,u.rt.Eo,(function(t,i){return t.rt.Eo<i}));this.rM.splice(l,0,u);for(var c=l;c<this.rM.length;++c)ve(this.rM[c].pointData,c);return ne(this.rM,l),this.lM(t,l,a)},t.prototype.cM=function(t,i){var n=this.sM.get(t);void 0===n&&(n=[],this.sM.set(t,n));var e=0!==n.length?n[n.length-1]:null;null===e||i.rt.Eo>e.rt.Eo?qn(i)&&n.push(i):qn(i)?n[n.length-1]=i:n.splice(-1,1),this.hM.set(t,i.rt)},t.prototype.aM=function(t,i){0!==i.length?(this.sM.set(t,i.filter(qn)),this.hM.set(t,i[i.length-1].rt)):(this.sM.delete(t),this.hM.delete(t))},t.prototype.uM=function(){for(var t=0,i=this.rM;t<i.length;t++){var n=i[t];0===n.pointData.Qw.size&&this.nM.delete(n.rt.Eo)}},t.prototype.oM=function(t){for(var i=-1,n=0;n<this.rM.length&&n<t.length;++n){var e=this.rM[n],r=t[n];if(e.rt.Eo!==r.rt.Eo){i=n;break}r.jo=e.jo,ve(r.pointData,n)}if(-1===i&&this.rM.length!==t.length&&(i=Math.min(this.rM.length,t.length)),-1===i)return-1;for(n=i;n<t.length;++n)ve(t[n].pointData,n);return ne(t,i),this.rM=t,i},t.prototype.vM=function(){if(0===this.sM.size)return null;var t=0;return this.sM.forEach((function(i){0!==i.length&&(t=Math.max(t,i[i.length-1]._s))})),t},t.prototype.lM=function(t,i,n){var e={_M:new Map,bt:{Cl:this.vM()}};if(-1!==i)this.sM.forEach((function(i,r){e._M.set(r,{xh:i,dM:r===t?n:void 0})})),this.sM.has(t)||e._M.set(t,{xh:[],dM:n}),e.bt.wM=this.rM,e.bt.MM=i;else{var r=this.sM.get(t);e._M.set(t,{xh:r||[],dM:n})}return e},t}();function ve(t,i){t._s=i,t.Qw.forEach((function(t){t._s=i}))}function de(t){return{value:t.St[3],time:t.Uo}}function ye(t){return{open:t.St[0],high:t.St[1],low:t.St[2],close:t.St[3],time:t.Uo}}var we={Area:de,Line:de,Baseline:de,Histogram:function(t){return{value:t.St[3],color:t.B,time:t.Uo}},Bar:ye,Candlestick:ye};function me(t){return we[t]}var ge={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},Me=function(){function t(t){this.Rr=t}return t.prototype.applyOptions=function(t){this.Rr.jr(t)},t.prototype.options=function(){return this.Rr.W()},t.prototype.bM=function(){return this.Rr},t}(),be=function(){function t(t,i,n){this.Xn=t,this.mM=i,this.gM=n}return t.prototype.priceFormatter=function(){return this.Xn.Xe()},t.prototype.priceToCoordinate=function(t){var i=this.Xn.kt();return null===i?null:this.Xn.Ct().xt(t,i.St)},t.prototype.coordinateToPrice=function(t){var i=this.Xn.kt();return null===i?null:this.Xn.Ct().qi(t,i.St)},t.prototype.barsInLogicalRange=function(t){if(null===t)return null;var i=new on(new tn(t.from,t.to)).Xo(),n=this.Xn.on();if(n.wi())return null;var e=n.ue(i.jn(),1),r=n.ue(i.qn(),-1),o=f(n.he()),s=f(n.an());if(null!==e&&null!==r&&e._s>r._s)return{barsBefore:t.from-o,barsAfter:s-t.to};var h={barsBefore:null===e||e._s===o?t.from-o:e._s-o,barsAfter:null===r||r._s===s?s-t.to:s-r._s};return null!==e&&null!==r&&(h.from=e.rt.Lo||e.rt.Eo,h.to=r.rt.Lo||r.rt.Eo),h},t.prototype.setData=function(t){this.Xn.Hr(),this.mM.pM(this.Xn,t)},t.prototype.update=function(t){this.Xn.Hr(),this.mM.yM(this.Xn,t)},t.prototype.dataByIndex=function(t,i){var n=this.Xn.on().ue(t,i);return null===n?null:me(this.seriesType())(n)},t.prototype.setMarkers=function(t){var i=t.map((function(t){return E(E({},t),{originalTime:t.time,time:se(t.time)})}));this.Xn.Re(i)},t.prototype.markers=function(){return this.Xn.We().map((function(t){var i=t.originalTime;t.time;var n=function(t,i){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.indexOf(e)<0&&(n[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(e=Object.getOwnPropertySymbols(t);r<e.length;r++)i.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]])}return n}(t,["originalTime","time"]);return E({time:i},n)}))},t.prototype.applyOptions=function(t){this.Xn.jr(t)},t.prototype.options=function(){return j(this.Xn.W())},t.prototype.priceScale=function(){return this.gM.priceScale(this.Xn.Ct().tu())},t.prototype.createPriceLine=function(t){var i=O(j(ge),t),n=this.Xn.ze(i);return new Me(n)},t.prototype.removePriceLine=function(t){this.Xn.Pe(t.bM())},t.prototype.seriesType=function(){return this.Xn.Hr()},t}(),_e=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return S(i,t),i.prototype.applyOptions=function(i){dn(i),t.prototype.applyOptions.call(this,i)},i}(be),Ce={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},Se={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:R,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Ee={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:R},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:E({},Ce),leftPriceScale:E(E({},Ce),{visible:!1}),rightPriceScale:E(E({},Ce),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:Se,localization:{locale:xn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},xe={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Ae={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Oe={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Te={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},ze={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},ke={color:"#26a69a",base:0},Le={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},je=function(){function t(t,i){this.kM=t,this.NM=i}return t.prototype.applyOptions=function(t){this.kM.jt().Af(this.NM,t)},t.prototype.options=function(){return this._i().W()},t.prototype.width=function(){return st(this.NM)?this.kM.Iw(this.NM):0},t.prototype._i=function(){return f(this.kM.jt().Lf(this.NM)).Ct},t}(),Ne=function(){function t(t,i){this.xM=new A,this.rl=new A,this.sw=new A,this.gi=t,this.Oa=t.bt(),this.Aw=i,this.Oa.jl().u(this.CM.bind(this)),this.Oa.ql().u(this.SM.bind(this)),this.Aw.fw().u(this.TM.bind(this))}return t.prototype.p=function(){this.Oa.jl().M(this),this.Oa.ql().M(this),this.Aw.fw().M(this),this.xM.p(),this.rl.p(),this.sw.p()},t.prototype.scrollPosition=function(){return this.Oa.Al()},t.prototype.scrollToPosition=function(t,i){i?this.Oa.Il(t,1e3):this.gi.kn(t)},t.prototype.scrollToRealTime=function(){this.Oa.Pl()},t.prototype.getVisibleRange=function(){var t,i,n=this.Oa.ml();return null===n?null:{from:null!==(t=n.from.Lo)&&void 0!==t?t:n.from.Eo,to:null!==(i=n.to.Lo)&&void 0!==i?i:n.to.Eo}},t.prototype.setVisibleRange=function(t){var i={from:se(t.from),to:se(t.to)},n=this.Oa.kl(i);this.gi.tc(n)},t.prototype.getVisibleLogicalRange=function(){var t=this.Oa.bl();return null===t?null:{from:t.jn(),to:t.qn()}},t.prototype.setVisibleLogicalRange=function(t){l(t.from<=t.to,"The from index cannot be after the to index."),this.gi.tc(t)},t.prototype.resetTimeScale=function(){this.gi.pn()},t.prototype.fitContent=function(){this.gi.Yl()},t.prototype.logicalToCoordinate=function(t){var i=this.gi.bt();return i.wi()?null:i.Bt(t)},t.prototype.coordinateToLogical=function(t){return this.Oa.wi()?null:this.Oa.Sl(t)},t.prototype.timeToCoordinate=function(t){var i=se(t),n=this.Oa.nu(i,!1);return null===n?null:this.Oa.Bt(n)},t.prototype.coordinateToTime=function(t){var i,n=this.gi.bt(),e=n.Sl(t),r=n.Ui(e);return null===r?null:null!==(i=r.Lo)&&void 0!==i?i:r.Eo},t.prototype.width=function(){return this.Aw.zd().Ft},t.prototype.height=function(){return this.Aw.zd().Ot},t.prototype.subscribeVisibleTimeRangeChange=function(t){this.xM.u(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.xM._(t)},t.prototype.subscribeVisibleLogicalRangeChange=function(t){this.rl.u(t)},t.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.rl._(t)},t.prototype.subscribeSizeChange=function(t){this.sw.u(t)},t.prototype.unsubscribeSizeChange=function(t){this.sw._(t)},t.prototype.applyOptions=function(t){this.Oa.jr(t)},t.prototype.options=function(){return j(this.Oa.W())},t.prototype.CM=function(){this.xM.g()&&this.xM.m(this.getVisibleRange())},t.prototype.SM=function(){this.rl.g()&&this.rl.m(this.getVisibleLogicalRange())},t.prototype.TM=function(t){this.sw.m(t.Ft,t.Ot)},t}();function De(t){if(void 0!==t&&"custom"!==t.type){var i=t;void 0!==i.minMove&&void 0===i.precision&&(i.precision=function(t){if(t>=1)return 0;for(var i=0;i<8;i++){var n=Math.round(t);if(Math.abs(n-t)<1e-8)return i;t*=10}return i}(i.minMove))}}function Re(t){return function(t){if(L(t.handleScale)){var i=t.handleScale;t.handleScale={axisDoubleClickReset:i,axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(void 0!==t.handleScale&&L(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var e=t.handleScroll;L(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}var Be=function(){function t(t,i){var n=this;this.DM=new pe,this.BM=new Map,this.AM=new Map,this.LM=new A,this.EM=new A;var e=void 0===i?j(Ee):O(j(Ee),Re(i));this.kM=new Xn(t,e),this.kM.Fd().u((function(t){n.LM.g()&&n.LM.m(n.FM(t()))}),this),this.kM.Vf().u((function(t){n.EM.g()&&n.EM.m(n.FM(t()))}),this);var r=this.kM.jt();this.OM=new Ne(r,this.kM.Vw())}return t.prototype.remove=function(){this.kM.Fd().M(this),this.kM.Vf().M(this),this.OM.p(),this.kM.p(),this.BM.clear(),this.AM.clear(),this.LM.p(),this.EM.p(),this.DM.p()},t.prototype.resize=function(t,i,n){this.kM.Lw(t,i,n)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),De(t.priceFormat);var i=O(j(Le),Te,t),n=this.kM.jt().Jf("Area",i),e=new be(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.addBaselineSeries=function(t){void 0===t&&(t={}),De(t.priceFormat);var i=O(j(Le),j(ze),t),n=this.kM.jt().Jf("Baseline",i),e=new be(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),De(t.priceFormat);var i=O(j(Le),Ae,t),n=this.kM.jt().Jf("Bar",i),e=new be(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),dn(t),De(t.priceFormat);var i=O(j(Le),xe,t),n=this.kM.jt().Jf("Candlestick",i),e=new _e(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),De(t.priceFormat);var i=O(j(Le),ke,t),n=this.kM.jt().Jf("Histogram",i),e=new be(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),De(t.priceFormat);var i=O(j(Le),Oe,t),n=this.kM.jt().Jf("Line",i),e=new be(n,this,this);return this.BM.set(e,n),this.AM.set(n,e),e},t.prototype.removeSeries=function(t){var i=c(this.BM.get(t)),n=this.DM.Qf(i);this.kM.jt().Qf(i),this.VM(n),this.BM.delete(t),this.AM.delete(i)},t.prototype.pM=function(t,i){this.VM(this.DM.eM(t,i))},t.prototype.yM=function(t,i){this.VM(this.DM.fM(t,i))},t.prototype.subscribeClick=function(t){this.LM.u(t)},t.prototype.unsubscribeClick=function(t){this.LM._(t)},t.prototype.subscribeCrosshairMove=function(t){this.EM.u(t)},t.prototype.unsubscribeCrosshairMove=function(t){this.EM._(t)},t.prototype.priceScale=function(t){return new je(this.kM,t)},t.prototype.timeScale=function(){return this.OM},t.prototype.applyOptions=function(t){this.kM.jr(Re(t))},t.prototype.options=function(){return this.kM.W()},t.prototype.takeScreenshot=function(){return this.kM.Ww()},t.prototype.VM=function(t){var i=this.kM.jt();i.Xf(t.bt.Cl,t.bt.wM,t.bt.MM),t._M.forEach((function(t,i){return i.Z(t.xh,t.dM)})),i.Dl()},t.prototype.RM=function(t){return c(this.AM.get(t))},t.prototype.FM=function(t){var i=this,n=new Map;t.Zw.forEach((function(t,e){var r=me(e.Hr())(t);l(function(t){return void 0!==t.open||void 0!==t.value}(r)),n.set(i.RM(e),r)}));var e=void 0===t.Xw?void 0:this.RM(t.Xw);return{time:t.rt,logical:t._s,point:t.Kw,hoveredSeries:e,hoveredMarkerId:t.Jw,seriesData:n}},t}();function Fe(t,i){var n;if(k(t)){var e=document.getElementById(t);l(null!==e,"Cannot find element in DOM with id=".concat(t)),n=e}else n=t;return new Be(n,i)}function Pe(){return"4.0.0-dev+202203151048"}},683:function(t,i,n){n.r(i),n.d(i,{default:function(){return rt}});var e,r,o,s=n(9548),h=n(2263),a=n(7842),u=n(9027),l=n(7294),c=["title","titleId"];function f(){return f=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},f.apply(this,arguments)}function p(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var v,d=function(t){var i=t.title,n=t.titleId,s=p(t,c);return l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:44,height:44,viewBox:"0 0 44 44",fill:"none","aria-labelledby":n},s),i?l.createElement("title",{id:n},i):null,e||(e=l.createElement("path",{d:"M10.93 41.1A16.65 16.65 0 0 1 22 36.91c4.24 0 8.12 1.58 11.07 4.2",stroke:"#2962FF",strokeWidth:2})),r||(r=l.createElement("circle",{cx:22,cy:17.66,r:6,stroke:"#2962FF",strokeWidth:2})),o||(o=l.createElement("path",{d:"m11.78 6.04 4.76-2.74 4 2.8 2.73-.05 4.12-2.98 4.65 2.56-.62 4.72 1.18 2.4 4.67 1.94-.12 5.3-4.74 2.13-1.29 2.46.42 4.7-4.76 2.74-4-2.8-2.73.05-4.11 2.98-4.65-2.56.61-4.72-1.18-2.4-4.67-1.94.12-5.3 3.97-1.79 2.06-2.8-.42-4.7z",stroke:"#2962FF",strokeWidth:2})))},y=["title","titleId"];function w(){return w=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},w.apply(this,arguments)}function m(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var g,M=function(t){var i=t.title,n=t.titleId,e=m(t,y);return l.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:292,height:128,viewBox:"0 0 292 128","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,v||(v=l.createElement("path",{fillRule:"evenodd",d:"m182.93 7.6.63-.37a64.1 64.1 0 0 0 2.43-5.31l4.77-1.39a64.68 64.68 0 0 1-4.72 10.54c.38 10.45-3.93 21.15-11.1 29.37-11.66 13.41-26.98 15.97-43.57 13.78l1.07-.98a21.1 21.1 0 0 0 3.72-4.05 48.37 48.37 0 0 1-11.04 2.84c-10.65-5.54-21.64-14.94-24.27-27.27 9.19-17 28.95-24.01 47.39-19.94a22.57 22.57 0 0 0 5.86 9.02c-.12-1.92-.1-3.84-.1-5.76l.01-1.78c4.8 2.96 9.66 5.85 15.52 5.7 4.08-.1 8.4-1.52 13.4-4.4Zm-22.55 23.28a8.48 8.48 0 0 0-12.45-.33l-7.9-7.26A8.6 8.6 0 0 0 132 12c-6.14 0-10.25 6.63-7.7 12.09l-13.02 12.19c-4.1-4.97-5.68-9.3-6.17-10.94 8.36-13.72 24.46-20.18 40.15-17.07 2.93 6.9 8.38 10.72 14.77 13.96l-.33-1.14c-.74-2.56-1.47-5.1-1.62-7.78 7.05 3.45 14.6 3.35 21.76.31-4.76 7.27-11.13 14.22-19.46 17.26Zm-22.56-4.19 8.03 7.38A8.6 8.6 0 0 0 154 45a8.6 8.6 0 0 0 8.25-10.55c7.99-3.08 14.37-9.38 19.28-16.23-3.47 19.47-21.96 34.61-41.9 32.98 1.77-2.84 2.49-6.06 3.21-9.28l.35-1.56c-5.47 3.77-10.67 6.38-17.37 7.52a49.9 49.9 0 0 1-11.85-8.65l12.83-12a8.58 8.58 0 0 0 11.02-.54ZM132 16a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Zm17.5 20.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM21.63 71.8a2.33 2.33 0 0 1 2.33 2.34 2.34 2.34 0 0 1-2.33 2.37 2.38 2.38 0 0 1-2.37-2.37 2.38 2.38 0 0 1 2.37-2.33Zm1.76 8.2v16h-3.52V80h3.52Zm-6.46 16H2.78V73.28h3.75v19.14h10.4V96Zm26.39-1.09V80H39.8v2.14a6.26 6.26 0 0 0-5.12-2.46c-4.32 0-7.68 3.58-7.68 8.1 0 4.54 3.36 8.12 7.68 8.12 2.2 0 4.16-1.08 5.12-2.5v1.48c0 3.23-2.18 5-4.83 5a7.03 7.03 0 0 1-5.32-2.34l-2.14 2.52c1.57 1.76 4.35 2.95 7.49 2.95 4.73 0 8.32-2.53 8.32-8.1Zm-12.77-7.13a4.7 4.7 0 0 1 4.77-4.9 4.7 4.7 0 0 1 4.77 4.9 4.7 4.7 0 0 1-4.77 4.9 4.7 4.7 0 0 1-4.77-4.9ZM51.58 96h-3.52V72h3.52v10.18c.96-1.6 2.78-2.5 4.86-2.5 3.71 0 6.11 2.62 6.11 6.69V96h-3.52v-9.06c0-2.52-1.28-4.06-3.33-4.06-2.33 0-4.12 1.82-4.12 5.25V96Zm24.86-.2v-3.13c-.52.2-1.22.32-1.9.32-1.82 0-2.68-.73-2.68-2.72v-7.13h4.58V80h-4.58v-4.45h-3.52V80h-3.33v3.14h3.33v7.7c0 3.62 2.4 5.32 5.47 5.32 1.09 0 1.92-.13 2.63-.35Zm20.3.2H93.4l-3.52-10.37L86.39 96h-3.32l-5.38-16h3.72l3.45 11 3.68-11h2.69l3.65 11 3.49-11h3.74l-5.38 16Zm6.76-8c0 4.86 3.49 8.32 8.35 8.32 3.36 0 5.86-1.44 7.3-3.71l-2.7-1.92a5.03 5.03 0 0 1-4.57 2.43c-2.65 0-4.77-1.73-4.93-4.35h12.58c.03-.51.03-.8.03-1.15 0-5.16-3.52-7.94-7.71-7.94A8.12 8.12 0 0 0 103.5 88Zm8.22-5.34c2.05 0 3.9 1.24 4.29 3.55h-8.9c.48-2.37 2.56-3.55 4.61-3.55Zm13.22-10.85a2.33 2.33 0 0 1 2.34 2.33 2.34 2.34 0 0 1-2.34 2.37 2.38 2.38 0 0 1-2.37-2.37 2.38 2.38 0 0 1 2.37-2.33Zm21.7 23.1V80h-3.53v2.14a6.26 6.26 0 0 0-5.12-2.46c-4.32 0-7.68 3.58-7.68 8.1 0 4.54 3.36 8.12 7.68 8.12 2.2 0 4.16-1.08 5.12-2.5v1.48c0 3.23-2.18 5-4.83 5a7.03 7.03 0 0 1-5.31-2.34l-2.15 2.52c1.57 1.76 4.36 2.95 7.5 2.95 4.73 0 8.31-2.53 8.31-8.1ZM126.7 96h-3.52V80h3.52v16Zm7.16-8.22a4.7 4.7 0 0 1 4.77-4.9 4.7 4.7 0 0 1 4.77 4.9 4.7 4.7 0 0 1-4.77 4.9 4.7 4.7 0 0 1-4.77-4.9ZM154.9 96h-3.52V72h3.52v10.18c.96-1.6 2.78-2.5 4.86-2.5 3.71 0 6.11 2.62 6.11 6.69V96h-3.52v-9.06c0-2.52-1.28-4.06-3.32-4.06-2.34 0-4.13 1.82-4.13 5.25V96Zm24.86-.2v-3.13c-.51.2-1.22.32-1.89.32-1.82 0-2.69-.73-2.69-2.72v-7.13h4.58V80h-4.58v-4.45h-3.52V80h-3.33v3.14h3.33v7.7c0 3.62 2.4 5.32 5.47 5.32 1.1 0 1.92-.13 2.63-.35Zm21.59.58a11.67 11.67 0 0 1-11.75-11.74c0-6.56 5.22-11.74 11.75-11.74 4.45 0 8.22 2.27 10.24 5.76l-3.23 1.85a7.94 7.94 0 0 0-7.01-4 7.96 7.96 0 0 0-7.97 8.13 7.96 7.96 0 0 0 7.97 8.13 7.94 7.94 0 0 0 7-4l3.24 1.85a11.66 11.66 0 0 1-10.24 5.76Zm13.4-.38h3.52v-7.87c0-3.43 1.8-5.25 4.13-5.25 2.05 0 3.33 1.54 3.33 4.06V96h3.52v-9.63c0-4.07-2.4-6.69-6.11-6.69-2.08 0-3.9.9-4.87 2.5V72h-3.52v24Zm25.56.32c-4.38 0-7.7-3.74-7.7-8.32s3.32-8.32 7.7-8.32c2.3 0 4.23 1.18 5.12 2.46V80h3.52v16h-3.52v-2.14a6.38 6.38 0 0 1-5.12 2.46Zm.64-3.2c2.85 0 4.77-2.24 4.77-5.12s-1.92-5.12-4.77-5.12c-2.84 0-4.76 2.24-4.76 5.12s1.91 5.12 4.76 5.12ZM253.71 96h3.52v-7.8c0-3.2 1.83-4.9 3.84-4.9.64 0 1.15.1 1.76.28v-3.61c-.48-.1-.93-.13-1.37-.13a4.5 4.5 0 0 0-4.23 3V80h-3.52v16Zm21.73-3.33v3.14c-.7.22-1.54.35-2.63.35-3.07 0-5.47-1.7-5.47-5.31v-7.71h-3.33V80h3.33v-4.45h3.52V80h4.58v3.14h-4.58v7.13c0 1.99.86 2.72 2.69 2.72.67 0 1.37-.13 1.89-.32Zm14.21-1.31c0-2.62-1.66-4.03-4.48-4.86l-1.63-.48c-1.57-.45-1.92-1.12-1.92-1.9 0-.95 1.09-1.5 2.15-1.5 1.3 0 2.33.64 3.04 1.64l2.43-1.86c-1.12-1.76-3.01-2.72-5.41-2.72-3.2 0-5.7 1.73-5.73 4.58-.03 2.36 1.41 4.12 4.2 4.9l1.4.38c1.92.57 2.47 1.12 2.47 2.04 0 1.12-1.06 1.7-2.3 1.7-1.64 0-3.2-.8-3.85-2.2l-2.59 1.85c1.15 2.27 3.58 3.39 6.43 3.39 3.3 0 5.8-1.89 5.8-4.96Zm-143.38 21.4c0 .46-.37.84-.83.84a.86.86 0 0 1-.87-.85c0-.46.39-.85.87-.85.46 0 .83.39.83.85Zm-.29 11.24h-1.12v-8h1.12v8Zm-52.02.16a4.04 4.04 0 0 0 3.98-4.16 4.04 4.04 0 0 0-3.98-4.16c-1.24 0-2.39.64-2.96 1.5V112h-1.12v12H91v-1.34c.57.86 1.72 1.5 2.96 1.5Zm-.12-1.04c-1.74 0-2.94-1.4-2.94-3.12 0-1.73 1.2-3.12 2.94-3.12 1.75 0 2.95 1.4 2.95 3.12 0 1.73-1.2 3.12-2.95 3.12Zm7.9 4.22 5.3-11.34h-1.26l-2.93 6.35-2.93-6.35h-1.24l3.55 7.6-1.76 3.74h1.26ZM115.3 124h-1.2v-10.2h-3.68v-1.16h8.56v1.15h-3.68V124Zm3.82 0h1.12v-4.02c0-2.04 1.23-2.94 2.22-2.94.24 0 .45.03.67.11v-1.17a2.44 2.44 0 0 0-2.9 1.66V116h-1.11v8Zm11.72-1.34a3.64 3.64 0 0 1-2.96 1.5 4.04 4.04 0 0 1-3.98-4.16 4.04 4.04 0 0 1 3.98-4.16c1.23 0 2.39.64 2.96 1.5V116h1.12v8h-1.12v-1.34Zm-5.8-2.66c0 1.73 1.2 3.12 2.95 3.12 1.75 0 2.95-1.4 2.95-3.12 0-1.73-1.2-3.12-2.95-3.12-1.74 0-2.94 1.4-2.94 3.12Zm12.98 4.16c1.23 0 2.39-.64 2.96-1.5V124h1.12v-12H141v5.34a3.64 3.64 0 0 0-2.96-1.5 4.04 4.04 0 0 0-3.98 4.16 4.04 4.04 0 0 0 3.98 4.16Zm.11-1.04c-1.74 0-2.94-1.4-2.94-3.12 0-1.73 1.2-3.12 2.94-3.12 1.75 0 2.95 1.4 2.95 3.12 0 1.73-1.2 3.12-2.95 3.12Zm10.6.88h1.11v-3.98c0-1.99 1.1-3.14 2.5-3.14 1.19 0 2.02.86 2.02 2.27V124h1.12v-5c0-1.96-1.27-3.16-3.01-3.16-1.04 0-2.05.45-2.63 1.5V116h-1.11v8Zm16.71-.42c0 2.61-1.72 3.92-3.95 3.92-1.84 0-3.17-.83-3.77-1.74l.88-.75a3.4 3.4 0 0 0 2.9 1.45c1.37 0 2.82-.83 2.82-2.94v-1.02c-.57.86-1.7 1.5-2.92 1.5a3.94 3.94 0 0 1-3.96-4.08 3.94 3.94 0 0 1 3.96-4.08c1.23 0 2.35.64 2.92 1.5V116h1.12v7.58Zm-6.84-3.66c0 1.73 1.16 3.04 2.9 3.04 1.75 0 2.92-1.31 2.92-3.04s-1.17-3.04-2.91-3.04c-1.75 0-2.91 1.31-2.91 3.04Zm13.55 4.08 4.88-11.36h-1.35l-4.03 9.38-4.03-9.38h-1.36l4.9 11.36h.99Zm7.84-11.25c0 .47-.37.85-.83.85a.86.86 0 0 1-.86-.85c0-.46.38-.85.86-.85.47 0 .83.39.83.85Zm-.28 11.25h-1.13v-8h1.13v8Zm6.2.16a3.9 3.9 0 0 0 3.56-1.95l-.91-.6a2.78 2.78 0 0 1-2.64 1.51 2.87 2.87 0 0 1-2.96-2.93h6.75v-.3c-.02-2.56-1.68-4.05-3.76-4.05a4.05 4.05 0 0 0-4.15 4.16c0 2.3 1.6 4.16 4.12 4.16Zm-.01-7.28c1.34 0 2.45.88 2.64 2.32h-5.49a2.84 2.84 0 0 1 2.85-2.32Zm13.55 7.12h-.93l-2.1-6.1-2.14 6.1h-.92l-2.74-8h1.15l2.08 6.08 2.11-6.08h.87l2.11 6.08 2.08-6.08h1.17l-2.74 8Z",fill:"currentColor"})))},b=["title","titleId"];function _(){return _=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},_.apply(this,arguments)}function C(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var S,E=function(t){var i=t.title,n=t.titleId,e=C(t,b);return l.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:44,height:44,viewBox:"0 0 44 44","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,g||(g=l.createElement("path",{fillRule:"evenodd",d:"M15 11a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm-1.87 1H4v-2h9.13a4 4 0 0 1 7.74 0H40v2H20.87a4 4 0 0 1-7.74 0ZM4 23h22.13a4 4 0 0 0 7.74 0H40v-2h-6.13a4 4 0 0 0-7.74 0H4v2Zm4.13 11H4v-2h4.13a4 4 0 0 1 7.74 0H40v2H15.87a4 4 0 0 1-7.74 0ZM30 20a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM10 33a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z",fill:"#2962FF"})))},x=["title","titleId"];function A(){return A=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},A.apply(this,arguments)}function O(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var T,z=function(t){var i=t.title,n=t.titleId,e=O(t,x);return l.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:44,height:44,viewBox:"0 0 44 44","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,S||(S=l.createElement("path",{fillRule:"evenodd",d:"m40.72 6.53-9.96 30.43-8.36-6.03-7.4 7.95V25.44L2.63 17.2 40.72 6.53ZM17 26.9l3.78 2.84L17 33.8v-6.9Zm5.86 1.9 6.85 4.94 7.56-23.1L17.68 24.9l5.18 3.9Zm11.26-18.34L7.37 17.95l8.6 5.73 18.15-13.22Z",fill:"#2962FF"})))},k=["title","titleId"];function L(){return L=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},L.apply(this,arguments)}function j(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var N,D=function(t){var i=t.title,n=t.titleId,e=j(t,k);return l.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:120,height:120,viewBox:"0 0 120 120","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,T||(T=l.createElement("path",{fillRule:"evenodd",d:"M19 17h94v70H49v15H7V39h12V17zm86 62H49V39H27V25h78v54zM15 94h26V47H15v47zm77-51a5 5 0 1 0 0-10 5 5 0 0 0 0 10z",fill:"currentColor"})))},R=["title","titleId"];function B(){return B=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},B.apply(this,arguments)}function F(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var P,W=function(t){var i=t.title,n=t.titleId,e=F(t,R);return l.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",width:44,height:44,viewBox:"0 0 44 44","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,N||(N=l.createElement("path",{d:"M12 1A24.1 24.1 0 0 1 2 11c4.5 2.5 7.5 5.5 10 10.02C14.5 16.5 17.5 13.5 22 11A24.1 24.1 0 0 1 12 1ZM6 11c2-1 4-3 6-6 2 3 4 5 6 6-2 1-4 3-6 6-2-3-4-5-6-6Zm20 23a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-9a9 9 0 1 0 0 18 9 9 0 0 0 0-18ZM24 2h18v18H24V2Zm2 2v14h14V4H26ZM12 26 2 43h20L12 26ZM6 41l6-11 6 11H6Z",fill:"#2962FF"})))},I=["title","titleId"];function V(){return V=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},V.apply(this,arguments)}function Z(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var H,X=function(t){var i=t.title,n=t.titleId,e=Z(t,I);return l.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",width:120,height:120,viewBox:"0 0 120 120","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,P||(P=l.createElement("path",{d:"M63.65 7.98c23.46 0 42.64 13.48 53.93 33.35L93.75 61.26c-8.38-12.4-19.96-21.32-35.65-21.32-33.46 0-51.66 40.38-30.78 65.53l-5.89 5.4C-15.47 74.45 10.54 7.97 63.65 7.97zm0 8c-28.5 0-52.15 23.81-52.1 52.27a48 48 0 0 1 83.71-18.68l11.99-10.03a52.06 52.06 0 0 0-43.6-23.56zm9.68 58.6L59.9 85.93l-5.17-6.11 13.45-11.37 5.16 6.11zM80.98 69a5 5 0 1 0 0-10 5 5 0 0 0 0 10z",fill:"currentColor"})))},G=["title","titleId"];function Y(){return Y=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},Y.apply(this,arguments)}function q(t,i){if(null==t)return{};var n,e,r=function(t,i){if(null==t)return{};var n,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||(r[n]=t[n]);return r}(t,i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)n=o[e],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var J=function(t){var i=t.title,n=t.titleId,e=q(t,G);return l.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:120,height:120,viewBox:"0 0 120 120","aria-labelledby":n},e),i?l.createElement("title",{id:n},i):null,H||(H=l.createElement("path",{fillRule:"evenodd",d:"M14.94 19C2.9 31.06.4 50.6 12.08 64.02l-.02.02C28.06 80 44.03 96 60.01 111.98l42.43-42.44c.97-.86 1.9-1.8 2.8-2.8 12.2-13.7 13.2-34.36-.16-47.72A33.87 33.87 0 0 0 60 16.48 33.87 33.87 0 0 0 14.94 19zm4.01 40.67c-9.44-9.85-8.2-25.16 1.65-35 9.95-9.96 26.63-10 36.58 0l2.83 2.82c12.26-12.26 32.9-14.3 42.9 1.54l-17.1 16.41a13.5 13.5 0 0 0-20.37 6.05l-10.56-6.4V45a13.5 13.5 0 0 0-13.5-13.5c-9.48 0-16.03 10.04-12.47 18.65l-9.96 9.5zM106.17 37c1.78 8.23-.6 17.33-6.9 24.41C87.01 75.15 73.01 87.64 60 100.65L27.86 68.5l-.12-.11-.12-.1a49.89 49.89 0 0 1-3.02-2.96l9.43-9a13.48 13.48 0 0 0 18.3-3.43l12.86 7.8A13.5 13.5 0 0 0 78 69.95c9.24 0 15.8-9.56 12.7-18.1L106.16 37zM35.9 45a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0zM78 50.96a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11z",fill:"currentColor"})))},U=n(5804),Q=JSON.parse('{"v":[{"value":33,"time":1628005368},{"value":33.49774076716826,"time":1628610168},{"value":33.00544183567645,"time":1629214968},{"value":33.7026637942526,"time":1629819768},{"value":33.21936886405405,"time":1630424568},{"value":33.900609590144896,"time":1631029368},{"value":33.17765657755362,"time":1631634168},{"value":33.42924174402081,"time":1632238968},{"value":33.11836183231501,"time":1632843768},{"value":33.370546260351574,"time":1633448568},{"value":32.37624709371832,"time":1634053368},{"value":32.51457619610796,"time":1634658168},{"value":32.289844763651196,"time":1635262968},{"value":32.30345180071158,"time":1635867768},{"value":31.338699866068282,"time":1636472568},{"value":31.599431171640674,"time":1637077368},{"value":31.19599059792039,"time":1637682168},{"value":31.425624659001333,"time":1638286968},{"value":30.687366192207392,"time":1638891768},{"value":31.37955209658077,"time":1639496568},{"value":30.44272814637675,"time":1640101368},{"value":30.443425326447485,"time":1640706168},{"value":30.402280371726427,"time":1641310968},{"value":31.323860910479432,"time":1641915768}],"F":[{"value":31,"time":1628005368},{"value":31.78679751621187,"time":1628610168},{"value":31.73307428969506,"time":1629214968},{"value":32.645659569228435,"time":1629819768},{"value":32.18589215966293,"time":1630424568},{"value":32.36649658122607,"time":1631029368},{"value":32.13494929971301,"time":1631634168},{"value":32.24176261787218,"time":1632238968},{"value":32.23416002963385,"time":1632843768},{"value":33.155464487194166,"time":1633448568},{"value":32.30858974959849,"time":1634053368},{"value":33.240351713622175,"time":1634658168},{"value":32.476820033756304,"time":1635262968},{"value":33.38322664774607,"time":1635867768},{"value":33.112040840762795,"time":1636472568},{"value":33.21270434841732,"time":1637077368},{"value":32.34952853888793,"time":1637682168},{"value":33.309373031504336,"time":1638286968},{"value":32.68788509068168,"time":1638891768},{"value":32.991148534675084,"time":1639496568},{"value":32.019560141931144,"time":1640101368},{"value":32.6775781486036,"time":1640706168},{"value":31.739487272423506,"time":1641310968},{"value":31.957098637385883,"time":1641915768}]}'),K={RootContainer:"RootContainer_A6Cr",HeroContainer:"HeroContainer_SYV_",RootSpacerInner:"RootSpacerInner_HAHd",HeroChartContainer:"HeroChartContainer_Zq_L",HeroTextContainer:"HeroTextContainer_Rj8c",HeroButtonsContainer:"HeroButtonsContainer__Npu",HeroButton:"HeroButton_IQPG",HeroButtonPrimary:"HeroButtonPrimary_hnCB",BelowChartContainer:"BelowChartContainer_t4jv",LargeTextContainer:"LargeTextContainer_tRHh",LargeCardContainer:"LargeCardContainer_BSue",LargeCard:"LargeCard_kKRM",LargeCard1:"LargeCard1_mRLX",LargeCard2:"LargeCard2_kQCm",SmallCardContainer:"SmallCardContainer__zx_",SmallCard:"SmallCard_e76O",SmallCard1:"SmallCard1_neT5",SmallCard4:"SmallCard4_A4pZ",LargeCard3:"LargeCard3_Ztct",SmallCard2:"SmallCard2_rwYc",SmallCard3:"SmallCard3_Qpyp",HeroChartAnimation:"HeroChartAnimation_fV8s",fadein:"fadein_tHRK"},$={from:.5,to:Q.v.length-1.5};function tt(t){return t?{background:{color:"#131722"},textColor:"rgba(248, 249, 253, 1)"}:{background:{color:"rgba(248, 249, 253, 1)"},textColor:"#000000"}}function it(){return window.matchMedia("screen and (min-width: 1279.5px)").matches}function nt(){var t,i,n,e,r=l.useRef(null),o=(t=(0,s.If)().isDarkTheme,i=l.useState(tt(t)),n=i[0],e=i[1],l.useEffect((function(){e(tt(t))}),[t]),n),h=l.useState(K.HeroChartContainer),a=h[0],c=h[1],f=l.useState(null),p=f[0],v=f[1];return l.useEffect((function(){var t=r.current;if(t){var i=(0,u.createChart)(t,{layout:o,rightPriceScale:{borderVisible:!1},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScroll:!1,handleScale:!1}),n=i.addAreaSeries({lineColor:"#FFE902",topColor:"rgba(251, 140, 0, 0.6)",bottomColor:"rgba(251, 140, 0, 0.2)"}),e=i.addAreaSeries({lineColor:"rgba(15, 28, 249, 1)",topColor:"rgba(15, 28, 249, 1)",bottomColor:"rgba(15, 28, 249, 0.2)"});return n.setData(Q.v),e.setData(Q.F),i.timeScale().setVisibleLogicalRange($),it()&&c(K.HeroChartContainer+" "+K.HeroChartAnimation),v(i),function(){i.remove(),v(null)}}}),[]),l.useEffect((function(){if(p&&r.current){var t=r.current,i=function(){if(it()){var i=t.getBoundingClientRect(),n=i.width,e=i.height;p.resize(n,e),p.timeScale().setVisibleLogicalRange($)}else c(K.HeroChartContainer)};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}}),[p]),l.useEffect((function(){p&&p.applyOptions({layout:o})}),[o,p]),l.createElement("div",{className:[a,U.Z.ChartContainer].join(" "),ref:r})}function et(){var t,i=(0,h.Z)().siteConfig;return l.createElement("div",{className:K.RootContainer},l.createElement("div",{className:K.HeroContainer},l.createElement(nt,null),l.createElement("div",{className:K.HeroTextContainer},l.createElement(M,null),l.createElement("p",null,"Free, open-source and feature-rich interactive charts"),l.createElement("div",{className:K.HeroButtonsContainer},l.createElement("a",{className:[K.HeroButton,K.HeroButtonPrimary].join(" "),href:"docs"},"Get Started"),l.createElement("a",{className:K.HeroButton,href:"docs/api"},"API Reference")))),l.createElement("div",{className:K.BelowChartContainer},l.createElement("div",{className:K.LargeTextContainer},l.createElement("h1",null,"Less is more"),l.createElement("div",null,"Millions of websites still use static pictures for showing financial charts. The old way is not interactive and doesn't scale with various devices. Pictures always had a huge advantage of their small size and fast loading\xa0\u2014\xa0but no more!")),l.createElement("div",{className:K.LargeCardContainer},l.createElement("div",{className:[K.LargeCard,K.LargeCard1].join(" ")},l.createElement(X,null),l.createElement("div",{className:K.LargeCardInnerSpacer1}),l.createElement("h2",null,"High-performance"),l.createElement("div",{className:K.LargeCardInnerSpacer2}),l.createElement("p",null,"Our charting solutions were engineered from the start to work with huge data arrays. Charts stay responsive and nimble even with thousands of bars even with updates multiple times per second with new ticks.")),l.createElement("div",{className:[K.LargeCard,K.LargeCard2].join(" ")},l.createElement(D,null),l.createElement("h2",null,"Interactive, responsive and mobile-friendly"),l.createElement("div",{className:K.LargeCardInnerSpacer2}),l.createElement("p",null,"Intelligently adapts to any device. Charts are carefully engineered for best interactivity, both for powerful desktops with a mouse, and touch-optimized for tablets and phones.")),l.createElement("div",{className:[K.LargeCard,K.LargeCard3].join(" ")},l.createElement(J,null),l.createElement("div",{className:K.LargeCardInnerSpacer1}),l.createElement("h2",null,"Finance is at the heart"),l.createElement("div",{className:K.LargeCardInnerSpacer2}),l.createElement("p",null,"Charting is our core. TradingView charts are used by tens of thousands of websites, apps and financial portals, as well as millions of traders around the world. You can be sure that we've included everything you need, starting from popular chart types to advanced price scaling."))),l.createElement("div",{className:K.SmallCardContainer},l.createElement("div",{className:[K.SmallCard,K.SmallCard1].join(" ")},l.createElement(d,null),l.createElement("h3",null,"Integrating & connecting any data is quick and easy"),l.createElement("p",null,"Built for developers, by developers. Charts are rich in features and easy to integrate \u2014 so you can integrate with a breeze.")),l.createElement("div",{className:[K.SmallCard,K.SmallCard2].join(" ")},l.createElement(z,null),l.createElement("h3",null,"Ultra lightweight - just ",null==(t=i.customFields)?void 0:t.bundleSize," Kb"),l.createElement("p",null,"HTML5 Canvas technology no larger than a standard GIF file.")),l.createElement("div",{className:[K.SmallCard,K.SmallCard3].join(" ")},l.createElement(E,null),l.createElement("h3",null,"Open-source "),l.createElement("p",null,"Maintained by TradingView. Hosted on GitHub. Licensed under the Apache License, Version 2.0. Contributions welcome!")),l.createElement("div",{className:[K.SmallCard,K.SmallCard4].join(" ")},l.createElement(W,null),l.createElement("h3",null,"Flexible styling"),l.createElement("p",null,"Change the standard look & feel to match your style with perfection. There are many premade examples that you can copy & paste.")))))}var rt=function(){return l.createElement(a.Z,{title:"Lightweight Charts"},l.createElement(et,null))}},5804:function(t,i){i.Z={ChartContainer:"ChartContainer_Hwvl"}}}]);