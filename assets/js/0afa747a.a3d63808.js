"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5184],{9176:function(t,e,n){n.r(e),n.d(e,{assets:function(){return R},contentTitle:function(){return h},default:function(){return v},frontMatter:function(){return C},metadata:function(){return _},toc:function(){return L}});var r=n(7462),a=n(3366),o=n(7294),i=n(3905),l=n(6383),c=n(5946),s=n(2300),u=function(t){var e=t.data,n=t.colors,r=n.backgroundColor,a=void 0===r?CHART_BACKGROUND_COLOR:r,i=n.lineColor,l=void 0===i?LINE_LINE_COLOR:i,c=n.textColor,u=void 0===c?CHART_TEXT_COLOR:c,p=n.areaTopColor,m=void 0===p?AREA_TOP_COLOR:p,d=n.areaBottomColor,O=void 0===d?AREA_BOTTOM_COLOR:d,C=(0,o.useRef)();return(0,o.useEffect)((function(){var t=function(){n.applyOptions({width:C.current.clientWidth})},n=(0,s.C2)(C.current,{layout:{background:{type:s.Mr.Solid,color:a},textColor:u},width:C.current.clientWidth,height:300});return n.timeScale().fitContent(),n.addAreaSeries({lineColor:l,topColor:m,bottomColor:O}).setData(e),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),n.remove()}}),[e,a,l,u]),o.createElement("div",{ref:C})},p=[{time:"2018-12-22",value:32.51},{time:"2018-12-23",value:31.11},{time:"2018-12-24",value:27.02},{time:"2018-12-25",value:27.32},{time:"2018-12-26",value:25.17},{time:"2018-12-27",value:28.89},{time:"2018-12-28",value:25.46},{time:"2018-12-29",value:23.92},{time:"2018-12-30",value:22.68},{time:"2018-12-31",value:22.67}];function m(t){return o.createElement(u,(0,r.Z)({},t,{data:p}))}var d=n(5804),O=["components"],C={sidebar_label:"Simple example",hide_table_of_contents:!0},h="React - Simple example",_={unversionedId:"react/simple",id:"react/simple",title:"React - Simple example",description:"The following only describes a relatively simple example that only renders an area series that could be tweaked to render any other type of series.",source:"@site/tutorials/react/01-simple.mdx",sourceDirName:"react",slug:"/react/simple",permalink:"/lightweight-charts/tutorials/react/simple",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Simple example",hide_table_of_contents:!0},sidebar:"tutorialsSidebar",previous:{title:"Tutorials",permalink:"/lightweight-charts/tutorials/"},next:{title:"Advanced example",permalink:"/lightweight-charts/tutorials/react/advanced"}},R={},L=[{value:"Preparing your project",id:"preparing-your-project",level:2},{value:"Creating a charting component",id:"creating-a-charting-component",level:2}],f={toc:L};function v(t){var e=t.components,n=(0,a.Z)(t,O);return(0,i.kt)("wrapper",(0,r.Z)({},f,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"react---simple-example"},"React - Simple example"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The following only describes a relatively simple example that only renders an ",(0,i.kt)("a",{parentName:"p",href:"/docs/series-types#area"},"area series")," that could be tweaked to render any other type of ",(0,i.kt)("a",{parentName:"p",href:"/docs/series-types"},"series"),"."),(0,i.kt)("p",{parentName:"div"},"For a more complete scenario where you could wrap Lightweight Charts into a component having sub components, please consult this ",(0,i.kt)("a",{parentName:"p",href:"./advanced"},"example"),"."))),(0,i.kt)("p",null,"On this page you will learn how to easily use Lightweight Charts with React."),(0,i.kt)("h2",{id:"preparing-your-project"},"Preparing your project"),(0,i.kt)("p",null,"For the example purpose we are using ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/brandiqa/react-parcel-starter"},"Parcel starter kit")," but feel free to use any other tool or starter kit."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"git clone git@github.com:brandiqa/react-parcel-starter.git lwc-react\ncd lwc-react\nnpm install\n")),(0,i.kt)("p",null,"To run your project simply"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"npm start\n")),(0,i.kt)("p",null,"This will create a web page accessible by default on ",(0,i.kt)("a",{parentName:"p",href:"http://localhost:1234/"},"http://localhost:1234/"),"."),(0,i.kt)("h2",{id:"creating-a-charting-component"},"Creating a charting component"),(0,i.kt)("p",null,"The example ",(0,i.kt)("em",{parentName:"p"},"React component")," on this page may not fit your requirements completely. Creating a general purpose declarative wrapper for Lightweight Charts' imperative API is a challenge, but hopefully you can adapt this example to your use case."),(0,i.kt)(c.Z,{replaceThemeConstants:!0,className:"language-jsx",mdxType:"CodeBlock"},"import { createChart, ColorType } from 'lightweight-charts';\nimport React, { useEffect, useRef } from 'react';\n\nexport const ChartComponent = props => {\n\tconst {\n\t\tdata,\n\t\tcolors: {\n\t\t\tbackgroundColor = CHART_BACKGROUND_COLOR,\n\t\t\tlineColor = LINE_LINE_COLOR,\n\t\t\ttextColor = CHART_TEXT_COLOR,\n\t\t\tareaTopColor = AREA_TOP_COLOR,\n\t\t\tareaBottomColor = AREA_BOTTOM_COLOR,\n\t\t},\n\t} = props;\n\tconst chartContainerRef = useRef();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tconst handleResize = () => {\n\t\t\t\tchart.applyOptions({ width: chartContainerRef.current.clientWidth });\n\t\t\t};\n\n\t\t\tconst chart = createChart(chartContainerRef.current, {\n\t\t\t\tlayout: {\n\t\t\t\t\tbackground: { type: ColorType.Solid, color: backgroundColor },\n\t\t\t\t\ttextColor,\n\t\t\t\t},\n\t\t\t\twidth: chartContainerRef.current.clientWidth,\n\t\t\t\theight: 300,\n\t\t\t});\n\t\t\tchart.timeScale().fitContent();\n\n\t\t\tconst newSeries = chart.addAreaSeries({\n\t\t\t\tlineColor,\n\t\t\t\ttopColor: areaTopColor,\n\t\t\t\tbottomColor: areaBottomColor,\n\t\t\t});\n\t\t\tnewSeries.setData(data);\n\n\t\t\twindow.addEventListener('resize', handleResize);\n\n\t\t\treturn () => {\n\t\t\t\twindow.removeEventListener('resize', handleResize);\n\n\t\t\t\tchart.remove();\n\t\t\t};\n\t\t},\n\t\t[data, backgroundColor, lineColor, textColor]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tref={chartContainerRef}\n\t\t/>\n\t);\n};\n\nconst initialData = [\n\t{ time: '2018-12-22', value: 32.51 },\n\t{ time: '2018-12-23', value: 31.11 },\n\t{ time: '2018-12-24', value: 27.02 },\n\t{ time: '2018-12-25', value: 27.32 },\n\t{ time: '2018-12-26', value: 25.17 },\n\t{ time: '2018-12-27', value: 28.89 },\n\t{ time: '2018-12-28', value: 25.46 },\n\t{ time: '2018-12-29', value: 23.92 },\n\t{ time: '2018-12-30', value: 22.68 },\n\t{ time: '2018-12-31', value: 22.67 },\n];\n\nexport function App(props) {\n\treturn (\n\t\t<ChartComponent {...props} data={initialData}></ChartComponent>\n\t);\n}\n"),(0,i.kt)("p",null,"and you'll have a reusable component that could then be enhanced, tweaked to meet your needs, adding properties and even functionalities."),(0,i.kt)("p",null,"If you've successfully followed all the steps you should see something similar to"),(0,i.kt)("div",{className:d.Z.ChartContainer},(0,i.kt)(l.Z,{ChartComponent:m,mdxType:"ThemedChart"})))}v.isMDXComponent=!0},5946:function(t,e,n){n.d(e,{Z:function(){return O}});var r=n(3366),a=n(7855),o=n(7294),i=n(1736),l=n(1262),c=n(9366);var s="iframe_R_Fr";var u=function(t){var e=t.script,r=window.origin,a=(0,c.E6)().version,i=function(t,e){return'\n\t\t<style>\n\t\t\thtml,\n\t\t\tbody,\n\t\t\t#container {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\toverflow: hidden;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t</style>\n\t\t<div id="container"></div>\n\t\t<script>\n\t\t\twindow.run = () => {\n\t\t\t\t'+t+"\n\t\t\t};\n\n\t\t\twindow.parent.postMessage('ready', '"+e+"');\n\t\t\twindow.__READY_TO_RUN = true;\n\t\t<\/script>\n\t"}(e,r),l=o.useRef();return o.useEffect((function(){var t=function(t){switch(t){case"current":return n.e(3537).then(n.bind(n,3537));case"3.8":return n.e(193).then(n.bind(n,193))}}(a),e=function(e){t.then((function(t){var n=t.createChart;e.createChart=function(t,r){var a=n(t,r);return e.addEventListener("resize",(function(){var e=t.getBoundingClientRect();a.resize(e.width,e.height)}),!0),a},e.run()}))};if(l.current.contentWindow.__READY_TO_RUN)e(l.current.contentWindow);else{window.addEventListener("message",(function t(n){n.origin===r&&n.source===l.current.contentWindow&&"ready"===n.data&&(e(n.source),window.removeEventListener("message",t,!1))}),!1)}}),[r,i]),o.createElement("iframe",{key:e,ref:l,srcDoc:i,className:s})},p=n(3864),m=["chart","replaceThemeConstants"],d=Object.keys(p.l.DARK);var O=function(t){var e=t.chart,n=t.replaceThemeConstants,O=(0,r.Z)(t,m),C=t.children,h=(0,c.If)().isDarkTheme;return n&&"string"==typeof C&&(C=function(t,e){for(var n,r=e?p.l.DARK:p.l.LIGHT,o=t,i=(0,a.Z)(d);!(n=i()).done;){var l=n.value;o=o.replace(new RegExp(l,"g"),"'"+r[l]+"'")}return o}(C,h)),e?o.createElement(o.Fragment,null,o.createElement(i.Z,O,C),o.createElement(l.Z,{fallback:o.createElement("div",{className:s},"\xa0")},(function(){return o.createElement(u,{script:C})}))):o.createElement(i.Z,O,C)}},6383:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(9366),a=n(7294),o=n(3864);function i(t){return t?{backgroundColor:o.l.DARK.CHART_BACKGROUND_COLOR,lineColor:o.l.DARK.LINE_LINE_COLOR,textColor:o.l.DARK.CHART_TEXT_COLOR,areaTopColor:o.l.DARK.AREA_TOP_COLOR,areaBottomColor:o.l.DARK.AREA_BOTTOM_COLOR}:{backgroundColor:o.l.LIGHT.CHART_BACKGROUND_COLOR,lineColor:o.l.LIGHT.LINE_LINE_COLOR,textColor:o.l.LIGHT.CHART_TEXT_COLOR,areaTopColor:o.l.LIGHT.AREA_TOP_COLOR,areaBottomColor:o.l.LIGHT.AREA_BOTTOM_COLOR}}function l(t){var e=t.ChartComponent,n=function(){var t=(0,r.If)().isDarkTheme,e=(0,a.useState)(i(t)),n=e[0],o=e[1];return(0,a.useEffect)((function(){o(i(t))}),[t]),n}();return a.createElement(e,{colors:n})}},3864:function(t,e,n){n.d(e,{l:function(){return i}});var r=function(t){return"rgba(15, 216, 62, "+t+")"},a=function(t){return"rgb(255, 64, 64, "+t+")"},o=function(t){return"rgba(41, 98, 255, "+t+")"},i={DARK:{CHART_BACKGROUND_COLOR:"black",LINE_LINE_COLOR:o(.9),AREA_TOP_COLOR:o(.5),AREA_BOTTOM_COLOR:o(.2),BAR_UP_COLOR:r(1),BAR_DOWN_COLOR:a(1),BASELINE_TOP_LINE_COLOR:r(1),BASELINE_TOP_FILL_COLOR1:r(.9),BASELINE_TOP_FILL_COLOR2:r(.1),BASELINE_BOTTOM_LINE_COLOR:a(1),BASELINE_BOTTOM_FILL_COLOR1:a(.1),BASELINE_BOTTOM_FILL_COLOR2:a(.9),HISTOGRAM_COLOR:r(1),CHART_TEXT_COLOR:"white"},LIGHT:{CHART_BACKGROUND_COLOR:"white",LINE_LINE_COLOR:o(.9),AREA_TOP_COLOR:o(.5),AREA_BOTTOM_COLOR:o(.05),BAR_UP_COLOR:r(1),BAR_DOWN_COLOR:a(1),BASELINE_TOP_LINE_COLOR:r(.5),BASELINE_TOP_FILL_COLOR1:r(.4),BASELINE_TOP_FILL_COLOR2:r(0),BASELINE_BOTTOM_LINE_COLOR:a(1),BASELINE_BOTTOM_FILL_COLOR1:a(0),BASELINE_BOTTOM_FILL_COLOR2:a(.9),HISTOGRAM_COLOR:r(1),CHART_TEXT_COLOR:"black"}}},5804:function(t,e){e.Z={ChartContainer:"ChartContainer_Hwvl"}}}]);